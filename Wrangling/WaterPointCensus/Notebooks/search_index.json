[["index.html", "Process water point census 1 Introduction", " Process water point census 2025-10-17 1 Introduction This document cleans and processes data from the water point census. "],["import-water-point-census-data.html", "2 Import water point census data 2.1 Load water point dataset 2.2 Save into R format 2.3 De-identify", " 2 Import water point census data Code pacman::p_load( tidyverse, haven, janitor ) 2.1 Load water point dataset Code wp_raw_ug &lt;- read_dta( file.path( path_box, &quot;Data - SHARED WITH IPA&quot;, &quot;Uganda&quot;, &quot;02_Baseline&quot;, &quot;03_Data Cleaning&quot;, &quot;3_post_hfc_data&quot;, &quot;1_Water point Census&quot;, &quot;DIL Water Point Census_checked.dta&quot; ) ) wp_raw_ug_ilc &lt;- read_dta( file.path( path_box, &quot;Data - SHARED WITH IPA&quot;, &quot;Uganda&quot;, &quot;02_Baseline&quot;, &quot;03_Data Cleaning&quot;, &quot;3_post_hfc_data&quot;, &quot;1_Water point Census&quot;, &quot;ILC&quot;, &quot;2_dta&quot;, &quot;DIL Water Point Census_checked_V3.dta&quot; ) ) wp_raw_mw &lt;- read_dta( file.path( path_box, &quot;Data - SHARED WITH IPA&quot;, &quot;Malawi&quot;, &quot;02_Baseline&quot;, &quot;03_Data Cleaning&quot;, &quot;3_post_hfc_data&quot;, &quot;1_waterpoint_census&quot;, &quot;DIL_Waterpoint_Checked_Malawi.dta&quot; ) ) We want to conduct the wrangling and HFCs for both countries at the same time, so we combine them here. Code wp_raw &lt;- map( list( wp_raw_mw, wp_raw_ug #, wp_raw_ug_ilc ), ~ .x %&gt;% remove_empty %&gt;% mutate( across( c( contains(c(&quot;duration&quot;, &quot;timestamp&quot;)) ), ~ as.numeric(.x) ) ) ) %&gt;% bind_rows %&gt;% as_factor(levels = &quot;labels&quot;) ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) 2.2 Save into R format Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Raw&quot;, &quot;wp-census&quot; ) wp_raw %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 2.1: Data summary Name Piped data Number of rows 6156 Number of columns 484 _______________________ Column type frequency: character 176 Date 4 factor 101 numeric 200 POSIXct 3 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace deviceid 0 1.00 15 36 0 166 0 username 2709 0.56 9 9 0 16 0 comments 2709 0.56 0 157 3385 63 0 today 0 1.00 10 11 0 45 0 metadata 0 1.00 49 151 0 6156 0 audio_audit 2709 0.56 0 0 3447 1 0 randomdraw_bc 0 1.00 10 24 0 6155 0 bc_selected 0 1.00 1 1 0 2 0 uid 0 1.00 7 7 0 6156 0 wp_idbck 0 1.00 7 7 0 6156 0 wp_randtxt 0 1.00 2 2 0 1284 0 wp_randnum 0 1.00 11 24 0 6156 0 wp_randnum_int 0 1.00 1 2 0 10 0 wpid_time 0 1.00 1 4 0 2926 0 temp_wp_id 0 1.00 10 12 0 6156 0 districtmw 0 1.00 0 3 2711 10 0 tamw 0 1.00 0 5 2711 49 0 gvhmw 0 1.00 0 7 2711 89 0 villagemw 0 1.00 0 10 2711 105 0 vil_id 0 1.00 10 10 0 166 0 caseid_vil 0 1.00 10 10 0 166 0 country_pl 0 1.00 6 6 0 2 0 district_pl 0 1.00 4 14 0 28 0 ta_name_pl 0 1.00 4 12 0 100 0 gvh_name_pl 0 1.00 4 16 0 146 0 village_id_pl 0 1.00 10 10 0 166 0 lead_zero 0 1.00 1 1 0 1 0 wp_id 0 1.00 9 15 0 1238 0 enumerator 0 1.00 18 168 0 147 0 enumerator_id 0 1.00 4 8 0 146 0 enumerator_name 0 1.00 9 160 0 145 0 water_point_rpt_count 0 1.00 1 1 0 3 0 wp_name_index_1 0 1.00 1 1 0 1 0 wp_name_1 0 1.00 1 61 0 1661 0 wp_name_index_2 0 1.00 0 1 5774 2 0 wp_name_2 0 1.00 0 28 5774 109 0 wp_name_index_3 0 1.00 0 1 6136 2 0 wp_name_3 0 1.00 0 20 6136 8 0 wp_name_index_4 0 1.00 0 0 6156 1 0 wp_name_4 0 1.00 0 0 6156 1 0 cal_wp_name 0 1.00 1 65 0 1696 0 wp_landmarks 0 1.00 0 243 124 3337 0 wp_photo 0 1.00 0 125 124 6033 0 no_wp_photo 0 1.00 0 0 6156 1 0 wp_type_o 0 1.00 0 3 6131 2 0 sections 0 1.00 0 3 3327 11 0 wp_eligible 0 1.00 0 1 602 3 0 wp_func_reason 0 1.00 0 4 6149 4 0 wp_func_reason_ilc 0 1.00 0 8 6142 9 0 wp_func_reason_o 0 1.00 0 75 6152 5 0 wp_pay_purpose 0 1.00 0 4 5754 5 0 wp_pay_purpose_o 0 1.00 0 128 6155 2 0 wp_cost_period_o 0 1.00 0 0 6156 1 0 disp_dsw_id 0 1.00 0 10 5839 281 0 disp_dsw_id2 0 1.00 0 10 5839 281 0 disp_dsw_datephoto 0 1.00 0 125 5882 275 0 no_disp_dsw_datephoto 0 1.00 0 11 6152 5 0 disp_photo 0 1.00 0 125 5729 428 0 no_disp_photo 0 1.00 0 0 6156 1 0 disp_barcode_photo 0 1.00 0 125 5734 423 0 no_disp_barcode_photo 0 1.00 0 0 6156 1 0 disp_barcode 0 1.00 0 7 5734 376 0 disp_barcode2 0 1.00 0 7 5734 376 0 ilc_problems_o 0 1.00 0 168 6144 10 0 ilc_devicepic 0 1.00 0 125 5936 221 0 ilc_devicepic_na 0 1.00 0 140 5766 74 0 ilc_stock_whynot 0 1.00 0 4 6064 3 0 ilc_stock_whynot_o 0 1.00 0 197 6147 8 0 jc_mldispensed_why 0 1.00 0 0 6156 1 0 jc_wait_str 0 1.00 0 4 5653 408 0 jc_wait 0 1.00 0 7 5670 4 0 jc_wait_time_ms 0 1.00 0 0 6156 1 0 jc_wait_time_m 0 1.00 0 0 6156 1 0 jc_wait_end 0 1.00 0 4 5653 443 0 jc_wait_diff 0 1.00 0 5 5653 323 0 test_ilc_disc 0 1.00 0 1 602 3 0 test_dsw_disc 0 1.00 0 1 602 3 0 discid 0 1.00 0 6 5828 128 0 tubeid 0 1.00 0 4 5828 114 0 tubeid_testtube 0 1.00 0 4 5828 138 0 disc_materials 0 1.00 0 13 5828 5 0 discfcr_dpd_photo 0 1.00 0 125 5828 329 0 no_discfcr_dpd_photo 0 1.00 0 0 6156 1 0 discfcr_wait 0 1.00 0 1 5828 2 0 discfcr_vial_photo 0 1.00 0 125 5828 329 0 no_discfcr_vial_photo 0 1.00 0 0 6156 1 0 discfcr_color_o 0 1.00 0 0 6156 1 0 discfcr_comments 0 1.00 0 67 5946 45 0 disctcr_dpd_photo 0 1.00 0 125 5828 329 0 no_disctcr_dpd_photo 0 1.00 0 0 6156 1 0 disctcr_wait 0 1.00 0 1 5833 2 0 disctcr_vial_photo 0 1.00 0 125 5828 329 0 no_disctcr_vial_photo 0 1.00 0 0 6156 1 0 disctcr_color_o 0 1.00 0 0 6156 1 0 disctcr_comments 0 1.00 0 121 5947 48 0 test_ilc_meter 0 1.00 0 1 602 3 0 test_dsw_meter 0 1.00 0 1 602 3 0 meterid 0 1.00 0 5 5830 41 0 meter_materials 0 1.00 0 15 5830 9 0 meterfcr_vialid 0 1.00 0 5 5830 36 0 meterfcr_dpd_photo 0 1.00 0 125 5830 327 0 no_meterfcr_dpd_photo 0 1.00 0 0 6156 1 0 meterfcr_wait 0 1.00 0 1 5836 2 0 meterfcr_error 0 1.00 0 0 6156 1 0 meterfcr_vial_photo 0 1.00 0 125 5830 327 0 no_meterfcr_vial_photo 0 1.00 0 0 6156 1 0 meterfcr_color_o 0 1.00 0 0 6156 1 0 meterfcr_comments 0 1.00 0 55 5936 50 0 metertcr_vialid 0 1.00 0 5 5830 37 0 metertcr_dpd_photo 0 1.00 0 125 5830 327 0 no_metertcr_dpd_photo 0 1.00 0 0 6156 1 0 metertcr_wait 0 1.00 0 1 5834 2 0 metertcr_error 0 1.00 0 4 6153 4 0 metertcr_vial_photo 0 1.00 0 125 5830 327 0 no_metertcr_vial_photo 0 1.00 0 0 6156 1 0 metertcr_color_o 0 1.00 0 0 6156 1 0 metertcr_comments 0 1.00 0 298 5943 55 0 discid_nocl 0 1.00 0 5 5875 108 0 tubeid_nocl 0 1.00 0 4 5875 102 0 tubeid_testtube_nocl 0 1.00 0 4 5875 125 0 disc_nocl_materials 0 1.00 0 13 5875 3 0 discfcr_nocl_dpd_photo 0 1.00 0 125 5875 282 0 no_discfcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 discfcr_nocl_wait 0 1.00 0 1 5875 2 0 discfcr_nocl_vial_photo 0 1.00 0 125 5875 282 0 no_discfcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 discfcr_nocl_color_o 0 1.00 0 5 6154 2 0 discfcr_nocl_comments 0 1.00 0 145 5965 45 0 disctcr_nocl_dpd_photo 0 1.00 0 125 5875 282 0 no_disctcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 disctcr_nocl_wait 0 1.00 0 1 5880 2 0 disctcr_nocl_vial_photo 0 1.00 0 125 5875 282 0 no_disctcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 disctcr_nocl_color_o 0 1.00 0 0 6156 1 0 disctcr_nocl_comments 0 1.00 0 88 5968 46 0 meterid_un 0 1.00 0 5 5942 33 0 meter_nocl_materials 0 1.00 0 15 5942 6 0 meterfcr_nocl_vialid 0 1.00 0 5 5942 33 0 meterfcr_nocl_dpd_photo 0 1.00 0 125 5942 215 0 no_meterfcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 meterfcr_nocl_wait 0 1.00 0 1 5946 2 0 meterfcr_nocl_error 0 1.00 0 4 6155 2 0 meterfcr_nocl_vial_photo 0 1.00 0 125 5943 214 0 no_meterfcr_nocl_vial_photo 0 1.00 0 16 6155 2 0 meterfcr_nocl_color_o 0 1.00 0 0 6156 1 0 meterfcr_nocl_comments 0 1.00 0 84 6019 27 0 metertcr_nocl_vialid 0 1.00 0 5 5942 32 0 metertcr_nocl_dpd_photo 0 1.00 0 125 5943 214 0 no_metertcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 metertcr_nocl_wait 0 1.00 0 1 5945 2 0 metertcr_nocl_error04_mes 0 1.00 0 0 6156 1 0 metertcr_nocl_error 0 1.00 0 125 5971 186 0 no_metertcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 metertcr_nocl_color_o 0 1.00 0 0 6156 1 0 metertcr_nocl_comments 0 1.00 0 68 6014 38 0 enum_comment 0 1.00 0 550 1 1704 0 complete 0 1.00 1 1 0 2 0 key 0 1.00 41 41 0 6156 0 skey 0 1.00 12 12 0 6156 0 districtid 2709 0.56 0 3 3 9 0 districtug 3447 0.44 0 3 1 21 0 subcountyug 3447 0.44 0 5 1 55 0 parishug 3447 0.44 0 7 1 62 0 village 3447 0.44 0 10 1 64 0 subcounty_name_pl 3447 0.44 0 10 25 54 0 key_pl 3447 0.44 0 0 2709 1 0 wp_key_pl 3447 0.44 4 4 0 62 0 parish_name_pl 3447 0.44 0 16 25 59 0 village_name_pl 3447 0.44 5 18 0 63 0 country 3447 0.44 2 2 0 42 0 wp_name_index_5 3447 0.44 0 0 2709 1 0 wp_name_5 3447 0.44 0 0 2709 1 0 review_comments 3447 0.44 0 95 2256 20 0 survey_start1meter_nocl_grp1mete 3447 0.44 0 17 2695 15 0 village_pl 3447 0.44 0 0 2709 1 0 _hfcokayvar 3447 0.44 1 1 0 1 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique disp_dsw_date 5927 0.04 1992-06-15 2025-08-01 2023-02-14 106 startdate 0 1.00 2025-07-02 2025-08-22 2025-07-30 42 enddate 0 1.00 2025-07-02 2025-08-23 2025-07-30 45 subdate 0 1.00 2025-07-02 2025-08-23 2025-07-30 46 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts countryl 414 0.93 FALSE 2 Mal: 3445, Uga: 2297 confirm_details_yn 0 1.00 FALSE 1 Yes: 6156, No: 0 wp_drink 0 1.00 FALSE 2 Yes: 5596, No: 560 wp_multicompound 0 1.00 FALSE 2 Yes: 5776, No: 380 wp_func 0 1.00 FALSE 2 Yes: 5317, No: 839 wp_type 584 0.91 FALSE 13 Bor: 2667, Mun: 1163, Pro: 560, Pro: 303 wp_ilc_device 599 0.90 FALSE 2 No: 4870, Yes: 687, Don: 0 wp_ilc_evac 5470 0.11 FALSE 2 Yes: 546, No: 140, Don: 0 wp_dsw 1347 0.78 FALSE 2 No: 2810, Yes: 1999 wp_ilc 2532 0.59 FALSE 2 No: 2767, Yes: 857, Don: 0 wp_promoter 3434 0.44 FALSE 2 No: 2418, Yes: 304, Don: 0 wp_func_last 6134 0.00 FALSE 4 Les: 8, Bet: 8, Bet: 3, Mor: 3 wp_turbidity 5519 0.10 FALSE 4 1: 443, 2: 150, 3: 42, 4: 2 wp_pay 5520 0.10 FALSE 2 Yes: 402, No: 234, Don: 0 wp_cost_period 5755 0.07 FALSE 7 As : 193, Mon: 146, Ann: 47, Qua: 9 disp_tank_present 5724 0.07 FALSE 2 Yes: 412, No: 20 disp_casing_present 5729 0.07 FALSE 2 Yes: 426, No: 1 disp_pvc_pole_present 5724 0.07 FALSE 2 Yes: 431, No: 1 disp_dsw_id_yn 5729 0.07 FALSE 2 Yes: 317, No: 110 disp_dsw_gen 5729 0.07 FALSE 2 Gen: 410, Gen: 17, Can: 0, Gen: 0 disp_barcode_yn 5729 0.07 FALSE 2 Yes: 422, No: 5 ilc_climb 5919 0.04 FALSE 2 Yes: 183, No: 54 ilc_operator 5919 0.04 FALSE 2 Yes: 157, No: 80 ilc_tabletholder 5923 0.04 FALSE 2 Yes: 208, No: 25, Don: 0 ilc_covercap 5924 0.04 FALSE 2 Yes: 216, No: 16, Don: 0 ilc_deviceclamped 5924 0.04 FALSE 2 Yes: 216, No: 16, Don: 0 ilc_devicefunc 5923 0.04 FALSE 2 Yes: 191, No: 42, Don: 0 ilc_connections 5926 0.04 FALSE 2 No: 218, Yes: 12, Don: 0 ilc_problems 5925 0.04 FALSE 2 No: 219, Yes: 12, Don: 0 ilc_stock 5919 0.04 FALSE 2 Yes: 145, No: 92 jc_valve 5557 0.10 FALSE 2 Yes: 598, No: 1 jc_chlorine 5558 0.10 FALSE 2 Yes: 502, No: 96, Don: 0 jc_mllost 5557 0.10 FALSE 2 No: 441, Yes: 158 discfcr_comp_rinse 5828 0.05 FALSE 1 Ack: 328 discfcr_comp_insert 5828 0.05 FALSE 1 Ack: 328 discfcr_test_rinse 5828 0.05 FALSE 1 Ack: 328 discfcr_test_dpd_nt 5828 0.05 FALSE 1 Ack: 328 discfcr_read 5828 0.05 FALSE 1 Ack: 328 discfcr_color 5828 0.05 FALSE 4 3 -: 162, 2 -: 66, 1 -: 62, 4 -: 38 discfcr_dispose_nt 5828 0.05 FALSE 1 Ack: 328 disctcr_test_rinse 5828 0.05 FALSE 1 Ack: 328 disctcr_test_dpd_nt 5828 0.05 FALSE 1 Ack: 328 disctcr_read 5828 0.05 FALSE 1 Ack: 328 disctcr_color 5828 0.05 FALSE 4 3 -: 149, 4 -: 76, 2 -: 54, 1 -: 49 disctcr_dispose_nt 5828 0.05 FALSE 1 Ack: 328 meter_intro 5830 0.05 FALSE 1 Ack: 326 meterfcr_check 5830 0.05 FALSE 1 Ack: 326 meterfcr_rinse 5830 0.05 FALSE 1 Ack: 326 meterfcr_insert 5830 0.05 FALSE 1 Ack: 326 meterfcr_zero 5830 0.05 FALSE 1 Yes: 326, No: 0 meterfcr_dpd_add 5830 0.05 FALSE 1 Ack: 326 meterfcr_read 5830 0.05 FALSE 1 Ack: 326 meterfcr_error04 6145 0.00 FALSE 1 Yes: 11, No: 0 meterfcr_color 5830 0.05 FALSE 4 3 -: 129, 4 -: 105, 1 -: 55, 2 -: 37 meterfcr_dispose_nt 5830 0.05 FALSE 1 Ack: 326 metertcr_check 5830 0.05 FALSE 1 Ack: 326 metertcr_rinse 5830 0.05 FALSE 1 Ack: 326 metertcr_insert 5830 0.05 FALSE 1 Ack: 326 metertcr_zero 5830 0.05 FALSE 1 Yes: 326, No: 0 metertcr_dpd_add 5830 0.05 FALSE 1 Ack: 326 metertcr_read 5830 0.05 FALSE 1 Ack: 326 metertcr_error04 6142 0.00 FALSE 1 Yes: 14, No: 0 metertcr_color 5830 0.05 FALSE 4 4 -: 144, 3 -: 103, 1 -: 50, 2 -: 29 metertcr_dispose_nt 5830 0.05 FALSE 1 Ack: 326 water_dispose 5830 0.05 FALSE 1 Ack: 326 empt_rinse 5560 0.10 FALSE 1 Ack: 596 discfcr_nocl_comp_rinse 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_comp_insert 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_test_rinse 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_test_dpd_nt 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_read 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_color 5875 0.05 FALSE 3 1 -: 270, 2 -: 9, Oth: 2, 3 -: 0 discfcr_nocl_dispose_nt 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_test_rinse 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_test_dpd_nt 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_read 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_color 5875 0.05 FALSE 2 1 -: 250, 2 -: 31, Oth: 0, 3 -: 0 disctcr_nocl_dispose_nt 5875 0.05 FALSE 1 Ack: 281 meter_nocl_intro 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_check 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_rinse 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_insert 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_zero 5942 0.03 FALSE 1 Yes: 214, No: 0 meterfcr_nocl_dpd_add 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_read 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_color 5942 0.03 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 meterfcr_nocl_dispose_nt 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_check 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_rinse 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_insert 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_zero 5942 0.03 FALSE 1 Yes: 214, No: 0 metertcr_nocl_dpd_add 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_read 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_color 5942 0.03 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 metertcr_nocl_dispose_nt 5942 0.03 FALSE 1 Ack: 214 water_dispose_un 5942 0.03 FALSE 1 Ack: 214 wp_use 25 1.00 FALSE 2 Yes: 3326, No: 2805 wp_use_howmuch 2913 0.53 FALSE 3 Mor: 1481, Onl: 1196, Two: 566, Don: 0 dsw_use 4171 0.32 FALSE 2 No: 1753, Yes: 232 dsw_use_howmuch 5926 0.04 FALSE 3 Onl: 181, Two: 26, Mor: 23, Don: 0 metertcr_nocl_error04 6154 0.00 FALSE 1 Yes: 2, No: 0 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist duration 0 1.00 519.42 1051.50 1.00 8.00 39.00 507.25 9676.00 ▇▁▁▁▁ duration_min 0 1.00 17.36 19.90 1.37 5.65 9.00 19.18 161.00 ▇▁▁▁▁ wp_count 0 1.00 6.89 6.56 1.00 2.00 5.00 9.00 45.00 ▇▂▁▁▁ num_wp_names 0 1.00 1.07 0.26 1.00 1.00 1.00 1.00 3.00 ▇▁▁▁▁ wp_gpslatitude 0 1.00 -8.13 7.93 -15.98 -15.35 -14.38 0.80 1.38 ▇▁▁▁▆ wp_gpslongitude 0 1.00 34.59 0.78 32.89 33.96 34.62 35.31 35.64 ▂▃▃▃▇ wp_gpsaltitude 0 1.00 903.03 333.53 0.00 618.48 1010.65 1133.52 1928.90 ▁▇▇▃▁ wp_gpsaccuracy 0 1.00 24.33 256.78 0.60 4.10 4.60 4.80 5000.00 ▇▁▁▁▁ sections_1 3325 0.46 0.23 0.42 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ sections_2 3325 0.46 0.13 0.34 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_3 3325 0.46 0.13 0.34 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_4 3325 0.46 0.10 0.30 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_5 3325 0.46 0.08 0.26 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_0 3325 0.46 0.33 0.47 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▃ wp_func_reason_1 6149 0.00 0.14 0.38 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_2 6149 0.00 0.71 0.49 0.00 0.50 1.00 1.00 1.00 ▃▁▁▁▇ wp_func_reason_6 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_7 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_8 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason__666 6149 0.00 0.29 0.49 0.00 0.00 0.00 0.50 1.00 ▇▁▁▁▃ wp_func_reason__999 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_ilc_1 6142 0.00 0.64 0.50 0.00 0.00 1.00 1.00 1.00 ▅▁▁▁▇ wp_func_reason_ilc_2 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_3 6142 0.00 0.14 0.36 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_4 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_5 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_6 6142 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_ilc_7 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_8 6142 0.00 0.21 0.43 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ wp_func_reason_ilc__666 6142 0.00 0.21 0.43 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ wp_func_reason_ilc__999 6142 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_pay_purpose_1 5754 0.07 0.06 0.25 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_pay_purpose_2 5754 0.07 0.94 0.23 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ wp_pay_purpose__666 5754 0.07 0.00 0.05 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_cost 5763 0.06 1314.12 1679.82 50.00 500.00 1000.00 1000.00 15000.00 ▇▁▁▁▁ disp_dsw_date_yn 6024 0.02 0.97 0.17 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ ilc_wcps 5925 0.04 65.34 659.75 1.00 2.00 31.00 31.00 9999.00 ▇▁▁▁▁ ilc_stock_whynot_1 6064 0.01 0.90 0.30 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ ilc_stock_whynot__666 6064 0.01 0.10 0.30 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ ilc_tabletstock 6011 0.02 2.99 1.03 0.00 3.00 3.00 3.00 10.00 ▁▇▁▁▁ jc_mldispensed 5654 0.08 2.95 0.45 1.20 3.00 3.00 3.00 7.30 ▁▇▁▁▁ jc_mldispensed2 6082 0.01 2.91 1.04 1.50 2.30 2.75 3.00 7.30 ▇▇▂▁▁ disc_materials_1 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_2 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_3 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_4 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_5 5828 0.05 0.99 0.11 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_6 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_7 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ discfcr_timestamp0 5900 0.04 2216.51 981.36 141.00 2093.25 2524.50 2778.75 5470.00 ▃▂▇▁▁ discfcr_timestamp1 5828 0.05 2485.23 1040.77 152.00 2198.25 2696.50 3074.50 5805.00 ▂▂▇▁▁ discfcr_timestamp2 5828 0.05 2607.82 1049.69 400.00 2297.00 2814.50 3239.25 5866.00 ▃▂▇▁▁ discfcr 5828 0.05 0.62 0.52 0.00 0.20 0.60 0.80 3.20 ▇▅▁▁▁ discfcr_confirm 5828 0.05 0.62 0.52 0.00 0.20 0.60 0.80 3.20 ▇▅▁▁▁ disctcr_timestamp0 5900 0.04 2665.73 1066.99 477.00 2420.00 2907.50 3290.00 6145.00 ▃▃▇▁▁ disctcr_timestamp1 5828 0.05 2873.04 1110.88 519.00 2502.75 3046.00 3503.00 6515.00 ▃▃▇▁▁ disctcr_timestamp2 5828 0.05 3126.96 1109.34 606.00 2746.75 3290.50 3764.00 6722.00 ▂▃▇▂▁ disctcr 5828 0.05 0.80 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ disctcr_confirm 5828 0.05 0.80 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ meter_materials_1 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_2 5830 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_3 5830 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_materials_4 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_5 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_6 5830 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_7 5830 0.05 0.98 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_8 5830 0.05 0.98 0.13 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meterfcr_timestamp0 5903 0.04 2236.94 937.14 206.00 2088.00 2479.00 2771.00 5353.00 ▂▂▇▁▁ meterfcr_timestamp1 5830 0.05 2426.38 1048.82 234.00 2119.25 2592.00 2959.50 7330.00 ▃▇▂▁▁ meterfcr_timestamp2 6156 0.00 NaN NA NA NA NA NA NA meterfcr_timestamp3 5830 0.05 2531.65 1057.62 257.00 2198.50 2664.00 3059.75 7670.00 ▂▇▂▁▁ meterfcr_timestamp4 5830 0.05 2657.35 1061.64 291.00 2334.25 2815.50 3184.50 7747.00 ▂▇▂▁▁ meterfcr 5830 0.05 0.87 0.70 0.00 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_confirm 5830 0.05 0.87 0.70 0.00 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_timestamp5 5830 0.05 2737.46 1079.77 342.00 2381.00 2883.50 3289.25 7913.00 ▂▇▃▁▁ meterfcr_timestamp6 5830 0.05 2762.56 1088.01 343.00 2389.75 2899.50 3297.75 8000.00 ▂▇▂▁▁ metertcr_timestamp0 5903 0.04 2699.74 1019.35 343.00 2470.00 2899.00 3239.00 5967.00 ▂▂▇▁▁ metertcr_timestamp1 5830 0.05 2859.10 1104.24 361.00 2455.75 2994.50 3453.50 8160.00 ▃▇▃▁▁ metertcr_timestamp2 6156 0.00 NaN NA NA NA NA NA NA metertcr_timestamp3 5830 0.05 2940.55 1131.74 386.00 2529.25 3091.50 3516.25 8850.00 ▂▇▂▁▁ metertcr_timestamp4 5830 0.05 3237.69 1157.42 784.00 2762.75 3383.50 3817.00 9295.00 ▂▇▁▁▁ metertcr 5830 0.05 92.97 956.15 0.00 0.38 0.93 1.45 9999.00 ▇▁▁▁▁ metertcr_confirm 5830 0.05 92.97 956.15 0.00 0.38 0.93 1.45 9999.00 ▇▁▁▁▁ metertcr_timestamp5 5831 0.05 3365.89 1190.48 838.00 2861.00 3451.00 4017.00 9364.00 ▃▇▂▁▁ metertcr_timestamp6 5830 0.05 3390.41 1201.17 839.00 2870.25 3470.00 4061.00 9414.00 ▃▇▂▁▁ disc_nocl_materials_1 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_2 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_3 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_4 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_5 5875 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_nocl_materials_6 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_7 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ discfcr_nocl_timestamp0 5875 0.05 702.94 358.09 200.00 442.00 622.00 860.00 2396.00 ▇▆▂▁▁ discfcr_nocl_timestamp1 5875 0.05 948.20 430.85 240.00 633.00 872.00 1161.00 2895.00 ▇▇▂▁▁ discfcr_nocl_timestamp2 5875 0.05 1061.64 427.09 277.00 748.00 1007.00 1288.00 3015.00 ▆▇▂▁▁ discfcr_un 5875 0.05 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ discfcr_nocl_confirm_un 5875 0.05 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_timestamp0 5875 0.05 1159.83 457.04 307.00 825.00 1102.00 1413.00 3179.00 ▅▇▂▁▁ disctcr_nocl_timestamp1 5875 0.05 1279.29 492.72 322.00 929.00 1223.00 1551.00 3364.00 ▅▇▃▁▁ disctcr_nocl_timestamp2 5875 0.05 1521.59 502.67 349.00 1165.00 1489.00 1795.00 3640.00 ▂▇▅▁▁ disctcr_un 5875 0.05 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_confirm_un 5875 0.05 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ meter_nocl_materials_1 5942 0.03 0.99 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_nocl_materials_2 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_3 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_4 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_5 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_6 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_7 5942 0.03 0.99 0.10 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_nocl_materials_8 5942 0.03 0.99 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meterfcr_nocl_timestamp0 5942 0.03 722.39 399.62 191.00 455.25 645.00 905.75 3718.00 ▇▂▁▁▁ meterfcr_nocl_timestamp1 5942 0.03 900.67 426.22 240.00 596.00 821.50 1105.50 3735.00 ▇▅▁▁▁ meterfcr_nocl_timestamp2 6156 0.00 NaN NA NA NA NA NA NA meterfcr_nocl_timestamp3 5942 0.03 1021.50 440.12 280.00 707.00 949.00 1257.50 3772.00 ▇▆▁▁▁ meterfcr_nocl_timestamp4 5942 0.03 1132.05 442.82 402.00 805.50 1078.00 1365.75 3894.00 ▇▆▁▁▁ meterfcr_un 5942 0.03 46.78 683.51 0.00 0.01 0.03 0.06 9999.00 ▇▁▁▁▁ meterfcr_nocl_confirm_un 5942 0.03 46.78 683.51 0.00 0.01 0.03 0.06 9999.00 ▇▁▁▁▁ meterfcr_nocl_timestamp5 5942 0.03 1215.73 451.82 436.00 881.00 1154.50 1467.25 3935.00 ▇▇▁▁▁ meterfcr_nocl_timestamp6 5942 0.03 1243.01 459.83 447.00 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp0 5942 0.03 1243.01 459.83 447.00 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp1 5942 0.03 1347.57 485.70 480.00 976.25 1319.50 1644.75 3966.00 ▇▇▂▁▁ metertcr_nocl_timestamp2 6156 0.00 NaN NA NA NA NA NA NA metertcr_nocl_timestamp3 5942 0.03 1433.34 508.89 503.00 1037.75 1389.50 1703.75 4249.00 ▇▇▂▁▁ metertcr_nocl_timestamp4 5942 0.03 1738.61 577.21 703.00 1317.75 1697.00 2036.75 4439.00 ▆▇▂▁▁ metertcr_un 5942 0.03 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_confirm_un 5942 0.03 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_timestamp5 5942 0.03 1899.84 724.11 818.00 1416.75 1786.50 2215.50 5882.00 ▇▆▁▁▁ metertcr_nocl_timestamp6 5942 0.03 1912.97 726.15 821.00 1421.50 1793.50 2219.00 5885.00 ▇▆▁▁▁ formdef_version 0 1.00 2507516910.84 419691.30 2507012214.00 2507202311.00 2507242120.00 2508052234.00 2508162346.00 ▇▁▁▁▅ meterfcr_timestamp0_hfc 6004 0.02 31.97 16.67 3.00 13.75 38.00 44.00 61.00 ▅▂▃▇▂ meterfcr_timestamp1_hfc 5972 0.03 34.43 16.96 4.00 17.00 40.00 47.00 66.00 ▆▂▆▇▂ meterfcr_timestamp3_hfc 5972 0.03 36.22 17.10 4.00 19.75 41.00 48.00 69.00 ▆▂▇▇▂ meterfcr_timestamp4_hfc 5972 0.03 38.44 17.39 5.00 21.00 44.00 50.25 71.00 ▅▂▅▇▂ meterfcr_timestamp5_hfc 5972 0.03 39.68 17.61 6.00 22.00 45.00 52.00 73.00 ▆▂▆▇▃ meterfcr_timestamp6_hfc 5972 0.03 40.01 17.68 6.00 23.75 45.00 52.00 76.00 ▆▂▇▆▂ metertcr_timestamp0_hfc 6004 0.02 39.20 17.63 6.00 20.75 44.50 51.25 73.00 ▆▂▆▇▂ metertcr_timestamp1_hfc 5972 0.03 41.48 17.74 6.00 26.00 46.00 53.25 78.00 ▆▂▇▇▂ metertcr_timestamp3_hfc 5972 0.03 42.60 17.99 6.00 27.00 46.50 54.25 80.00 ▅▃▇▇▂ metertcr_timestamp4_hfc 5972 0.03 47.76 18.79 13.00 31.75 52.00 60.00 93.00 ▅▃▇▃▁ metertcr_timestamp5_hfc 5972 0.03 49.60 19.11 14.00 32.75 52.50 61.00 94.00 ▅▃▇▃▁ metertcr_timestamp6_hfc 5972 0.03 49.99 19.40 14.00 35.25 53.00 62.00 101.00 ▅▃▇▂▁ discfcr_timestamp0_hfc 6002 0.03 31.99 17.56 4.00 12.00 39.00 44.00 82.00 ▅▁▇▁▁ discfcr_timestamp1_hfc 5972 0.03 35.86 18.14 5.00 17.00 41.00 48.00 87.00 ▅▂▇▂▁ discfcr_timestamp2_hfc 5972 0.03 37.89 18.10 7.00 19.75 43.00 49.25 90.00 ▅▂▇▂▁ jc_wait_diff_hfc 5919 0.04 -25.86 11.35 -51.00 -32.00 -31.00 -23.00 0.00 ▁▇▅▁▃ jc_wait_hfc 5932 0.04 144.17 2001.73 0.00 0.00 0.00 0.00 29872.00 ▇▁▁▁▁ lat1 2709 0.56 -15.15 0.49 -15.98 -15.52 -15.32 -14.80 -14.18 ▃▇▅▂▅ lon1 2709 0.56 35.20 0.30 34.42 35.07 35.30 35.43 35.64 ▂▂▂▇▅ lat2 2726 0.56 -15.15 0.49 -15.98 -15.52 -15.33 -14.80 -14.18 ▃▇▅▂▅ lon2 2726 0.56 35.21 0.30 34.42 35.07 35.30 35.43 35.64 ▂▂▂▇▆ lat3 2732 0.56 -15.15 0.49 -15.98 -15.52 -15.31 -14.80 -14.18 ▃▇▅▂▅ lon3 2732 0.56 35.21 0.30 34.42 35.07 35.30 35.42 35.64 ▂▁▂▇▅ lat4 2747 0.55 -15.15 0.49 -15.98 -15.52 -15.32 -14.80 -14.18 ▃▇▃▂▅ lon4 2747 0.55 35.21 0.30 34.42 35.07 35.30 35.41 35.64 ▂▁▂▇▅ lat5 2971 0.52 -15.15 0.50 -15.98 -15.53 -15.33 -14.68 -14.18 ▃▇▃▂▅ lon5 2971 0.52 35.21 0.29 34.42 35.08 35.30 35.43 35.64 ▂▁▂▇▅ dist_1_2 2726 0.56 0.09 1.05 0.00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_3 2732 0.56 0.23 1.36 0.00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_4 2747 0.55 0.27 1.83 0.00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_1_5 2971 0.52 0.15 1.76 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_2_3 2732 0.56 0.23 1.25 0.00 0.00 0.01 0.01 12.30 ▇▁▁▁▁ dist_2_4 2747 0.55 0.26 1.75 0.00 0.00 0.01 0.01 30.74 ▇▁▁▁▁ dist_2_5 2971 0.52 0.07 1.40 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_3_4 2747 0.55 0.42 1.94 0.00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_3_5 2971 0.52 0.30 1.89 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_4_5 2971 0.52 0.34 2.28 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ max_dist_at_point 2726 0.56 0.53 2.57 0.00 0.00 0.00 0.00 35.00 ▇▁▁▁▁ waterpoint_count 2709 0.56 5.13 0.87 1.00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ flag_not_5 2709 0.56 0.19 0.40 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ obs_count 2709 0.56 5.14 0.87 1.00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ survey_start1water_point_gpr1wp_ 6131 0.00 0.40 0.50 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▅ fcr1_start 6012 0.02 2910.59 796.17 152.00 2637.00 2906.00 3283.75 5805.00 ▁▁▇▂▁ fcr2_end 6012 0.02 3036.54 825.39 400.00 2761.50 3024.50 3359.75 5866.00 ▁▁▇▂▁ mtcr1_start 6014 0.02 2891.77 895.81 684.00 2494.75 2833.50 3196.25 7330.00 ▁▇▂▁▁ tcr1_start 6014 0.02 2891.77 895.81 684.00 2494.75 2833.50 3196.25 7330.00 ▁▇▂▁▁ tcr3_start 6014 0.02 2997.42 909.59 787.00 2587.75 2947.00 3278.25 7670.00 ▁▇▁▁▁ tcr4_end 6014 0.02 3114.58 901.35 854.00 2697.00 3036.00 3407.25 7747.00 ▁▇▁▁▁ tcr5_start 6014 0.02 3200.53 922.04 920.00 2744.75 3109.50 3505.25 7913.00 ▁▇▁▁▁ tcr6_end 6014 0.02 3232.29 933.76 988.00 2748.50 3151.00 3558.75 8000.00 ▁▇▁▁▁ fcrhr1_start 6014 0.02 3342.13 958.64 1059.00 2835.50 3264.50 3695.50 8160.00 ▁▇▁▁▁ fcrhr3_start 6014 0.02 3439.46 999.85 1077.00 2937.25 3321.00 3812.75 8850.00 ▁▇▁▁▁ fcrhr4_end 6014 0.02 3721.22 1011.32 1366.00 3213.75 3617.00 4064.75 9295.00 ▁▇▁▁▁ fcrhr5_start 6015 0.02 3875.97 1047.35 1410.00 3340.00 3727.00 4238.00 9364.00 ▁▇▂▁▁ fcrhr6_end 6014 0.02 3897.23 1052.38 1412.00 3343.25 3784.00 4256.50 9414.00 ▁▇▂▁▁ fcr_duration 6012 0.02 125.95 252.58 -1.00 60.75 93.00 128.25 3040.00 ▇▁▁▁▁ tcr_duration2 6014 0.02 117.17 187.12 35.00 55.00 77.00 122.50 1856.00 ▇▁▁▁▁ tcr_duration3 6014 0.02 31.76 41.82 1.00 2.00 5.00 58.50 169.00 ▇▂▂▁▁ fcrhr_duration2 6014 0.02 281.76 155.01 185.00 207.25 240.50 299.00 1188.00 ▇▁▁▁▁ fcrhr_duration3 6015 0.02 18.11 40.62 1.00 2.00 2.00 5.00 283.00 ▇▁▁▁▁ photo2 3839 0.38 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disp_barcode_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ discfcr_dpd_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ discfcr_vial_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ disctcr_dpd_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ disctcr_vial_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ meterfcr_dpd_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ meterfcr_vial_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ metertcr_dpd_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ metertcr_vial_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ _hfcokay 3447 0.44 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 17:47:15 5938 starttime 0 1 2025-07-02 10:19:21 2025-08-22 12:43:50 2025-07-30 10:28:28 6010 endtime 0 1 2025-07-02 10:32:26 2025-08-23 06:30:03 2025-07-30 13:22:12 5957 2.3 De-identify Code wp_raw_deid &lt;- wp_raw %&gt;% dplyr::filter(month(submissiondate) &lt; 9) %&gt;% select( -c( enumerator, enumerator_name, wp_name_1:cal_wp_name, wp_landmarks ) ) path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Raw&quot;, &quot;wp-census-deid&quot; ) wp_raw_deid %&gt;% write_dta( file.path( path_box, paste0(path, &quot;.dta&quot;) ) ) wp_raw_deid %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 2.2: Data summary Name Piped data Number of rows 6156 Number of columns 473 _______________________ Column type frequency: character 165 Date 4 factor 101 numeric 200 POSIXct 3 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace deviceid 0 1.00 15 36 0 166 0 username 2709 0.56 9 9 0 16 0 comments 2709 0.56 0 157 3385 63 0 today 0 1.00 10 11 0 45 0 metadata 0 1.00 49 151 0 6156 0 audio_audit 2709 0.56 0 0 3447 1 0 randomdraw_bc 0 1.00 10 24 0 6155 0 bc_selected 0 1.00 1 1 0 2 0 uid 0 1.00 7 7 0 6156 0 wp_idbck 0 1.00 7 7 0 6156 0 wp_randtxt 0 1.00 2 2 0 1284 0 wp_randnum 0 1.00 11 24 0 6156 0 wp_randnum_int 0 1.00 1 2 0 10 0 wpid_time 0 1.00 1 4 0 2926 0 temp_wp_id 0 1.00 10 12 0 6156 0 districtmw 0 1.00 0 3 2711 10 0 tamw 0 1.00 0 5 2711 49 0 gvhmw 0 1.00 0 7 2711 89 0 villagemw 0 1.00 0 10 2711 105 0 vil_id 0 1.00 10 10 0 166 0 caseid_vil 0 1.00 10 10 0 166 0 country_pl 0 1.00 6 6 0 2 0 district_pl 0 1.00 4 14 0 28 0 ta_name_pl 0 1.00 4 12 0 100 0 gvh_name_pl 0 1.00 4 16 0 146 0 village_id_pl 0 1.00 10 10 0 166 0 lead_zero 0 1.00 1 1 0 1 0 wp_id 0 1.00 9 15 0 1238 0 enumerator_id 0 1.00 4 8 0 146 0 water_point_rpt_count 0 1.00 1 1 0 3 0 wp_name_index_1 0 1.00 1 1 0 1 0 wp_photo 0 1.00 0 125 124 6033 0 no_wp_photo 0 1.00 0 0 6156 1 0 wp_type_o 0 1.00 0 3 6131 2 0 sections 0 1.00 0 3 3327 11 0 wp_eligible 0 1.00 0 1 602 3 0 wp_func_reason 0 1.00 0 4 6149 4 0 wp_func_reason_ilc 0 1.00 0 8 6142 9 0 wp_func_reason_o 0 1.00 0 75 6152 5 0 wp_pay_purpose 0 1.00 0 4 5754 5 0 wp_pay_purpose_o 0 1.00 0 128 6155 2 0 wp_cost_period_o 0 1.00 0 0 6156 1 0 disp_dsw_id 0 1.00 0 10 5839 281 0 disp_dsw_id2 0 1.00 0 10 5839 281 0 disp_dsw_datephoto 0 1.00 0 125 5882 275 0 no_disp_dsw_datephoto 0 1.00 0 11 6152 5 0 disp_photo 0 1.00 0 125 5729 428 0 no_disp_photo 0 1.00 0 0 6156 1 0 disp_barcode_photo 0 1.00 0 125 5734 423 0 no_disp_barcode_photo 0 1.00 0 0 6156 1 0 disp_barcode 0 1.00 0 7 5734 376 0 disp_barcode2 0 1.00 0 7 5734 376 0 ilc_problems_o 0 1.00 0 168 6144 10 0 ilc_devicepic 0 1.00 0 125 5936 221 0 ilc_devicepic_na 0 1.00 0 140 5766 74 0 ilc_stock_whynot 0 1.00 0 4 6064 3 0 ilc_stock_whynot_o 0 1.00 0 197 6147 8 0 jc_mldispensed_why 0 1.00 0 0 6156 1 0 jc_wait_str 0 1.00 0 4 5653 408 0 jc_wait 0 1.00 0 7 5670 4 0 jc_wait_time_ms 0 1.00 0 0 6156 1 0 jc_wait_time_m 0 1.00 0 0 6156 1 0 jc_wait_end 0 1.00 0 4 5653 443 0 jc_wait_diff 0 1.00 0 5 5653 323 0 test_ilc_disc 0 1.00 0 1 602 3 0 test_dsw_disc 0 1.00 0 1 602 3 0 discid 0 1.00 0 6 5828 128 0 tubeid 0 1.00 0 4 5828 114 0 tubeid_testtube 0 1.00 0 4 5828 138 0 disc_materials 0 1.00 0 13 5828 5 0 discfcr_dpd_photo 0 1.00 0 125 5828 329 0 no_discfcr_dpd_photo 0 1.00 0 0 6156 1 0 discfcr_wait 0 1.00 0 1 5828 2 0 discfcr_vial_photo 0 1.00 0 125 5828 329 0 no_discfcr_vial_photo 0 1.00 0 0 6156 1 0 discfcr_color_o 0 1.00 0 0 6156 1 0 discfcr_comments 0 1.00 0 67 5946 45 0 disctcr_dpd_photo 0 1.00 0 125 5828 329 0 no_disctcr_dpd_photo 0 1.00 0 0 6156 1 0 disctcr_wait 0 1.00 0 1 5833 2 0 disctcr_vial_photo 0 1.00 0 125 5828 329 0 no_disctcr_vial_photo 0 1.00 0 0 6156 1 0 disctcr_color_o 0 1.00 0 0 6156 1 0 disctcr_comments 0 1.00 0 121 5947 48 0 test_ilc_meter 0 1.00 0 1 602 3 0 test_dsw_meter 0 1.00 0 1 602 3 0 meterid 0 1.00 0 5 5830 41 0 meter_materials 0 1.00 0 15 5830 9 0 meterfcr_vialid 0 1.00 0 5 5830 36 0 meterfcr_dpd_photo 0 1.00 0 125 5830 327 0 no_meterfcr_dpd_photo 0 1.00 0 0 6156 1 0 meterfcr_wait 0 1.00 0 1 5836 2 0 meterfcr_error 0 1.00 0 0 6156 1 0 meterfcr_vial_photo 0 1.00 0 125 5830 327 0 no_meterfcr_vial_photo 0 1.00 0 0 6156 1 0 meterfcr_color_o 0 1.00 0 0 6156 1 0 meterfcr_comments 0 1.00 0 55 5936 50 0 metertcr_vialid 0 1.00 0 5 5830 37 0 metertcr_dpd_photo 0 1.00 0 125 5830 327 0 no_metertcr_dpd_photo 0 1.00 0 0 6156 1 0 metertcr_wait 0 1.00 0 1 5834 2 0 metertcr_error 0 1.00 0 4 6153 4 0 metertcr_vial_photo 0 1.00 0 125 5830 327 0 no_metertcr_vial_photo 0 1.00 0 0 6156 1 0 metertcr_color_o 0 1.00 0 0 6156 1 0 metertcr_comments 0 1.00 0 298 5943 55 0 discid_nocl 0 1.00 0 5 5875 108 0 tubeid_nocl 0 1.00 0 4 5875 102 0 tubeid_testtube_nocl 0 1.00 0 4 5875 125 0 disc_nocl_materials 0 1.00 0 13 5875 3 0 discfcr_nocl_dpd_photo 0 1.00 0 125 5875 282 0 no_discfcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 discfcr_nocl_wait 0 1.00 0 1 5875 2 0 discfcr_nocl_vial_photo 0 1.00 0 125 5875 282 0 no_discfcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 discfcr_nocl_color_o 0 1.00 0 5 6154 2 0 discfcr_nocl_comments 0 1.00 0 145 5965 45 0 disctcr_nocl_dpd_photo 0 1.00 0 125 5875 282 0 no_disctcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 disctcr_nocl_wait 0 1.00 0 1 5880 2 0 disctcr_nocl_vial_photo 0 1.00 0 125 5875 282 0 no_disctcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 disctcr_nocl_color_o 0 1.00 0 0 6156 1 0 disctcr_nocl_comments 0 1.00 0 88 5968 46 0 meterid_un 0 1.00 0 5 5942 33 0 meter_nocl_materials 0 1.00 0 15 5942 6 0 meterfcr_nocl_vialid 0 1.00 0 5 5942 33 0 meterfcr_nocl_dpd_photo 0 1.00 0 125 5942 215 0 no_meterfcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 meterfcr_nocl_wait 0 1.00 0 1 5946 2 0 meterfcr_nocl_error 0 1.00 0 4 6155 2 0 meterfcr_nocl_vial_photo 0 1.00 0 125 5943 214 0 no_meterfcr_nocl_vial_photo 0 1.00 0 16 6155 2 0 meterfcr_nocl_color_o 0 1.00 0 0 6156 1 0 meterfcr_nocl_comments 0 1.00 0 84 6019 27 0 metertcr_nocl_vialid 0 1.00 0 5 5942 32 0 metertcr_nocl_dpd_photo 0 1.00 0 125 5943 214 0 no_metertcr_nocl_dpd_photo 0 1.00 0 0 6156 1 0 metertcr_nocl_wait 0 1.00 0 1 5945 2 0 metertcr_nocl_error04_mes 0 1.00 0 0 6156 1 0 metertcr_nocl_error 0 1.00 0 125 5971 186 0 no_metertcr_nocl_vial_photo 0 1.00 0 0 6156 1 0 metertcr_nocl_color_o 0 1.00 0 0 6156 1 0 metertcr_nocl_comments 0 1.00 0 68 6014 38 0 enum_comment 0 1.00 0 550 1 1704 0 complete 0 1.00 1 1 0 2 0 key 0 1.00 41 41 0 6156 0 skey 0 1.00 12 12 0 6156 0 districtid 2709 0.56 0 3 3 9 0 districtug 3447 0.44 0 3 1 21 0 subcountyug 3447 0.44 0 5 1 55 0 parishug 3447 0.44 0 7 1 62 0 village 3447 0.44 0 10 1 64 0 subcounty_name_pl 3447 0.44 0 10 25 54 0 key_pl 3447 0.44 0 0 2709 1 0 wp_key_pl 3447 0.44 4 4 0 62 0 parish_name_pl 3447 0.44 0 16 25 59 0 village_name_pl 3447 0.44 5 18 0 63 0 country 3447 0.44 2 2 0 42 0 wp_name_index_5 3447 0.44 0 0 2709 1 0 wp_name_5 3447 0.44 0 0 2709 1 0 review_comments 3447 0.44 0 95 2256 20 0 survey_start1meter_nocl_grp1mete 3447 0.44 0 17 2695 15 0 village_pl 3447 0.44 0 0 2709 1 0 _hfcokayvar 3447 0.44 1 1 0 1 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique disp_dsw_date 5927 0.04 1992-06-15 2025-08-01 2023-02-14 106 startdate 0 1.00 2025-07-02 2025-08-22 2025-07-30 42 enddate 0 1.00 2025-07-02 2025-08-23 2025-07-30 45 subdate 0 1.00 2025-07-02 2025-08-23 2025-07-30 46 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts countryl 414 0.93 FALSE 2 Mal: 3445, Uga: 2297 confirm_details_yn 0 1.00 FALSE 1 Yes: 6156, No: 0 wp_drink 0 1.00 FALSE 2 Yes: 5596, No: 560 wp_multicompound 0 1.00 FALSE 2 Yes: 5776, No: 380 wp_func 0 1.00 FALSE 2 Yes: 5317, No: 839 wp_type 584 0.91 FALSE 13 Bor: 2667, Mun: 1163, Pro: 560, Pro: 303 wp_ilc_device 599 0.90 FALSE 2 No: 4870, Yes: 687, Don: 0 wp_ilc_evac 5470 0.11 FALSE 2 Yes: 546, No: 140, Don: 0 wp_dsw 1347 0.78 FALSE 2 No: 2810, Yes: 1999 wp_ilc 2532 0.59 FALSE 2 No: 2767, Yes: 857, Don: 0 wp_promoter 3434 0.44 FALSE 2 No: 2418, Yes: 304, Don: 0 wp_func_last 6134 0.00 FALSE 4 Les: 8, Bet: 8, Bet: 3, Mor: 3 wp_turbidity 5519 0.10 FALSE 4 1: 443, 2: 150, 3: 42, 4: 2 wp_pay 5520 0.10 FALSE 2 Yes: 402, No: 234, Don: 0 wp_cost_period 5755 0.07 FALSE 7 As : 193, Mon: 146, Ann: 47, Qua: 9 disp_tank_present 5724 0.07 FALSE 2 Yes: 412, No: 20 disp_casing_present 5729 0.07 FALSE 2 Yes: 426, No: 1 disp_pvc_pole_present 5724 0.07 FALSE 2 Yes: 431, No: 1 disp_dsw_id_yn 5729 0.07 FALSE 2 Yes: 317, No: 110 disp_dsw_gen 5729 0.07 FALSE 2 Gen: 410, Gen: 17, Can: 0, Gen: 0 disp_barcode_yn 5729 0.07 FALSE 2 Yes: 422, No: 5 ilc_climb 5919 0.04 FALSE 2 Yes: 183, No: 54 ilc_operator 5919 0.04 FALSE 2 Yes: 157, No: 80 ilc_tabletholder 5923 0.04 FALSE 2 Yes: 208, No: 25, Don: 0 ilc_covercap 5924 0.04 FALSE 2 Yes: 216, No: 16, Don: 0 ilc_deviceclamped 5924 0.04 FALSE 2 Yes: 216, No: 16, Don: 0 ilc_devicefunc 5923 0.04 FALSE 2 Yes: 191, No: 42, Don: 0 ilc_connections 5926 0.04 FALSE 2 No: 218, Yes: 12, Don: 0 ilc_problems 5925 0.04 FALSE 2 No: 219, Yes: 12, Don: 0 ilc_stock 5919 0.04 FALSE 2 Yes: 145, No: 92 jc_valve 5557 0.10 FALSE 2 Yes: 598, No: 1 jc_chlorine 5558 0.10 FALSE 2 Yes: 502, No: 96, Don: 0 jc_mllost 5557 0.10 FALSE 2 No: 441, Yes: 158 discfcr_comp_rinse 5828 0.05 FALSE 1 Ack: 328 discfcr_comp_insert 5828 0.05 FALSE 1 Ack: 328 discfcr_test_rinse 5828 0.05 FALSE 1 Ack: 328 discfcr_test_dpd_nt 5828 0.05 FALSE 1 Ack: 328 discfcr_read 5828 0.05 FALSE 1 Ack: 328 discfcr_color 5828 0.05 FALSE 4 3 -: 162, 2 -: 66, 1 -: 62, 4 -: 38 discfcr_dispose_nt 5828 0.05 FALSE 1 Ack: 328 disctcr_test_rinse 5828 0.05 FALSE 1 Ack: 328 disctcr_test_dpd_nt 5828 0.05 FALSE 1 Ack: 328 disctcr_read 5828 0.05 FALSE 1 Ack: 328 disctcr_color 5828 0.05 FALSE 4 3 -: 149, 4 -: 76, 2 -: 54, 1 -: 49 disctcr_dispose_nt 5828 0.05 FALSE 1 Ack: 328 meter_intro 5830 0.05 FALSE 1 Ack: 326 meterfcr_check 5830 0.05 FALSE 1 Ack: 326 meterfcr_rinse 5830 0.05 FALSE 1 Ack: 326 meterfcr_insert 5830 0.05 FALSE 1 Ack: 326 meterfcr_zero 5830 0.05 FALSE 1 Yes: 326, No: 0 meterfcr_dpd_add 5830 0.05 FALSE 1 Ack: 326 meterfcr_read 5830 0.05 FALSE 1 Ack: 326 meterfcr_error04 6145 0.00 FALSE 1 Yes: 11, No: 0 meterfcr_color 5830 0.05 FALSE 4 3 -: 129, 4 -: 105, 1 -: 55, 2 -: 37 meterfcr_dispose_nt 5830 0.05 FALSE 1 Ack: 326 metertcr_check 5830 0.05 FALSE 1 Ack: 326 metertcr_rinse 5830 0.05 FALSE 1 Ack: 326 metertcr_insert 5830 0.05 FALSE 1 Ack: 326 metertcr_zero 5830 0.05 FALSE 1 Yes: 326, No: 0 metertcr_dpd_add 5830 0.05 FALSE 1 Ack: 326 metertcr_read 5830 0.05 FALSE 1 Ack: 326 metertcr_error04 6142 0.00 FALSE 1 Yes: 14, No: 0 metertcr_color 5830 0.05 FALSE 4 4 -: 144, 3 -: 103, 1 -: 50, 2 -: 29 metertcr_dispose_nt 5830 0.05 FALSE 1 Ack: 326 water_dispose 5830 0.05 FALSE 1 Ack: 326 empt_rinse 5560 0.10 FALSE 1 Ack: 596 discfcr_nocl_comp_rinse 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_comp_insert 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_test_rinse 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_test_dpd_nt 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_read 5875 0.05 FALSE 1 Ack: 281 discfcr_nocl_color 5875 0.05 FALSE 3 1 -: 270, 2 -: 9, Oth: 2, 3 -: 0 discfcr_nocl_dispose_nt 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_test_rinse 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_test_dpd_nt 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_read 5875 0.05 FALSE 1 Ack: 281 disctcr_nocl_color 5875 0.05 FALSE 2 1 -: 250, 2 -: 31, Oth: 0, 3 -: 0 disctcr_nocl_dispose_nt 5875 0.05 FALSE 1 Ack: 281 meter_nocl_intro 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_check 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_rinse 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_insert 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_zero 5942 0.03 FALSE 1 Yes: 214, No: 0 meterfcr_nocl_dpd_add 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_read 5942 0.03 FALSE 1 Ack: 214 meterfcr_nocl_color 5942 0.03 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 meterfcr_nocl_dispose_nt 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_check 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_rinse 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_insert 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_zero 5942 0.03 FALSE 1 Yes: 214, No: 0 metertcr_nocl_dpd_add 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_read 5942 0.03 FALSE 1 Ack: 214 metertcr_nocl_color 5942 0.03 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 metertcr_nocl_dispose_nt 5942 0.03 FALSE 1 Ack: 214 water_dispose_un 5942 0.03 FALSE 1 Ack: 214 wp_use 25 1.00 FALSE 2 Yes: 3326, No: 2805 wp_use_howmuch 2913 0.53 FALSE 3 Mor: 1481, Onl: 1196, Two: 566, Don: 0 dsw_use 4171 0.32 FALSE 2 No: 1753, Yes: 232 dsw_use_howmuch 5926 0.04 FALSE 3 Onl: 181, Two: 26, Mor: 23, Don: 0 metertcr_nocl_error04 6154 0.00 FALSE 1 Yes: 2, No: 0 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist duration 0 1.00 519.42 1051.50 1.00 8.00 39.00 507.25 9676.00 ▇▁▁▁▁ duration_min 0 1.00 17.36 19.90 1.37 5.65 9.00 19.18 161.00 ▇▁▁▁▁ wp_count 0 1.00 6.89 6.56 1.00 2.00 5.00 9.00 45.00 ▇▂▁▁▁ num_wp_names 0 1.00 1.07 0.26 1.00 1.00 1.00 1.00 3.00 ▇▁▁▁▁ wp_gpslatitude 0 1.00 -8.13 7.93 -15.98 -15.35 -14.38 0.80 1.38 ▇▁▁▁▆ wp_gpslongitude 0 1.00 34.59 0.78 32.89 33.96 34.62 35.31 35.64 ▂▃▃▃▇ wp_gpsaltitude 0 1.00 903.03 333.53 0.00 618.48 1010.65 1133.52 1928.90 ▁▇▇▃▁ wp_gpsaccuracy 0 1.00 24.33 256.78 0.60 4.10 4.60 4.80 5000.00 ▇▁▁▁▁ sections_1 3325 0.46 0.23 0.42 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ sections_2 3325 0.46 0.13 0.34 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_3 3325 0.46 0.13 0.34 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_4 3325 0.46 0.10 0.30 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_5 3325 0.46 0.08 0.26 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ sections_0 3325 0.46 0.33 0.47 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▃ wp_func_reason_1 6149 0.00 0.14 0.38 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_2 6149 0.00 0.71 0.49 0.00 0.50 1.00 1.00 1.00 ▃▁▁▁▇ wp_func_reason_6 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_7 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_8 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason__666 6149 0.00 0.29 0.49 0.00 0.00 0.00 0.50 1.00 ▇▁▁▁▃ wp_func_reason__999 6149 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_ilc_1 6142 0.00 0.64 0.50 0.00 0.00 1.00 1.00 1.00 ▅▁▁▁▇ wp_func_reason_ilc_2 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_3 6142 0.00 0.14 0.36 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_4 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_5 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_6 6142 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_func_reason_ilc_7 6142 0.00 0.07 0.27 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_func_reason_ilc_8 6142 0.00 0.21 0.43 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ wp_func_reason_ilc__666 6142 0.00 0.21 0.43 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ wp_func_reason_ilc__999 6142 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ wp_pay_purpose_1 5754 0.07 0.06 0.25 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_pay_purpose_2 5754 0.07 0.94 0.23 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ wp_pay_purpose__666 5754 0.07 0.00 0.05 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ wp_cost 5763 0.06 1314.12 1679.82 50.00 500.00 1000.00 1000.00 15000.00 ▇▁▁▁▁ disp_dsw_date_yn 6024 0.02 0.97 0.17 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ ilc_wcps 5925 0.04 65.34 659.75 1.00 2.00 31.00 31.00 9999.00 ▇▁▁▁▁ ilc_stock_whynot_1 6064 0.01 0.90 0.30 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ ilc_stock_whynot__666 6064 0.01 0.10 0.30 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ ilc_tabletstock 6011 0.02 2.99 1.03 0.00 3.00 3.00 3.00 10.00 ▁▇▁▁▁ jc_mldispensed 5654 0.08 2.95 0.45 1.20 3.00 3.00 3.00 7.30 ▁▇▁▁▁ jc_mldispensed2 6082 0.01 2.91 1.04 1.50 2.30 2.75 3.00 7.30 ▇▇▂▁▁ disc_materials_1 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_2 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_3 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_4 5828 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_materials_5 5828 0.05 0.99 0.11 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_6 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_materials_7 5828 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ discfcr_timestamp0 5900 0.04 2216.51 981.36 141.00 2093.25 2524.50 2778.75 5470.00 ▃▂▇▁▁ discfcr_timestamp1 5828 0.05 2485.23 1040.77 152.00 2198.25 2696.50 3074.50 5805.00 ▂▂▇▁▁ discfcr_timestamp2 5828 0.05 2607.82 1049.69 400.00 2297.00 2814.50 3239.25 5866.00 ▃▂▇▁▁ discfcr 5828 0.05 0.62 0.52 0.00 0.20 0.60 0.80 3.20 ▇▅▁▁▁ discfcr_confirm 5828 0.05 0.62 0.52 0.00 0.20 0.60 0.80 3.20 ▇▅▁▁▁ disctcr_timestamp0 5900 0.04 2665.73 1066.99 477.00 2420.00 2907.50 3290.00 6145.00 ▃▃▇▁▁ disctcr_timestamp1 5828 0.05 2873.04 1110.88 519.00 2502.75 3046.00 3503.00 6515.00 ▃▃▇▁▁ disctcr_timestamp2 5828 0.05 3126.96 1109.34 606.00 2746.75 3290.50 3764.00 6722.00 ▂▃▇▂▁ disctcr 5828 0.05 0.80 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ disctcr_confirm 5828 0.05 0.80 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ meter_materials_1 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_2 5830 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_3 5830 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_materials_4 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_5 5830 0.05 1.00 0.06 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_6 5830 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_7 5830 0.05 0.98 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_materials_8 5830 0.05 0.98 0.13 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meterfcr_timestamp0 5903 0.04 2236.94 937.14 206.00 2088.00 2479.00 2771.00 5353.00 ▂▂▇▁▁ meterfcr_timestamp1 5830 0.05 2426.38 1048.82 234.00 2119.25 2592.00 2959.50 7330.00 ▃▇▂▁▁ meterfcr_timestamp2 6156 0.00 NaN NA NA NA NA NA NA meterfcr_timestamp3 5830 0.05 2531.65 1057.62 257.00 2198.50 2664.00 3059.75 7670.00 ▂▇▂▁▁ meterfcr_timestamp4 5830 0.05 2657.35 1061.64 291.00 2334.25 2815.50 3184.50 7747.00 ▂▇▂▁▁ meterfcr 5830 0.05 0.87 0.70 0.00 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_confirm 5830 0.05 0.87 0.70 0.00 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_timestamp5 5830 0.05 2737.46 1079.77 342.00 2381.00 2883.50 3289.25 7913.00 ▂▇▃▁▁ meterfcr_timestamp6 5830 0.05 2762.56 1088.01 343.00 2389.75 2899.50 3297.75 8000.00 ▂▇▂▁▁ metertcr_timestamp0 5903 0.04 2699.74 1019.35 343.00 2470.00 2899.00 3239.00 5967.00 ▂▂▇▁▁ metertcr_timestamp1 5830 0.05 2859.10 1104.24 361.00 2455.75 2994.50 3453.50 8160.00 ▃▇▃▁▁ metertcr_timestamp2 6156 0.00 NaN NA NA NA NA NA NA metertcr_timestamp3 5830 0.05 2940.55 1131.74 386.00 2529.25 3091.50 3516.25 8850.00 ▂▇▂▁▁ metertcr_timestamp4 5830 0.05 3237.69 1157.42 784.00 2762.75 3383.50 3817.00 9295.00 ▂▇▁▁▁ metertcr 5830 0.05 92.97 956.15 0.00 0.38 0.93 1.45 9999.00 ▇▁▁▁▁ metertcr_confirm 5830 0.05 92.97 956.15 0.00 0.38 0.93 1.45 9999.00 ▇▁▁▁▁ metertcr_timestamp5 5831 0.05 3365.89 1190.48 838.00 2861.00 3451.00 4017.00 9364.00 ▃▇▂▁▁ metertcr_timestamp6 5830 0.05 3390.41 1201.17 839.00 2870.25 3470.00 4061.00 9414.00 ▃▇▂▁▁ disc_nocl_materials_1 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_2 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_3 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_4 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_5 5875 0.05 0.99 0.08 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ disc_nocl_materials_6 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disc_nocl_materials_7 5875 0.05 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ discfcr_nocl_timestamp0 5875 0.05 702.94 358.09 200.00 442.00 622.00 860.00 2396.00 ▇▆▂▁▁ discfcr_nocl_timestamp1 5875 0.05 948.20 430.85 240.00 633.00 872.00 1161.00 2895.00 ▇▇▂▁▁ discfcr_nocl_timestamp2 5875 0.05 1061.64 427.09 277.00 748.00 1007.00 1288.00 3015.00 ▆▇▂▁▁ discfcr_un 5875 0.05 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ discfcr_nocl_confirm_un 5875 0.05 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_timestamp0 5875 0.05 1159.83 457.04 307.00 825.00 1102.00 1413.00 3179.00 ▅▇▂▁▁ disctcr_nocl_timestamp1 5875 0.05 1279.29 492.72 322.00 929.00 1223.00 1551.00 3364.00 ▅▇▃▁▁ disctcr_nocl_timestamp2 5875 0.05 1521.59 502.67 349.00 1165.00 1489.00 1795.00 3640.00 ▂▇▅▁▁ disctcr_un 5875 0.05 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_confirm_un 5875 0.05 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ meter_nocl_materials_1 5942 0.03 0.99 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_nocl_materials_2 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_3 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_4 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_5 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_6 5942 0.03 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ meter_nocl_materials_7 5942 0.03 0.99 0.10 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meter_nocl_materials_8 5942 0.03 0.99 0.12 0.00 1.00 1.00 1.00 1.00 ▁▁▁▁▇ meterfcr_nocl_timestamp0 5942 0.03 722.39 399.62 191.00 455.25 645.00 905.75 3718.00 ▇▂▁▁▁ meterfcr_nocl_timestamp1 5942 0.03 900.67 426.22 240.00 596.00 821.50 1105.50 3735.00 ▇▅▁▁▁ meterfcr_nocl_timestamp2 6156 0.00 NaN NA NA NA NA NA NA meterfcr_nocl_timestamp3 5942 0.03 1021.50 440.12 280.00 707.00 949.00 1257.50 3772.00 ▇▆▁▁▁ meterfcr_nocl_timestamp4 5942 0.03 1132.05 442.82 402.00 805.50 1078.00 1365.75 3894.00 ▇▆▁▁▁ meterfcr_un 5942 0.03 46.78 683.51 0.00 0.01 0.03 0.06 9999.00 ▇▁▁▁▁ meterfcr_nocl_confirm_un 5942 0.03 46.78 683.51 0.00 0.01 0.03 0.06 9999.00 ▇▁▁▁▁ meterfcr_nocl_timestamp5 5942 0.03 1215.73 451.82 436.00 881.00 1154.50 1467.25 3935.00 ▇▇▁▁▁ meterfcr_nocl_timestamp6 5942 0.03 1243.01 459.83 447.00 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp0 5942 0.03 1243.01 459.83 447.00 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp1 5942 0.03 1347.57 485.70 480.00 976.25 1319.50 1644.75 3966.00 ▇▇▂▁▁ metertcr_nocl_timestamp2 6156 0.00 NaN NA NA NA NA NA NA metertcr_nocl_timestamp3 5942 0.03 1433.34 508.89 503.00 1037.75 1389.50 1703.75 4249.00 ▇▇▂▁▁ metertcr_nocl_timestamp4 5942 0.03 1738.61 577.21 703.00 1317.75 1697.00 2036.75 4439.00 ▆▇▂▁▁ metertcr_un 5942 0.03 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_confirm_un 5942 0.03 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_timestamp5 5942 0.03 1899.84 724.11 818.00 1416.75 1786.50 2215.50 5882.00 ▇▆▁▁▁ metertcr_nocl_timestamp6 5942 0.03 1912.97 726.15 821.00 1421.50 1793.50 2219.00 5885.00 ▇▆▁▁▁ formdef_version 0 1.00 2507516910.84 419691.30 2507012214.00 2507202311.00 2507242120.00 2508052234.00 2508162346.00 ▇▁▁▁▅ meterfcr_timestamp0_hfc 6004 0.02 31.97 16.67 3.00 13.75 38.00 44.00 61.00 ▅▂▃▇▂ meterfcr_timestamp1_hfc 5972 0.03 34.43 16.96 4.00 17.00 40.00 47.00 66.00 ▆▂▆▇▂ meterfcr_timestamp3_hfc 5972 0.03 36.22 17.10 4.00 19.75 41.00 48.00 69.00 ▆▂▇▇▂ meterfcr_timestamp4_hfc 5972 0.03 38.44 17.39 5.00 21.00 44.00 50.25 71.00 ▅▂▅▇▂ meterfcr_timestamp5_hfc 5972 0.03 39.68 17.61 6.00 22.00 45.00 52.00 73.00 ▆▂▆▇▃ meterfcr_timestamp6_hfc 5972 0.03 40.01 17.68 6.00 23.75 45.00 52.00 76.00 ▆▂▇▆▂ metertcr_timestamp0_hfc 6004 0.02 39.20 17.63 6.00 20.75 44.50 51.25 73.00 ▆▂▆▇▂ metertcr_timestamp1_hfc 5972 0.03 41.48 17.74 6.00 26.00 46.00 53.25 78.00 ▆▂▇▇▂ metertcr_timestamp3_hfc 5972 0.03 42.60 17.99 6.00 27.00 46.50 54.25 80.00 ▅▃▇▇▂ metertcr_timestamp4_hfc 5972 0.03 47.76 18.79 13.00 31.75 52.00 60.00 93.00 ▅▃▇▃▁ metertcr_timestamp5_hfc 5972 0.03 49.60 19.11 14.00 32.75 52.50 61.00 94.00 ▅▃▇▃▁ metertcr_timestamp6_hfc 5972 0.03 49.99 19.40 14.00 35.25 53.00 62.00 101.00 ▅▃▇▂▁ discfcr_timestamp0_hfc 6002 0.03 31.99 17.56 4.00 12.00 39.00 44.00 82.00 ▅▁▇▁▁ discfcr_timestamp1_hfc 5972 0.03 35.86 18.14 5.00 17.00 41.00 48.00 87.00 ▅▂▇▂▁ discfcr_timestamp2_hfc 5972 0.03 37.89 18.10 7.00 19.75 43.00 49.25 90.00 ▅▂▇▂▁ jc_wait_diff_hfc 5919 0.04 -25.86 11.35 -51.00 -32.00 -31.00 -23.00 0.00 ▁▇▅▁▃ jc_wait_hfc 5932 0.04 144.17 2001.73 0.00 0.00 0.00 0.00 29872.00 ▇▁▁▁▁ lat1 2709 0.56 -15.15 0.49 -15.98 -15.52 -15.32 -14.80 -14.18 ▃▇▅▂▅ lon1 2709 0.56 35.20 0.30 34.42 35.07 35.30 35.43 35.64 ▂▂▂▇▅ lat2 2726 0.56 -15.15 0.49 -15.98 -15.52 -15.33 -14.80 -14.18 ▃▇▅▂▅ lon2 2726 0.56 35.21 0.30 34.42 35.07 35.30 35.43 35.64 ▂▂▂▇▆ lat3 2732 0.56 -15.15 0.49 -15.98 -15.52 -15.31 -14.80 -14.18 ▃▇▅▂▅ lon3 2732 0.56 35.21 0.30 34.42 35.07 35.30 35.42 35.64 ▂▁▂▇▅ lat4 2747 0.55 -15.15 0.49 -15.98 -15.52 -15.32 -14.80 -14.18 ▃▇▃▂▅ lon4 2747 0.55 35.21 0.30 34.42 35.07 35.30 35.41 35.64 ▂▁▂▇▅ lat5 2971 0.52 -15.15 0.50 -15.98 -15.53 -15.33 -14.68 -14.18 ▃▇▃▂▅ lon5 2971 0.52 35.21 0.29 34.42 35.08 35.30 35.43 35.64 ▂▁▂▇▅ dist_1_2 2726 0.56 0.09 1.05 0.00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_3 2732 0.56 0.23 1.36 0.00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_4 2747 0.55 0.27 1.83 0.00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_1_5 2971 0.52 0.15 1.76 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_2_3 2732 0.56 0.23 1.25 0.00 0.00 0.01 0.01 12.30 ▇▁▁▁▁ dist_2_4 2747 0.55 0.26 1.75 0.00 0.00 0.01 0.01 30.74 ▇▁▁▁▁ dist_2_5 2971 0.52 0.07 1.40 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_3_4 2747 0.55 0.42 1.94 0.00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_3_5 2971 0.52 0.30 1.89 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_4_5 2971 0.52 0.34 2.28 0.00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ max_dist_at_point 2726 0.56 0.53 2.57 0.00 0.00 0.00 0.00 35.00 ▇▁▁▁▁ waterpoint_count 2709 0.56 5.13 0.87 1.00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ flag_not_5 2709 0.56 0.19 0.40 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▂ obs_count 2709 0.56 5.14 0.87 1.00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ survey_start1water_point_gpr1wp_ 6131 0.00 0.40 0.50 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▅ fcr1_start 6012 0.02 2910.59 796.17 152.00 2637.00 2906.00 3283.75 5805.00 ▁▁▇▂▁ fcr2_end 6012 0.02 3036.54 825.39 400.00 2761.50 3024.50 3359.75 5866.00 ▁▁▇▂▁ mtcr1_start 6014 0.02 2891.77 895.81 684.00 2494.75 2833.50 3196.25 7330.00 ▁▇▂▁▁ tcr1_start 6014 0.02 2891.77 895.81 684.00 2494.75 2833.50 3196.25 7330.00 ▁▇▂▁▁ tcr3_start 6014 0.02 2997.42 909.59 787.00 2587.75 2947.00 3278.25 7670.00 ▁▇▁▁▁ tcr4_end 6014 0.02 3114.58 901.35 854.00 2697.00 3036.00 3407.25 7747.00 ▁▇▁▁▁ tcr5_start 6014 0.02 3200.53 922.04 920.00 2744.75 3109.50 3505.25 7913.00 ▁▇▁▁▁ tcr6_end 6014 0.02 3232.29 933.76 988.00 2748.50 3151.00 3558.75 8000.00 ▁▇▁▁▁ fcrhr1_start 6014 0.02 3342.13 958.64 1059.00 2835.50 3264.50 3695.50 8160.00 ▁▇▁▁▁ fcrhr3_start 6014 0.02 3439.46 999.85 1077.00 2937.25 3321.00 3812.75 8850.00 ▁▇▁▁▁ fcrhr4_end 6014 0.02 3721.22 1011.32 1366.00 3213.75 3617.00 4064.75 9295.00 ▁▇▁▁▁ fcrhr5_start 6015 0.02 3875.97 1047.35 1410.00 3340.00 3727.00 4238.00 9364.00 ▁▇▂▁▁ fcrhr6_end 6014 0.02 3897.23 1052.38 1412.00 3343.25 3784.00 4256.50 9414.00 ▁▇▂▁▁ fcr_duration 6012 0.02 125.95 252.58 -1.00 60.75 93.00 128.25 3040.00 ▇▁▁▁▁ tcr_duration2 6014 0.02 117.17 187.12 35.00 55.00 77.00 122.50 1856.00 ▇▁▁▁▁ tcr_duration3 6014 0.02 31.76 41.82 1.00 2.00 5.00 58.50 169.00 ▇▂▂▁▁ fcrhr_duration2 6014 0.02 281.76 155.01 185.00 207.25 240.50 299.00 1188.00 ▇▁▁▁▁ fcrhr_duration3 6015 0.02 18.11 40.62 1.00 2.00 2.00 5.00 283.00 ▇▁▁▁▁ photo2 3839 0.38 1.00 0.00 1.00 1.00 1.00 1.00 1.00 ▁▁▇▁▁ disp_barcode_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ discfcr_dpd_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ discfcr_vial_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ disctcr_dpd_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ disctcr_vial_photo_mi 3447 0.44 0.11 0.32 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ meterfcr_dpd_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ meterfcr_vial_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ metertcr_dpd_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ metertcr_vial_photo_mi 3447 0.44 0.06 0.24 0.00 0.00 0.00 0.00 1.00 ▇▁▁▁▁ _hfcokay 3447 0.44 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ▁▁▇▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 17:47:15 5938 starttime 0 1 2025-07-02 10:19:21 2025-08-22 12:43:50 2025-07-30 10:28:28 6010 endtime 0 1 2025-07-02 10:32:26 2025-08-23 06:30:03 2025-07-30 13:22:12 5957 "],["clean-water-point-census.html", "3 Clean Water Point Census 3.1 Create unique ID 3.2 Corrections 3.3 Replace NAs 3.4 Clean text variables 3.5 Clean date of survey 3.6 Rename variables indicating which sections where completed 3.7 Clean location variables 3.8 Remove surveycto coding variables 3.9 Clean photo paths 3.10 Manual corrections 3.11 De-identify 3.12 Export data", " 3 Clean Water Point Census In this script, we tidy the water point census by fixing the naming of observations and format variables. Code pacman::p_load( tidyverse, haven, janitor, assertthat ) Code wp_raw &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Raw&quot;, &quot;wp-census.rds&quot; ) ) 3.1 Create unique ID In Malawi and Uganda, enumerators will only go to villages in the sample, so we don’t need to worry about filtering. We also check that key is unique. Code assert_that( n_distinct(wp_raw$key) == nrow(wp_raw) ) ## [1] TRUE 3.2 Corrections Code wp_corrected &lt;- wp_raw %&gt;% mutate( across( village_id_pl, ~ case_when( . == &quot;1050304002&quot; ~ &quot;1050702004&quot;, TRUE ~ . ) ) ) 3.3 Replace NAs Some of the “don’t know” and “unsure” values in the survey are coded differently, so we standardize them to 9999. -666 corresponds to “other,” but we deal with this later. Code wp_clean &lt;- wp_corrected %&gt;% mutate( across( where(is.character), ~ . %&gt;% na_if(&quot;[.]&quot;) %&gt;% na_if(&quot;&quot;) ), across( where(is.numeric), ~ . %&gt;% na_if(-999) %&gt;% na_if(999) %&gt;% na_if(9999) ), across( where(~ all(unique(.) %in% c(0, 1, NA))), ~ as.logical(.) ), across( where(is_dummy), ~ (. == &quot;Yes&quot;) ), across( where(~ is.factor(.) &amp; all(levels(.) %in% c(&quot;Don&#39;t know&quot;, &quot;No&quot;, &quot;Yes&quot;, NA))), ~ case_when( . == &quot;Yes&quot; ~ TRUE, . == &quot;No&quot; ~ FALSE ), .names = &quot;{.col}&quot; ), across( c(ilc_tabletstock, contains(&quot;timestamp&quot;)), as.numeric ) ) 3.4 Clean text variables Code wp_clean &lt;- wp_clean %&gt;% mutate( # first across: wp_name* and *_pl (minus 2 exceptions) across( where(is.character), ~ ifelse( grepl(&quot;photo|uuid&quot;, .x), .x, str_to_upper(.x) ) ), across( c(disp_dsw_id), ~ as.numeric(.) ) ) ## Warning: There was 1 warning in ## `mutate()`. ## ℹ In argument: ## `across(c(disp_dsw_id), ## ~as.numeric(.))`. ## Caused by warning: ## ! NAs introduced by coercion 3.5 Clean date of survey We have submissiondate, starttime, endtime, and today as date variables from the survey. We will use “submissiondate” for the date. Code wp_clean &lt;- wp_clean %&gt;% mutate( date = as_date(ymd_hms(submissiondate)) ) %&gt;% dplyr::filter(date &gt;= ymd(&quot;2025-06-17&quot;)) 3.6 Rename variables indicating which sections where completed Code wp_clean &lt;- wp_clean %&gt;% dplyr::select(-c(key_pl, village, country, sections)) %&gt;% rename( spotcheck = sections_1, colorwheel = sections_2, colorimeter = sections_3, colorwheel_un = sections_4, colorimeter_un = sections_5, no_testing = sections_0 ) %&gt;% rename_with( ~ str_remove_all(.x, &quot;_pl&quot;), ends_with(&quot;_pl&quot;) ) 3.7 Clean location variables Code wp_clean &lt;- wp_clean %&gt;% mutate( wp_id, country = country %&gt;% str_to_title %&gt;% as_factor, district_id = coalesce(districtmw, districtug), district = district %&gt;% str_to_title %&gt;% as_factor, village = village_name %&gt;% str_to_title %&gt;% as_factor ) 3.8 Remove surveycto coding variables Code wp_clean &lt;- wp_clean %&gt;% select( where(~ !all(.x %in% c(&quot;Acknowledged. Please continue&quot;, NA))), -contains( c( &quot;_materials_&quot;, &quot;cr_confirm&quot; ) ), -c( ends_with(&quot;_label&quot;), lead_zero, water_point_rpt_count, contains(&quot;index&quot;), contains(&quot;crhr&quot;), wp_func_reason, wp_func_reason_ilc, wp_pay_purpose, disp_dsw_id2, disp_barcode2, ilc_devicepic_na, ilc_stock_whynot_1, ilc_stock_whynot__666, jc_mldispensed2, jc_wait, meterfcr_timestamp0_hfc:`_hfcokayvar` ) ) %&gt;% remove_empty() %&gt;% remove_constant() ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) 3.9 Clean photo paths Code wp_clean &lt;- wp_clean %&gt;% mutate( across( contains(c(&quot;photo&quot;, &quot;pic&quot;, &quot;metadata&quot;)), ~ . %&gt;% str_remove_all(&quot;https://dilsurvey.surveycto.com/view/submission-attachment/&quot;) %&gt;% str_replace(&quot;\\\\?.*&quot;, &quot;&quot;) %&gt;% str_remove_all(&quot;MEDIA\\\\\\\\&quot;) ) ) 3.10 Manual corrections Code wp_clean &lt;- wp_clean %&gt;% dplyr::filter( !(village_id == 2050706034 &amp; today == &quot;2025-AUG-7&quot;) ) 3.11 De-identify Code wp_raw_deid &lt;- wp_clean %&gt;% select( -c( enumerator, enumerator_name, wp_name_1:cal_wp_name, wp_landmarks ) ) 3.12 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Clean&quot;, &quot;wp-census-clean&quot; ) wp_clean %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 3.1: Data summary Name Piped data Number of rows 6146 Number of columns 240 _______________________ Column type frequency: character 94 Date 2 factor 18 logical 61 numeric 62 POSIXct 3 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace deviceid 0 1.00 15 36 0 166 0 username 2709 0.56 9 9 0 16 0 comments 6084 0.01 157 157 0 62 0 today 0 1.00 10 11 0 45 0 metadata 0 1.00 43 43 0 6146 0 randomdraw_bc 0 1.00 10 24 0 6145 0 uid 0 1.00 7 7 0 6146 0 wp_idbck 0 1.00 7 7 0 6146 0 wp_randtxt 0 1.00 2 2 0 1284 0 wp_randnum 0 1.00 11 24 0 6146 0 wp_randnum_int 0 1.00 1 2 0 10 0 wpid_time 0 1.00 1 4 0 2925 0 temp_wp_id 0 1.00 10 12 0 6146 0 districtmw 2711 0.56 3 3 0 9 0 tamw 2711 0.56 5 5 0 48 0 gvhmw 2711 0.56 7 7 0 88 0 villagemw 2711 0.56 10 10 0 104 0 vil_id 0 1.00 10 10 0 166 0 caseid_vil 0 1.00 10 10 0 166 0 ta_name 0 1.00 4 12 0 100 0 gvh_name 0 1.00 4 16 0 146 0 village_id 0 1.00 10 10 0 166 0 wp_id 0 1.00 9 15 0 1238 0 enumerator 0 1.00 18 168 0 147 0 enumerator_id 0 1.00 4 8 0 146 0 enumerator_name 0 1.00 9 160 0 144 0 wp_name_1 0 1.00 1 61 0 1515 0 wp_name_2 5764 0.06 1 28 0 96 0 wp_name_3 6126 0.00 12 20 0 7 0 cal_wp_name 0 1.00 1 65 0 1547 0 wp_landmarks 124 0.98 1 243 0 2882 0 wp_photo 124 0.98 17 17 0 6022 0 wp_type_o 6121 0.00 3 3 0 1 0 wp_func_reason_o 6142 0.00 24 75 0 4 0 wp_pay_purpose_o 6145 0.00 128 128 0 1 0 disp_dsw_datephoto 5873 0.04 17 46 0 273 0 no_disp_dsw_datephoto 6143 0.00 3 11 0 3 0 disp_photo 5721 0.07 17 17 0 425 0 disp_barcode_photo 5726 0.07 17 46 0 420 0 disp_barcode 5726 0.07 5 7 0 374 0 ilc_problems_o 6134 0.00 4 168 0 9 0 ilc_devicepic 5926 0.04 17 17 0 220 0 ilc_stock_whynot 6054 0.01 1 4 0 2 0 ilc_stock_whynot_o 6137 0.00 10 197 0 7 0 jc_wait_str 5645 0.08 3 4 0 406 0 jc_wait_end 5645 0.08 3 4 0 441 0 jc_wait_diff 5645 0.08 1 5 0 321 0 discid 5819 0.05 3 6 0 122 0 tubeid 5819 0.05 4 4 0 113 0 tubeid_testtube 5819 0.05 4 4 0 137 0 disc_materials 5819 0.05 7 13 0 4 0 discfcr_dpd_photo 5819 0.05 17 17 0 327 0 discfcr_vial_photo 5819 0.05 17 17 0 327 0 discfcr_comments 5937 0.03 2 67 0 41 0 disctcr_dpd_photo 5819 0.05 17 17 0 327 0 disctcr_vial_photo 5819 0.05 17 17 0 327 0 disctcr_comments 5938 0.03 2 121 0 44 0 meterid 5821 0.05 5 5 0 38 0 meter_materials 5821 0.05 7 15 0 8 0 meterfcr_vialid 5821 0.05 5 5 0 35 0 meterfcr_dpd_photo 5821 0.05 17 17 0 325 0 meterfcr_vial_photo 5821 0.05 17 17 0 325 0 meterfcr_comments 5926 0.04 2 55 0 47 0 metertcr_vialid 5821 0.05 5 5 0 36 0 metertcr_dpd_photo 5821 0.05 17 17 0 325 0 metertcr_error 6143 0.00 4 4 0 3 0 metertcr_vial_photo 5821 0.05 17 17 0 325 0 metertcr_comments 5933 0.03 2 298 0 52 0 discid_nocl 5867 0.05 5 5 0 103 0 tubeid_nocl 5867 0.05 4 4 0 101 0 tubeid_testtube_nocl 5867 0.05 4 4 0 124 0 disc_nocl_materials 5867 0.05 11 13 0 2 0 discfcr_nocl_dpd_photo 5867 0.05 17 17 0 279 0 discfcr_nocl_vial_photo 5867 0.05 17 46 0 279 0 discfcr_nocl_color_o 6144 0.00 5 5 0 1 0 discfcr_nocl_comments 5957 0.03 1 145 0 38 0 disctcr_nocl_dpd_photo 5867 0.05 17 46 0 279 0 disctcr_nocl_vial_photo 5867 0.05 17 46 0 279 0 disctcr_nocl_comments 5960 0.03 1 88 0 41 0 meterid_un 5932 0.03 5 5 0 32 0 meter_nocl_materials 5932 0.03 11 15 0 5 0 meterfcr_nocl_vialid 5932 0.03 5 5 0 32 0 meterfcr_nocl_dpd_photo 5932 0.03 17 46 0 214 0 meterfcr_nocl_error 6145 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 5933 0.03 17 46 0 213 0 no_meterfcr_nocl_vial_photo 6145 0.00 16 16 0 1 0 meterfcr_nocl_comments 6009 0.02 4 84 0 25 0 metertcr_nocl_vialid 5932 0.03 5 5 0 31 0 metertcr_nocl_dpd_photo 5933 0.03 17 46 0 213 0 metertcr_nocl_error 5961 0.03 23 125 0 185 0 metertcr_nocl_comments 6004 0.02 4 68 0 36 0 enum_comment 1 1.00 2 550 0 1596 0 key 0 1.00 41 41 0 6146 0 district_id 3 1.00 3 3 0 28 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique disp_dsw_date 5918 0.04 1992-06-15 2025-08-01 2023-02-14 105 date 0 1.00 2025-07-02 2025-08-23 2025-07-30 46 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts countryl 414 0.93 FALSE 2 Mal: 3435, Uga: 2297 country 0 1.00 FALSE 2 Mal: 3437, Uga: 2709 district 0 1.00 FALSE 28 Zom: 894, Man: 830, Nen: 415, Mac: 405 wp_type 584 0.90 FALSE 13 Bor: 2657, Mun: 1163, Pro: 560, Pro: 303 wp_func_last 6124 0.00 FALSE 4 Les: 8, Bet: 8, Bet: 3, Mor: 3 wp_turbidity 5511 0.10 FALSE 4 1: 441, 2: 150, 3: 42, 4: 2 wp_cost_period 5747 0.06 FALSE 7 As : 193, Mon: 144, Ann: 47, Qua: 9 disp_dsw_gen 5721 0.07 FALSE 2 Gen: 408, Gen: 17, Can: 0, Gen: 0 discfcr_color 5819 0.05 FALSE 4 3 -: 161, 2 -: 66, 1 -: 62, 4 -: 38 disctcr_color 5819 0.05 FALSE 4 3 -: 148, 4 -: 76, 2 -: 54, 1 -: 49 meterfcr_color 5821 0.05 FALSE 4 3 -: 129, 4 -: 104, 1 -: 55, 2 -: 37 metertcr_color 5821 0.05 FALSE 4 4 -: 143, 3 -: 103, 1 -: 50, 2 -: 29 discfcr_nocl_color 5867 0.05 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 5867 0.05 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 5932 0.03 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 5932 0.03 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 wp_use_howmuch 2913 0.53 FALSE 3 Mor: 1471, Onl: 1196, Two: 566, Don: 0 dsw_use_howmuch 5921 0.04 FALSE 3 Onl: 181, Two: 26, Mor: 18, Don: 0 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 5586, FAL: 560 wp_multicompound 0 1.00 0.94 TRU: 5766, FAL: 380 wp_func 0 1.00 0.86 TRU: 5307, FAL: 839 wp_ilc_device 599 0.90 0.12 FAL: 4860, TRU: 687 wp_ilc_evac 5460 0.11 0.80 TRU: 546, FAL: 140 wp_dsw 1347 0.78 0.41 FAL: 2810, TRU: 1989 wp_ilc 2522 0.59 0.24 FAL: 2767, TRU: 857 wp_promoter 3434 0.44 0.11 FAL: 2408, TRU: 304 spotcheck 3325 0.46 0.23 FAL: 2164, TRU: 657 colorwheel 3325 0.46 0.13 FAL: 2445, TRU: 376 colorimeter 3325 0.46 0.13 FAL: 2449, TRU: 372 colorwheel_un 3325 0.46 0.10 FAL: 2542, TRU: 279 colorimeter_un 3325 0.46 0.08 FAL: 2607, TRU: 214 no_testing 3325 0.46 0.33 FAL: 1891, TRU: 930 wp_func_reason_1 6139 0.00 0.14 FAL: 6, TRU: 1 wp_func_reason_2 6139 0.00 0.71 TRU: 5, FAL: 2 wp_func_reason_6 6139 0.00 0.00 FAL: 7 wp_func_reason_7 6139 0.00 0.00 FAL: 7 wp_func_reason_8 6139 0.00 0.00 FAL: 7 wp_func_reason__666 6139 0.00 0.29 FAL: 5, TRU: 2 wp_func_reason__999 6139 0.00 0.00 FAL: 7 wp_func_reason_ilc_1 6132 0.00 0.64 TRU: 9, FAL: 5 wp_func_reason_ilc_2 6132 0.00 0.07 FAL: 13, TRU: 1 wp_func_reason_ilc_3 6132 0.00 0.14 FAL: 12, TRU: 2 wp_func_reason_ilc_4 6132 0.00 0.07 FAL: 13, TRU: 1 wp_func_reason_ilc_5 6132 0.00 0.07 FAL: 13, TRU: 1 wp_func_reason_ilc_6 6132 0.00 0.00 FAL: 14 wp_func_reason_ilc_7 6132 0.00 0.07 FAL: 13, TRU: 1 wp_func_reason_ilc_8 6132 0.00 0.21 FAL: 11, TRU: 3 wp_func_reason_ilc__666 6132 0.00 0.21 FAL: 11, TRU: 3 wp_func_reason_ilc__999 6132 0.00 0.00 FAL: 14 wp_pay 5512 0.10 0.63 TRU: 400, FAL: 234 wp_pay_purpose_1 5746 0.07 0.06 FAL: 374, TRU: 26 wp_pay_purpose_2 5746 0.07 0.94 TRU: 377, FAL: 23 wp_pay_purpose__666 5746 0.07 0.00 FAL: 399, TRU: 1 disp_tank_present 5716 0.07 0.95 TRU: 410, FAL: 20 disp_casing_present 5721 0.07 1.00 TRU: 424, FAL: 1 disp_pvc_pole_present 5716 0.07 1.00 TRU: 429, FAL: 1 disp_dsw_id_yn 5721 0.07 0.74 TRU: 316, FAL: 109 disp_dsw_date_yn 6016 0.02 0.98 TRU: 127, FAL: 3 disp_barcode_yn 5721 0.07 0.99 TRU: 420, FAL: 5 ilc_climb 5909 0.04 0.77 TRU: 183, FAL: 54 ilc_operator 5909 0.04 0.66 TRU: 157, FAL: 80 ilc_tabletholder 5913 0.04 0.89 TRU: 208, FAL: 25 ilc_covercap 5914 0.04 0.93 TRU: 216, FAL: 16 ilc_deviceclamped 5914 0.04 0.93 TRU: 216, FAL: 16 ilc_devicefunc 5913 0.04 0.82 TRU: 191, FAL: 42 ilc_connections 5916 0.04 0.05 FAL: 218, TRU: 12 ilc_problems 5915 0.04 0.05 FAL: 219, TRU: 12 ilc_stock 5909 0.04 0.61 TRU: 145, FAL: 92 jc_valve 5549 0.10 1.00 TRU: 596, FAL: 1 jc_chlorine 5550 0.10 0.84 TRU: 500, FAL: 96 jc_mllost 5549 0.10 0.26 FAL: 441, TRU: 156 meterfcr_zero 5821 0.05 1.00 TRU: 325 meterfcr_error04 6135 0.00 1.00 TRU: 11 metertcr_zero 5821 0.05 1.00 TRU: 325 metertcr_error04 6132 0.00 1.00 TRU: 14 meterfcr_nocl_zero 5932 0.03 1.00 TRU: 214 metertcr_nocl_zero 5932 0.03 1.00 TRU: 214 wp_use 25 1.00 0.54 TRU: 3316, FAL: 2805 dsw_use 4171 0.32 0.11 FAL: 1748, TRU: 227 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist duration 1 1.00 520.14 1052.24 1.00 8.00 39.00 5.080000e+02 9.676000e+03 ▇▁▁▁▁ duration_min 0 1.00 17.34 19.90 1.37 5.64 9.00 1.906000e+01 1.610000e+02 ▇▁▁▁▁ wp_count 0 1.00 6.90 6.56 1.00 2.00 5.00 9.000000e+00 4.500000e+01 ▇▂▁▁▁ num_wp_names 0 1.00 1.07 0.26 1.00 1.00 1.00 1.000000e+00 3.000000e+00 ▇▁▁▁▁ wp_gpslatitude 0 1.00 -8.12 7.93 -15.98 -15.35 -14.38 8.100000e-01 1.380000e+00 ▇▁▁▁▆ wp_gpslongitude 0 1.00 34.59 0.78 32.89 33.96 34.62 3.531000e+01 3.564000e+01 ▂▃▃▃▇ wp_gpsaltitude 0 1.00 903.64 333.46 0.00 619.57 1013.15 1.133670e+03 1.928900e+03 ▁▇▇▃▁ wp_gpsaccuracy 0 1.00 24.36 256.99 0.60 4.10 4.60 4.800000e+00 5.000000e+03 ▇▁▁▁▁ wp_cost 5755 0.06 1315.73 1683.59 50.00 500.00 1000.00 1.000000e+03 1.500000e+04 ▇▁▁▁▁ disp_dsw_id 5856 0.05 191171970.69 951452238.80 870.00 70183081.25 80032171.50 8.305140e+07 8.204216e+09 ▇▁▁▁▁ ilc_wcps 5916 0.04 22.15 66.26 1.00 2.00 31.00 3.100000e+01 1.000000e+03 ▇▁▁▁▁ ilc_tabletstock 6001 0.02 2.99 1.03 0.00 3.00 3.00 3.000000e+00 1.000000e+01 ▁▇▁▁▁ jc_mldispensed 5646 0.08 2.95 0.45 1.20 2.98 3.00 3.000000e+00 7.300000e+00 ▁▇▁▁▁ discfcr_timestamp0 5891 0.04 2215.40 983.13 141.00 2087.50 2528.00 2.779500e+03 5.470000e+03 ▃▂▇▁▁ discfcr_timestamp1 5819 0.05 2485.02 1042.36 152.00 2196.50 2698.00 3.075000e+03 5.805000e+03 ▂▂▇▁▁ discfcr_timestamp2 5819 0.05 2607.56 1051.29 400.00 2296.00 2816.00 3.239500e+03 5.866000e+03 ▃▂▇▁▁ discfcr 5819 0.05 0.62 0.52 0.00 0.20 0.60 8.000000e-01 3.200000e+00 ▇▅▁▁▁ disctcr_timestamp0 5891 0.04 2665.16 1069.05 477.00 2418.00 2915.00 3.291000e+03 6.145000e+03 ▃▃▇▁▁ disctcr_timestamp1 5819 0.05 2872.83 1112.58 519.00 2498.50 3047.00 3.508000e+03 6.515000e+03 ▃▃▇▁▁ disctcr_timestamp2 5819 0.05 3126.92 1111.04 606.00 2745.50 3291.00 3.770000e+03 6.722000e+03 ▂▃▇▂▁ disctcr 5819 0.05 0.81 0.64 0.00 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ meterfcr_timestamp0 5894 0.04 2236.08 938.90 206.00 2086.25 2481.00 2.772250e+03 5.353000e+03 ▂▂▇▁▁ meterfcr_timestamp1 5821 0.05 2426.24 1050.43 234.00 2112.00 2594.00 2.962000e+03 7.330000e+03 ▃▇▂▁▁ meterfcr_timestamp3 5821 0.05 2531.72 1059.25 257.00 2195.00 2664.00 3.060000e+03 7.670000e+03 ▂▇▂▁▁ meterfcr_timestamp4 5821 0.05 2657.38 1063.28 291.00 2321.00 2816.00 3.186000e+03 7.747000e+03 ▂▇▂▁▁ meterfcr 5821 0.05 0.87 0.70 0.00 0.23 0.83 1.340000e+00 4.600000e+00 ▇▆▁▁▁ meterfcr_timestamp5 5822 0.05 2742.89 1078.76 342.00 2405.00 2890.50 3.291500e+03 7.913000e+03 ▂▇▃▁▁ meterfcr_timestamp6 5821 0.05 2762.68 1089.68 343.00 2380.00 2900.00 3.298000e+03 8.000000e+03 ▂▇▃▁▁ metertcr_timestamp0 5894 0.04 2699.65 1021.37 343.00 2467.50 2899.00 3.240750e+03 5.967000e+03 ▂▂▇▁▁ metertcr_timestamp1 5821 0.05 2859.45 1105.93 361.00 2446.00 3002.00 3.457000e+03 8.160000e+03 ▃▇▃▁▁ metertcr_timestamp3 5821 0.05 2941.06 1133.45 386.00 2529.00 3093.00 3.517000e+03 8.850000e+03 ▂▇▂▁▁ metertcr_timestamp4 5821 0.05 3238.18 1159.17 784.00 2762.00 3386.00 3.820000e+03 9.295000e+03 ▂▇▁▁▁ metertcr 5824 0.05 0.96 0.73 0.00 0.38 0.92 1.430000e+00 5.100000e+00 ▇▆▁▁▁ metertcr_timestamp5 5822 0.05 3366.66 1192.24 838.00 2853.75 3458.00 4.019500e+03 9.364000e+03 ▃▇▂▁▁ metertcr_timestamp6 5821 0.05 3391.24 1202.93 839.00 2868.00 3473.00 4.067000e+03 9.414000e+03 ▃▇▂▁▁ discfcr_nocl_timestamp0 5868 0.05 701.03 358.94 200.00 441.25 621.50 8.572500e+02 2.396000e+03 ▇▆▂▁▁ discfcr_nocl_timestamp1 5868 0.05 947.31 433.03 240.00 632.25 868.50 1.162500e+03 2.895000e+03 ▇▇▂▁▁ discfcr_nocl_timestamp2 5867 0.05 1060.68 428.39 277.00 748.00 1007.00 1.284500e+03 3.015000e+03 ▆▇▂▁▁ discfcr_un 5867 0.05 0.00 0.02 0.00 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ discfcr_nocl_confirm_un 5867 0.05 0.00 0.02 0.00 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_timestamp0 5868 0.05 1159.60 459.22 307.00 823.50 1100.00 1.413750e+03 3.179000e+03 ▅▇▂▁▁ disctcr_nocl_timestamp1 5867 0.05 1278.78 494.44 322.00 927.50 1218.00 1.551500e+03 3.364000e+03 ▅▇▃▁▁ disctcr_nocl_timestamp2 5867 0.05 1520.94 504.40 349.00 1164.50 1486.00 1.795500e+03 3.640000e+03 ▂▇▅▁▁ disctcr_un 5867 0.05 0.01 0.04 0.00 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_confirm_un 5867 0.05 0.01 0.04 0.00 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp0 5932 0.03 722.39 399.62 191.00 455.25 645.00 9.057500e+02 3.718000e+03 ▇▂▁▁▁ meterfcr_nocl_timestamp1 5932 0.03 900.67 426.22 240.00 596.00 821.50 1.105500e+03 3.735000e+03 ▇▅▁▁▁ meterfcr_nocl_timestamp3 5932 0.03 1021.50 440.12 280.00 707.00 949.00 1.257500e+03 3.772000e+03 ▇▆▁▁▁ meterfcr_nocl_timestamp4 5932 0.03 1132.05 442.82 402.00 805.50 1078.00 1.365750e+03 3.894000e+03 ▇▆▁▁▁ meterfcr_un 5933 0.03 0.05 0.09 0.00 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_confirm_un 5933 0.03 0.05 0.09 0.00 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp5 5932 0.03 1215.73 451.82 436.00 881.00 1154.50 1.467250e+03 3.935000e+03 ▇▇▁▁▁ meterfcr_nocl_timestamp6 5932 0.03 1243.01 459.83 447.00 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp0 5932 0.03 1243.01 459.83 447.00 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp1 5932 0.03 1347.57 485.70 480.00 976.25 1319.50 1.644750e+03 3.966000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp3 5932 0.03 1433.34 508.89 503.00 1037.75 1389.50 1.703750e+03 4.249000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp4 5932 0.03 1738.61 577.21 703.00 1317.75 1697.00 2.036750e+03 4.439000e+03 ▆▇▂▁▁ metertcr_un 5932 0.03 0.09 0.22 0.00 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_confirm_un 5932 0.03 0.09 0.22 0.00 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_timestamp5 5932 0.03 1899.84 724.11 818.00 1416.75 1786.50 2.215500e+03 5.882000e+03 ▇▆▁▁▁ metertcr_nocl_timestamp6 5932 0.03 1912.97 726.15 821.00 1421.50 1793.50 2.219000e+03 5.885000e+03 ▇▆▁▁▁ formdef_version 0 1.00 2507516039.83 419476.25 2507012214.00 2507202311.00 2507242120.00 2.508052e+09 2.508162e+09 ▇▁▁▁▅ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 17:45:44 5928 starttime 0 1 2025-07-02 10:19:21 2025-08-22 12:43:50 2025-07-30 10:24:59 6001 endtime 0 1 2025-07-02 10:32:26 2025-08-23 06:30:03 2025-07-30 13:22:01 5947 "],["construct-water-point-characteristics.html", "4 Construct water point characteristics 4.1 Load data 4.2 Process variables 4.3 Combine all 4.4 Check data 4.5 Export data", " 4 Construct water point characteristics This script creates variables pertaining to water point characteristics. Code pacman::p_load( tidyverse ) 4.1 Load data Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Clean&quot;, &quot;wp-census-clean.rds&quot; ) ) 4.2 Process variables 4.2.1 IDs and meta data Code ids &lt;- wp %&gt;% mutate( # comments indicate that these are functional wp_func_c = case_when( wp_id %in% c(&quot;WP2101104017001&quot;, &quot;WP2030409076001&quot;, &quot;WP2070301001045&quot;) ~ TRUE, TRUE ~ wp_func ), wp_use_howmuch = if_else( !wp_use, &quot;None&quot;, as.character(wp_use_howmuch) ), dsw_use_howmuch = if_else( !dsw_use, &quot;None&quot;, as.character(dsw_use_howmuch) ), ) %&gt;% select( key, wp_id, date, country, district_id, village_id, enumerator_id, submissiondate, wp_name = wp_name_1, wp_photo, # inclusion criteria wp_drink, wp_multicompound, wp_func, wp_func_c, wp_use_howmuch, dsw_use_howmuch, wp_promoter, enum_comment ) 4.2.2 Type of water source We create a simplified version of source type that groups similar source types together. We will use this column to check for duplicates. We also will also replace missing values in source type to “Other”. Code sourcetype &lt;- wp %&gt;% rename(sourcetype = wp_type) %&gt;% transmute( key, wp_id, sourcetype, sourcetype_o = wp_type_o, sourcetype_simp = case_when( str_detect(sourcetype, &quot;Borehole&quot;) ~ &quot;Borehole&quot;, str_detect(sourcetype, &quot;well&quot;) ~ &quot;Dug well&quot;, str_detect(sourcetype, &quot;spring&quot;) ~ &quot;Spring&quot;, sourcetype %in% c(&quot;Municipal water supply&quot;, &quot;Rainwater collection&quot;) ~ sourcetype, str_detect(sourcetype, &quot;water source&quot;) ~ &quot;Surface water&quot;, !is.na(sourcetype) ~ &quot;Other&quot; ) ) 4.2.3 Intervention Code intervention &lt;- wp %&gt;% select( key, wp_id, wp_dsw, wp_ilc_device, wp_ilc ) 4.3 Combine all Code wp_chars &lt;- ids %&gt;% inner_join( sourcetype, unmatched = &quot;error&quot; ) %&gt;% inner_join( intervention, unmatched = &quot;error&quot; ) ## Joining with `by = ## join_by(key, wp_id)` ## Joining with `by = ## join_by(key, wp_id)` 4.4 Check data We should have on average five observations for each water point, one per enumerator Code wp_chars %&gt;% group_by(wp_id) %&gt;% summarise(n()) %&gt;% tabyl(`n()`) ## n() n percent ## 1 17 0.0137318255 ## 2 3 0.0024232633 ## 3 4 0.0032310178 ## 4 51 0.0411954766 ## 5 1104 0.8917609047 ## 6 44 0.0355411955 ## 7 1 0.0008077544 ## 8 11 0.0088852989 ## 9 2 0.0016155089 ## 10 1 0.0008077544 4.5 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-id&quot; ) write_meta( wp_chars, path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 4.1: Data summary Name Piped data Number of rows 6146 Number of columns 24 _______________________ Column type frequency: character 12 Date 1 factor 2 logical 8 POSIXct 1 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace key 0 1.00 41 41 0 6146 0 wp_id 0 1.00 9 15 0 1238 0 district_id 3 1.00 3 3 0 28 0 village_id 0 1.00 10 10 0 166 0 enumerator_id 0 1.00 4 8 0 146 0 wp_name 0 1.00 1 61 0 1515 0 wp_photo 124 0.98 17 17 0 6022 0 wp_use_howmuch 108 0.98 4 15 0 4 0 dsw_use_howmuch 4173 0.32 4 15 0 4 0 enum_comment 1 1.00 2 550 0 1596 0 sourcetype_o 6121 0.00 3 3 0 1 0 sourcetype_simp 584 0.90 5 22 0 7 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1 2025-07-02 2025-08-23 2025-07-30 46 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts country 0 1.0 FALSE 2 Mal: 3437, Uga: 2709 sourcetype 584 0.9 FALSE 13 Bor: 2657, Mun: 1163, Pro: 560, Pro: 303 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 5586, FAL: 560 wp_multicompound 0 1.00 0.94 TRU: 5766, FAL: 380 wp_func 0 1.00 0.86 TRU: 5307, FAL: 839 wp_func_c 0 1.00 0.87 TRU: 5321, FAL: 825 wp_promoter 3434 0.44 0.11 FAL: 2408, TRU: 304 wp_dsw 1347 0.78 0.41 FAL: 2810, TRU: 1989 wp_ilc_device 599 0.90 0.12 FAL: 4860, TRU: 687 wp_ilc 2522 0.59 0.24 FAL: 2767, TRU: 857 Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 17:45:44 5928 "],["construct-spotcheck-variables.html", "5 Construct spotcheck variables 5.1 Load data 5.2 Water point spotcheck 5.3 ILC spotcheck 5.4 DSW spotchecks 5.5 Combine all 5.6 Check data 5.7 Export data", " 5 Construct spotcheck variables This script creates variables pertaining to water point characteristics. Code pacman::p_load( tidyverse, assertthat ) 5.1 Load data Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Clean&quot;, &quot;wp-census-clean.rds&quot; ) ) 5.2 Water point spotcheck Code spotcheck &lt;- wp %&gt;% dplyr::filter(spotcheck) %&gt;% remove_empty() %&gt;% transmute( key, wp_id, submissiondate, spotcheck, spotcheck_enum = enumerator_id, wp_func_last, wp_turbidity, # These are multiple choice questions and we&#39;re clarifying the options chosen wp_notfunc_dry = wp_func_reason_1, wp_notfunc_pump = wp_func_reason_2, wp_notfunc_ilc_dry = wp_func_reason_ilc_1, wp_notfunc_ilc_pump = wp_func_reason_ilc_2, wp_notfunc_ilc_pipe = wp_func_reason_ilc_3, wp_notfunc_ilc_tank = wp_func_reason_ilc_4, wp_notfunc_ilc_closed = wp_func_reason_ilc_5, wp_notfunc_ilc_power = wp_func_reason_ilc_7, wp_notfunc_ilc_panel = wp_func_reason_ilc_8, # The comments indicate this water point is not paid for wp_pay, wp_pay_c = if_else( wp_id != &quot;WP2010503012013&quot;, wp_pay, FALSE ), wp_pay_userfees = if_else( wp_id != &quot;WP2010503012013&quot;, wp_pay_purpose_1, NA ), wp_pay_maintenance = if_else( wp_id != &quot;WP2010503012013&quot;, wp_pay_purpose_2, NA ), wp_cost, wp_cost_period ) %&gt;% # Comments indicate that these are functional mutate( across( contains(&quot;wp_notfunc&quot;), ~ case_when( !(wp_id %in% c(&quot;WP2101104017001&quot;, &quot;WP2030409076001&quot;, &quot;WP2070301001045&quot;)) ~ . ) ) ) ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) 5.3 ILC spotcheck Code ilc &lt;- wp %&gt;% dplyr::filter(spotcheck) %&gt;% remove_empty() %&gt;% select( key, wp_id, submissiondate, starts_with(&quot;ilc&quot;), -c(ilc_stock_whynot, ilc_stock_whynot_o) ) %&gt;% dplyr::filter(!if_all(starts_with(&quot;ilc&quot;), is.na)) ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) Code assert_that( nrow(ilc) == n_distinct(ilc$wp_id) ) ilc %&gt;% select(-c(key, submissiondate, ilc_devicepic)) %&gt;% unique %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% select(wp_id) %&gt;% unique %&gt;% left_join(ilc) %&gt;% view When there are duplicate entries, we select the cases with the most information Code drop_keys &lt;- c( &quot;uuid:943da487-2f36-480d-8735-cc21a3bcf369&quot;, &quot;uuid:f4cd117d-044a-412a-9f00-b0e48ba726be&quot;, &quot;uuid:25668b37-c830-479d-9518-0c35ce1dbabe&quot;, &quot;uuid:b268b55c-21dc-4238-a73b-f10b76650709&quot;, &quot;uuid:369493b7-fc52-4db4-a60e-86cee305b707&quot; ) ilc &lt;- ilc %&gt;% dplyr::filter(!(key %in% drop_keys)) 5.4 DSW spotchecks Code dsw &lt;- wp %&gt;% dplyr::filter(spotcheck) %&gt;% select( key, wp_id, submissiondate, contains(&quot;disp&quot;), -c( disp_dsw_id_yn, disp_barcode_yn, disp_dsw_date_yn, no_disp_dsw_datephoto, jc_mldispensed ) ) %&gt;% dplyr::filter(!if_all(starts_with(&quot;disp&quot;), is.na)) There are some duplicates because of different dispeser installation dates. We cannot tell which ones are correct. Code assert_that( nrow(dsw) == n_distinct(dsw$wp_id) ) dsw %&gt;% select(-c(key, ends_with(&quot;photo&quot;), submissiondate)) %&gt;% unique %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% select(wp_id) %&gt;% unique %&gt;% left_join(dsw) %&gt;% view 5.5 Combine all Code spotcheck &lt;- spotcheck %&gt;% left_join(ilc, unmatched = &quot;error&quot;) %&gt;% left_join(dsw, unmatched = &quot;error&quot;) %&gt;% rename( spotcheck_key = key, spotcheck_time = submissiondate ) ## Joining with `by = ## join_by(key, wp_id, ## submissiondate)` ## Joining with `by = ## join_by(key, wp_id, ## submissiondate)` 5.6 Check data There should be only one observation per WP, but there are 78 cases of duplicate observations. If all the information is the same and there are just two observations, we will choose the observation randomly. Code spotcheck_no_conflicts &lt;- spotcheck %&gt;% group_by( across( -c( spotcheck_key, spotcheck_time, contains(c(&quot;photo&quot;, &quot;pic&quot;, &quot;enum&quot;)) ) ) ) %&gt;% mutate(count = n_distinct(spotcheck_key)) %&gt;% group_by(wp_id) %&gt;% dplyr::filter( count == n(), spotcheck_key == max(spotcheck_key) ) Code spotcheck_conflicts &lt;- spotcheck %&gt;% group_by( across( -c( spotcheck_key, spotcheck_time, contains(c(&quot;photo&quot;, &quot;pic&quot;, &quot;enum&quot;)) ) ) ) %&gt;% mutate(count = n_distinct(spotcheck_key)) %&gt;% group_by(wp_id) %&gt;% dplyr::filter( count != n() ) In 22 water points, there is some conflicting information. These are water points that were revisited. We will keep only the last observation in these cases Code spotcheck &lt;- spotcheck_conflicts %&gt;% group_by(wp_id) %&gt;% dplyr::filter(spotcheck_time == max(spotcheck_time)) %&gt;% mutate(flag_wpcensus_conflict = TRUE) %&gt;% bind_rows(spotcheck_no_conflicts) %&gt;% arrange(wp_id) %&gt;% ungroup Check that there are no more duplicates Code assert_that( spotcheck %&gt;% pull(wp_id) %&gt;% n_distinct() == nrow(spotcheck) ) ## [1] TRUE 5.7 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-spotcheck&quot; ) write_meta( spotcheck, path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 5.1: Data summary Name Piped data Number of rows 509 Number of columns 47 _______________________ Column type frequency: character 9 Date 1 factor 4 logical 27 numeric 5 POSIXct 1 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace spotcheck_key 0 1.00 41 41 0 509 0 wp_id 0 1.00 9 15 0 509 0 spotcheck_enum 0 1.00 4 8 0 132 0 ilc_problems_o 497 0.02 4 168 0 9 0 ilc_devicepic 394 0.23 17 17 0 115 0 disp_dsw_datephoto 276 0.46 17 46 0 233 0 disp_photo 127 0.75 17 17 0 382 0 disp_barcode_photo 132 0.74 17 46 0 377 0 disp_barcode 132 0.74 5 7 0 374 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique disp_dsw_date 315 0.38 1992-06-15 2025-08-01 2023-02-14 104 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts wp_func_last 488 0.04 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 21 0.96 FALSE 4 1: 386, 2: 71, 3: 29, 4: 2 wp_cost_period 233 0.54 FALSE 7 Mon: 127, As : 92, Ann: 42, Qua: 9 disp_dsw_gen 127 0.75 FALSE 2 Gen: 369, Gen: 13, Can: 0, Gen: 0 Variable type: logical skim_variable n_missing complete_rate mean count spotcheck 0 1.00 1.00 TRU: 509 wp_notfunc_dry 504 0.01 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 504 0.01 1.00 TRU: 5 wp_notfunc_ilc_dry 497 0.02 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 497 0.02 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 497 0.02 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 497 0.02 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 497 0.02 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 497 0.02 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 497 0.02 0.25 FAL: 9, TRU: 3 wp_pay 22 0.96 0.57 TRU: 277, FAL: 210 wp_pay_c 22 0.96 0.57 TRU: 276, FAL: 211 wp_pay_userfees 233 0.54 0.08 FAL: 253, TRU: 23 wp_pay_maintenance 233 0.54 0.93 TRU: 256, FAL: 20 ilc_climb 378 0.26 0.63 TRU: 83, FAL: 48 ilc_operator 378 0.26 0.50 TRU: 66, FAL: 65 ilc_tabletholder 382 0.25 0.87 TRU: 111, FAL: 16 ilc_covercap 382 0.25 0.89 TRU: 113, FAL: 14 ilc_deviceclamped 382 0.25 0.89 TRU: 113, FAL: 14 ilc_devicefunc 381 0.25 0.69 TRU: 88, FAL: 40 ilc_connections 383 0.25 0.08 FAL: 116, TRU: 10 ilc_problems 383 0.25 0.10 FAL: 114, TRU: 12 ilc_stock 378 0.26 0.40 FAL: 78, TRU: 53 disp_tank_present 127 0.75 0.97 TRU: 370, FAL: 12 disp_casing_present 127 0.75 1.00 TRU: 381, FAL: 1 disp_pvc_pole_present 127 0.75 1.00 TRU: 381, FAL: 1 flag_wpcensus_conflict 487 0.04 1.00 TRU: 22 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist wp_cost 240 0.53 1452.79 1989.65 50 500 1000 1500 15000 ▇▁▁▁▁ ilc_wcps 384 0.25 17.44 89.42 1 1 3 19 1000 ▇▁▁▁▁ ilc_tabletstock 456 0.10 2.98 1.72 0 2 3 3 10 ▆▇▁▁▁ disp_dsw_id 248 0.51 138109734.51 711901711.17 870 70180587 80022200 83050458 8204215998 ▇▁▁▁▁ count 0 1.00 1.24 0.78 1 1 1 1 5 ▇▁▁▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique spotcheck_time 0 1 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 20:46:15 507 "],["construct-chlorine-test-sections.html", "6 Construct chlorine test sections 6.1 Load data 6.2 Select relevant variables and observations 6.3 Combine all 6.4 Save data", " 6 Construct chlorine test sections Code pacman::p_load( tidyverse, assertthat ) 6.1 Load data Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Clean&quot;, &quot;wp-census-clean.rds&quot; ) ) 6.2 Select relevant variables and observations 6.2.1 Dispenser fill check Code jc &lt;- wp %&gt;% dplyr::filter(!is.na(jc_valve)) %&gt;% transmute( wp_id, jc_key = key, jc_enum = enumerator_id, jc_time = submissiondate, jc_wait = as.numeric(jc_wait_diff) %&gt;% abs, jc_comments = enum_comment, disp_func = jc_valve, disp_filled = jc_chlorine, disp_dose = case_when( jc_mldispensed &gt; 3 ~ &quot;More than 3 mL&quot;, jc_mldispensed == 3 ~ &quot;3 mL&quot;, jc_mldispensed &gt; 2.5 &amp; jc_mllost ~ &quot;3 mL&quot;, jc_mldispensed &gt; 2.5 &amp; !jc_mllost ~ &quot;Less than 3 mL&quot;, jc_mldispensed &lt; 2.5 ~ &quot;Less than 3 mL&quot;, ) %&gt;% factor( levels = c(&quot;Less than 3 mL&quot;, &quot;3 mL&quot;, &quot;More than 3 mL&quot;), ordered = TRUE ) ) %&gt;% dplyr::filter( !if_all(-c(jc_key, jc_enum, jc_time), is.na), # There are still two identical observations jc_key != &quot;uuid:b92929ea-efc8-4ff9-8247-e0f37d3db788&quot; ) Some water points had to be restested. When there are duplicate entries, we keep only the last observation. Code jc_unique &lt;- jc %&gt;% group_by(wp_id) %&gt;% dplyr::filter(jc_time == max(jc_time)) 6.2.2 Select only color wheel tests Code cw &lt;- wp %&gt;% dplyr::filter( !key %in% c( &quot;uuid:9c596760-afc9-45b3-90e7-5af700e858ef&quot;, &quot;uuid:6e628649-b8a2-4e07-9f5e-d571f776aa33&quot; ), colorwheel ) %&gt;% select( wp_id, colorwheel, cw_key = key, cw_enum = enumerator_id, cw_time = submissiondate, contains(&quot;tubeid&quot;), contains(&quot;disc&quot;), -contains(&quot;nocl&quot;), -contains(&quot;un&quot;), starts_with(&quot;jc_&quot;), -contains(c(&quot;materials&quot;, &quot;insert&quot;, &quot;rinse&quot;, &quot;_nt&quot;, &quot;_read&quot;)), -ends_with(c(&quot;check&quot;, &quot;confirm&quot;)) ) %&gt;% dplyr::filter(!if_all(-c(cw_key, cw_enum, cw_time), is.na)) Some water points had to be restested. When there are duplicate entries, we keep only the last observation. Code cw_unique &lt;- cw %&gt;% group_by(wp_id) %&gt;% dplyr::filter(cw_time == max(cw_time)) Code assert_that( cw_unique %&gt;% pull(wp_id) %&gt;% n_distinct == nrow(cw_unique) ) ## [1] TRUE 6.2.3 Select only colorimeter tests Code meter &lt;- wp %&gt;% dplyr::filter( colorimeter, !(key %in% c( &quot;uuid:988c326e-3e50-4ee4-ad24-3700cacf5051&quot; )) ) %&gt;% select( wp_id, colorimeter, meter_key = key, meter_enum = enumerator_id, meter_time = submissiondate, contains(&quot;vialid&quot;), contains(&quot;meter&quot;), -contains(&quot;nocl&quot;), -contains(&quot;un&quot;), meter_comments = enum_comment, -contains(c(&quot;materials&quot;, &quot;insert&quot;, &quot;rinse&quot;, &quot;_read&quot;, &quot;intro&quot;)), -ends_with(c(&quot;check&quot;, &quot;confirm&quot;, &quot;_nt&quot;)) ) %&gt;% dplyr::filter(!if_all(-c(meter_key, meter_enum, meter_time), is.na)) Some water points had to be restested. When there are duplicate entries, we keep only the last observation. Code meter_unique &lt;- meter %&gt;% group_by(wp_id) %&gt;% dplyr::filter(meter_time == max(meter_time)) Code assert_that( meter_unique %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% nrow == 0 ) ## [1] TRUE 6.2.4 Select only untreated color wheel tests Code cw_nocl &lt;- wp %&gt;% dplyr::filter(colorwheel_un) %&gt;% select( wp_id, colorwheel_un, cw_nocl_key = key, cw_nocl_enum = enumerator_id, cw_nocl_time = submissiondate, discid_nocl:disctcr_nocl_comments, -contains(c(&quot;materials&quot;, &quot;insert&quot;, &quot;rinse&quot;, &quot;_nt&quot;, &quot;_read&quot;)), -ends_with(c(&quot;check&quot;, &quot;confirm&quot;)) ) %&gt;% dplyr::filter(!if_all(-c(cw_nocl_key, cw_nocl_enum, cw_nocl_time), is.na)) Code cw_nocl %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% arrange(wp_id, cw_nocl_time) %&gt;% view Some water points had to be restested. When there are duplicate entries, we keep only the last observation. Code cw_nocl_unique &lt;- cw_nocl %&gt;% group_by(wp_id) %&gt;% dplyr::filter(cw_nocl_time == max(cw_nocl_time)) Code assert_that( cw_nocl_unique %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% nrow == 0 ) ## [1] TRUE 6.2.5 Select only untreated colorimeter tests Code meter_nocl &lt;- wp %&gt;% dplyr::filter(colorimeter_un) %&gt;% select( wp_id, colorimeter_un, meter_nocl_key = key, meter_nocl_enum = enumerator_id, meter_nocl_time = submissiondate, meterid_un:metertcr_nocl_timestamp6, -contains(c(&quot;materials&quot;, &quot;insert&quot;, &quot;rinse&quot;, &quot;_read&quot;, &quot;intro&quot;)), -ends_with(c(&quot;check&quot;, &quot;confirm&quot;, &quot;_nt&quot;)) ) %&gt;% group_by(wp_id) %&gt;% dplyr::filter(!if_all(-c(meter_nocl_key, meter_nocl_enum, meter_nocl_time), is.na)) %&gt;% dplyr::filter(meter_nocl_time == max(meter_nocl_time)) Code assert_that( meter_nocl %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% nrow == 0 ) 6.3 Combine all Code tests &lt;- jc_unique %&gt;% full_join(cw_nocl_unique, relationship = &quot;one-to-one&quot;) %&gt;% full_join(meter_nocl, relationship = &quot;one-to-one&quot;) %&gt;% full_join(cw_unique, relationship = &quot;one-to-one&quot;) %&gt;% full_join(meter_unique, relationship = &quot;one-to-one&quot;) %&gt;% ungroup ## Joining with `by = ## join_by(wp_id)` ## Joining with `by = ## join_by(wp_id)` ## Joining with `by = ## join_by(wp_id)` ## Joining with `by = ## join_by(wp_id)` Code assert_that( nrow(tests) == n_distinct(tests$wp_id) ) ## [1] TRUE Code assert_that( tests %&gt;% group_by(wp_id) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% nrow == 0 ) ## [1] TRUE 6.4 Save data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-constructed-tests&quot; ) tests %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 6.1: Data summary Name Piped data Number of rows 433 Number of columns 135 _______________________ Column type frequency: character 56 factor 9 logical 15 numeric 50 POSIXct 5 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id 0 1.00 9 15 0 433 0 jc_key 133 0.69 41 41 0 300 0 jc_enum 133 0.69 4 8 0 114 0 jc_comments 133 0.69 2 548 0 111 0 cw_nocl_key 154 0.64 41 41 0 279 0 cw_nocl_enum 154 0.64 4 7 0 104 0 discid_nocl 154 0.64 5 5 0 103 0 tubeid_nocl 154 0.64 4 4 0 101 0 tubeid_testtube_nocl 154 0.64 4 4 0 124 0 discfcr_nocl_dpd_photo 154 0.64 17 17 0 279 0 discfcr_nocl_vial_photo 154 0.64 17 46 0 279 0 discfcr_nocl_color_o 431 0.00 5 5 0 1 0 discfcr_nocl_comments 244 0.44 1 145 0 38 0 disctcr_nocl_dpd_photo 154 0.64 17 46 0 279 0 disctcr_nocl_vial_photo 154 0.64 17 46 0 279 0 disctcr_nocl_comments 247 0.43 1 88 0 41 0 meter_nocl_key 219 0.49 41 41 0 214 0 meter_nocl_enum 219 0.49 4 7 0 102 0 meterid_un 219 0.49 5 5 0 32 0 meterfcr_nocl_vialid 219 0.49 5 5 0 32 0 meterfcr_nocl_dpd_photo 219 0.49 17 46 0 214 0 meterfcr_nocl_error 432 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 220 0.49 17 46 0 213 0 no_meterfcr_nocl_vial_photo 432 0.00 16 16 0 1 0 meterfcr_nocl_comments 296 0.32 4 84 0 25 0 metertcr_nocl_vialid 219 0.49 5 5 0 31 0 metertcr_nocl_dpd_photo 220 0.49 17 46 0 213 0 metertcr_nocl_error 248 0.43 23 125 0 185 0 metertcr_nocl_comments 291 0.33 4 68 0 36 0 cw_key 67 0.85 41 41 0 366 0 cw_enum 67 0.85 4 8 0 126 0 tubeid 114 0.74 4 4 0 113 0 tubeid_testtube 114 0.74 4 4 0 137 0 discid 114 0.74 3 6 0 121 0 discfcr_dpd_photo 114 0.74 17 17 0 319 0 discfcr_vial_photo 114 0.74 17 17 0 319 0 discfcr_comments 230 0.47 2 67 0 39 0 disctcr_dpd_photo 114 0.74 17 17 0 319 0 disctcr_vial_photo 114 0.74 17 17 0 319 0 disctcr_comments 230 0.47 2 121 0 43 0 jc_wait_str 186 0.57 3 4 0 221 0 jc_wait_end 186 0.57 3 4 0 234 0 jc_wait_diff 186 0.57 1 5 0 187 0 meter_key 68 0.84 41 41 0 365 0 meter_enum 68 0.84 4 8 0 127 0 meterfcr_vialid 113 0.74 5 5 0 35 0 metertcr_vialid 113 0.74 5 5 0 36 0 meterid 113 0.74 5 5 0 38 0 meterfcr_dpd_photo 113 0.74 17 17 0 320 0 meterfcr_vial_photo 113 0.74 17 17 0 320 0 meterfcr_comments 218 0.50 2 55 0 47 0 metertcr_dpd_photo 113 0.74 17 17 0 320 0 metertcr_error 431 0.00 4 4 0 2 0 metertcr_vial_photo 113 0.74 17 17 0 320 0 metertcr_comments 225 0.48 2 298 0 51 0 meter_comments 68 0.84 2 548 0 123 0 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts disp_dose 185 0.57 TRUE 3 3 m: 204, Les: 27, Mor: 17 discfcr_nocl_color 154 0.64 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 154 0.64 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 219 0.49 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 219 0.49 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_color 114 0.74 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 114 0.74 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_color 113 0.74 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 113 0.74 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 Variable type: logical skim_variable n_missing complete_rate mean count disp_func 133 0.69 1.00 TRU: 299, FAL: 1 disp_filled 134 0.69 0.84 TRU: 251, FAL: 48 colorwheel_un 154 0.64 1.00 TRU: 279 colorimeter_un 219 0.49 1.00 TRU: 214 meterfcr_nocl_zero 219 0.49 1.00 TRU: 214 metertcr_nocl_zero 219 0.49 1.00 TRU: 214 colorwheel 67 0.85 1.00 TRU: 366 jc_valve 139 0.68 1.00 TRU: 294 jc_chlorine 139 0.68 0.84 TRU: 247, FAL: 47 jc_mllost 139 0.68 0.27 FAL: 215, TRU: 79 colorimeter 68 0.84 1.00 TRU: 365 meterfcr_zero 113 0.74 1.00 TRU: 320 meterfcr_error04 423 0.02 1.00 TRU: 10 metertcr_zero 113 0.74 1.00 TRU: 320 metertcr_error04 420 0.03 1.00 TRU: 13 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist jc_wait 181 0.58 1657.66 615.98 0.0 1806.75 1846.00 1977.25 2597.00 ▁▁▁▇▂ discfcr_nocl_timestamp0 155 0.64 701.03 358.94 200.0 441.25 621.50 857.25 2396.00 ▇▆▂▁▁ discfcr_nocl_timestamp1 155 0.64 947.31 433.03 240.0 632.25 868.50 1162.50 2895.00 ▇▇▂▁▁ discfcr_nocl_timestamp2 154 0.64 1060.68 428.39 277.0 748.00 1007.00 1284.50 3015.00 ▆▇▂▁▁ discfcr_un 154 0.64 0.00 0.02 0.0 0.00 0.00 0.00 0.20 ▇▁▁▁▁ discfcr_nocl_confirm_un 154 0.64 0.00 0.02 0.0 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_timestamp0 155 0.64 1159.60 459.22 307.0 823.50 1100.00 1413.75 3179.00 ▅▇▂▁▁ disctcr_nocl_timestamp1 154 0.64 1278.78 494.44 322.0 927.50 1218.00 1551.50 3364.00 ▅▇▃▁▁ disctcr_nocl_timestamp2 154 0.64 1520.94 504.40 349.0 1164.50 1486.00 1795.50 3640.00 ▂▇▅▁▁ disctcr_un 154 0.64 0.01 0.04 0.0 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_confirm_un 154 0.64 0.01 0.04 0.0 0.00 0.00 0.00 0.20 ▇▁▁▁▁ meterfcr_nocl_timestamp0 219 0.49 722.39 399.62 191.0 455.25 645.00 905.75 3718.00 ▇▂▁▁▁ meterfcr_nocl_timestamp1 219 0.49 900.67 426.22 240.0 596.00 821.50 1105.50 3735.00 ▇▅▁▁▁ meterfcr_nocl_timestamp3 219 0.49 1021.50 440.12 280.0 707.00 949.00 1257.50 3772.00 ▇▆▁▁▁ meterfcr_nocl_timestamp4 219 0.49 1132.05 442.82 402.0 805.50 1078.00 1365.75 3894.00 ▇▆▁▁▁ meterfcr_un 220 0.49 0.05 0.09 0.0 0.01 0.03 0.06 0.78 ▇▁▁▁▁ meterfcr_nocl_confirm_un 220 0.49 0.05 0.09 0.0 0.01 0.03 0.06 0.78 ▇▁▁▁▁ meterfcr_nocl_timestamp5 219 0.49 1215.73 451.82 436.0 881.00 1154.50 1467.25 3935.00 ▇▇▁▁▁ meterfcr_nocl_timestamp6 219 0.49 1243.01 459.83 447.0 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp0 219 0.49 1243.01 459.83 447.0 901.50 1167.50 1510.75 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp1 219 0.49 1347.57 485.70 480.0 976.25 1319.50 1644.75 3966.00 ▇▇▂▁▁ metertcr_nocl_timestamp3 219 0.49 1433.34 508.89 503.0 1037.75 1389.50 1703.75 4249.00 ▇▇▂▁▁ metertcr_nocl_timestamp4 219 0.49 1738.61 577.21 703.0 1317.75 1697.00 2036.75 4439.00 ▆▇▂▁▁ metertcr_un 219 0.49 0.09 0.22 0.0 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_confirm_un 219 0.49 0.09 0.22 0.0 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_timestamp5 219 0.49 1899.84 724.11 818.0 1416.75 1786.50 2215.50 5882.00 ▇▆▁▁▁ metertcr_nocl_timestamp6 219 0.49 1912.97 726.15 821.0 1421.50 1793.50 2219.00 5885.00 ▇▆▁▁▁ discfcr_timestamp0 183 0.58 2229.80 973.08 141.0 2109.00 2533.50 2780.25 5470.00 ▃▂▇▁▁ discfcr_timestamp1 114 0.74 2498.85 1033.17 152.0 2209.50 2700.00 3073.00 5805.00 ▂▂▇▁▁ discfcr_timestamp2 114 0.74 2622.11 1042.43 400.0 2316.00 2818.00 3239.50 5866.00 ▃▂▇▁▁ discfcr 114 0.74 0.63 0.52 0.0 0.20 0.60 1.00 3.20 ▇▅▁▁▁ disctcr_timestamp0 183 0.58 2678.21 1063.77 477.0 2440.50 2918.00 3292.00 6145.00 ▃▃▇▁▁ disctcr_timestamp1 114 0.74 2884.59 1103.00 519.0 2525.00 3050.00 3508.00 6515.00 ▃▃▇▁▁ disctcr_timestamp2 114 0.74 3139.31 1101.40 606.0 2771.00 3293.00 3770.00 6722.00 ▂▃▇▂▁ disctcr 114 0.74 0.82 0.64 0.0 0.40 0.80 1.20 3.40 ▇▆▂▁▁ jc_mldispensed 186 0.57 2.96 0.48 1.2 2.95 3.00 3.00 7.30 ▁▇▁▁▁ meterfcr_timestamp0 182 0.58 2243.38 933.58 206.0 2088.50 2483.00 2773.50 5353.00 ▂▂▇▁▁ meterfcr_timestamp1 113 0.74 2446.10 1044.83 234.0 2187.25 2602.00 2967.75 7330.00 ▃▇▂▁▁ meterfcr_timestamp3 113 0.74 2550.84 1054.85 257.0 2263.25 2689.00 3071.50 7670.00 ▂▇▂▁▁ meterfcr_timestamp4 113 0.74 2676.98 1058.17 291.0 2396.00 2822.50 3187.25 7747.00 ▂▇▂▁▁ meterfcr 113 0.74 0.88 0.70 0.0 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_timestamp5 114 0.74 2762.75 1073.73 342.0 2468.50 2905.00 3296.50 7913.00 ▂▇▃▁▁ meterfcr_timestamp6 113 0.74 2781.98 1085.22 343.0 2467.50 2916.00 3335.50 8000.00 ▂▇▃▁▁ metertcr_timestamp0 182 0.58 2706.59 1017.43 343.0 2471.50 2899.00 3242.50 5967.00 ▂▂▇▁▁ metertcr_timestamp1 113 0.74 2877.56 1103.18 361.0 2510.50 3011.50 3463.75 8160.00 ▂▇▃▁▁ metertcr_timestamp3 113 0.74 2958.88 1131.47 386.0 2552.25 3096.50 3519.50 8850.00 ▂▇▂▁▁ metertcr_timestamp4 113 0.74 3256.60 1157.05 784.0 2831.75 3395.00 3837.75 9295.00 ▂▇▁▁▁ metertcr 115 0.73 0.96 0.73 0.0 0.38 0.93 1.43 5.10 ▇▆▁▁▁ metertcr_timestamp5 114 0.74 3385.28 1190.20 838.0 2891.50 3472.00 4033.00 9364.00 ▃▇▂▁▁ metertcr_timestamp6 113 0.74 3410.12 1200.75 839.0 2898.75 3482.00 4072.25 9414.00 ▃▇▂▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique jc_time 133 0.69 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-28 18:29:16 299 cw_nocl_time 154 0.64 2025-07-21 17:40:30 2025-08-22 17:46:10 2025-08-01 16:54:57 278 meter_nocl_time 219 0.49 2025-07-21 17:44:39 2025-08-19 15:22:54 2025-07-30 17:54:08 213 cw_time 67 0.85 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-29 13:56:10 366 meter_time 68 0.84 2025-07-02 18:30:48 2025-08-23 06:32:32 2025-07-29 15:28:51 365 "],["construct-water-point-location.html", "7 Construct water point location 7.1 Create spatial version of the data set 7.2 Save data", " 7 Construct water point location Code packages &lt;- c( &quot;tidyverse&quot;, &quot;sf&quot;, &quot;skimr&quot;, &quot;janitor&quot;, &quot;haven&quot; ) pacman::p_load(packages, character.only = TRUE) Code wp &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-characteristics.rds&quot; ) ) 7.1 Create spatial version of the data set We choose to project the coordinates to the EPSG code 4326, which adds Greenwich as the starting point (prime meridian) for the longitude and sets the units to degrees. Code wp_sf &lt;- wp %&gt;% st_as_sf( coords = c(&quot;wp_gpslongitude&quot;, &quot;wp_gpslatitude&quot;), crs = 4326 ) 7.2 Save data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-clean&quot; ) wp_sf %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. Table 7.1: Data summary Name Piped data Number of rows 7786 Number of columns 486 _______________________ Column type frequency: character 117 Date 5 factor 81 logical 160 numeric 120 POSIXct 3 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace deviceid 0 1.00 15 36 0 168 0 username 4349 0.44 9 9 0 16 0 comments 7724 0.01 157 157 0 62 0 today 0 1.00 10 11 0 60 0 metadata 0 1.00 49 151 0 7786 0 randomdraw_bc 0 1.00 10 24 0 7785 0 uid 0 1.00 7 7 0 7786 0 wp_idbck 0 1.00 7 7 0 7786 0 wp_randtxt 0 1.00 2 2 0 1292 0 wp_randnum 0 1.00 11 24 0 7786 0 wp_randnum_int 0 1.00 1 2 0 10 0 wpid_time 0 1.00 1 4 0 3174 0 temp_wp_id 0 1.00 10 12 0 7786 0 districtmw 4351 0.44 3 3 0 9 0 tamw 4351 0.44 5 5 0 48 0 gvhmw 4351 0.44 7 7 0 88 0 villagemw 4351 0.44 10 10 0 104 0 vil_id 0 1.00 10 10 0 185 0 caseid_vil 0 1.00 10 10 0 185 0 ta_name 0 1.00 4 12 0 110 0 gvh_name 0 1.00 4 16 0 157 0 village_id 0 1.00 10 10 0 185 0 wp_id 0 1.00 9 15 0 1566 0 enumerator 0 1.00 18 168 0 147 0 enumerator_id 0 1.00 4 8 0 146 0 enumerator_name 0 1.00 9 160 0 144 0 wp_name_1 0 1.00 1 61 0 1922 0 wp_name_2 7354 0.06 1 29 0 107 0 wp_name_3 7766 0.00 12 20 0 7 0 cal_wp_name 0 1.00 1 65 0 1963 0 wp_landmarks 124 0.98 1 243 0 3546 0 wp_photo 124 0.98 23 125 0 7662 0 wp_type_o 7355 0.06 3 22 0 5 0 wp_func_reason 7776 0.00 1 4 0 3 0 wp_func_reason_ilc 7765 0.00 1 8 0 8 0 wp_func_reason_o 7782 0.00 24 75 0 4 0 wp_pay_purpose 7370 0.05 1 4 0 4 0 wp_pay_purpose_o 7785 0.00 128 128 0 1 0 disp_dsw_id2 7438 0.04 3 10 0 311 0 disp_dsw_datephoto 7472 0.04 23 125 0 314 0 no_disp_dsw_datephoto 7779 0.00 3 14 0 6 0 disp_photo 7316 0.06 23 125 0 470 0 disp_barcode_photo 7321 0.06 23 125 0 465 0 disp_barcode 7321 0.06 5 7 0 414 0 disp_barcode2 7321 0.06 5 7 0 414 0 ilc_problems_o 7773 0.00 4 168 0 10 0 ilc_devicepic 7544 0.03 23 125 0 242 0 ilc_devicepic_na 7353 0.06 2 140 0 75 0 ilc_stock_whynot 7678 0.01 1 4 0 2 0 ilc_stock_whynot_o 7777 0.00 10 197 0 7 0 jc_wait_str 7247 0.07 3 4 0 430 0 jc_wait 7265 0.07 1 7 0 3 0 jc_wait_end 7247 0.07 3 4 0 469 0 jc_wait_diff 7247 0.07 1 5 0 335 0 discid 7412 0.05 3 6 0 126 0 tubeid 7412 0.05 4 4 0 114 0 tubeid_testtube 7412 0.05 4 4 0 145 0 disc_materials 7412 0.05 7 13 0 5 0 discfcr_dpd_photo 7412 0.05 23 125 0 374 0 discfcr_vial_photo 7412 0.05 23 125 0 374 0 discfcr_comments 7562 0.03 2 67 0 41 0 disctcr_dpd_photo 7412 0.05 23 125 0 374 0 disctcr_vial_photo 7412 0.05 23 125 0 374 0 disctcr_comments 7563 0.03 2 121 0 44 0 meterid 7412 0.05 5 5 0 46 0 meter_materials 7412 0.05 1 15 0 9 0 meterfcr_vialid 7412 0.05 5 5 0 45 0 meterfcr_dpd_photo 7412 0.05 23 125 0 374 0 meterfcr_vial_photo 7412 0.05 23 125 0 374 0 meterfcr_comments 7548 0.03 2 55 0 49 0 metertcr_vialid 7412 0.05 5 5 0 45 0 metertcr_dpd_photo 7412 0.05 23 125 0 374 0 metertcr_error 7783 0.00 4 4 0 3 0 metertcr_vial_photo 7412 0.05 23 125 0 374 0 metertcr_comments 7555 0.03 2 298 0 55 0 discid_nocl 7471 0.04 5 5 0 111 0 tubeid_nocl 7471 0.04 4 4 0 105 0 tubeid_testtube_nocl 7471 0.04 4 4 0 131 0 disc_nocl_materials 7471 0.04 7 13 0 3 0 discfcr_nocl_dpd_photo 7471 0.04 23 125 0 315 0 discfcr_nocl_vial_photo 7471 0.04 23 125 0 315 0 discfcr_nocl_color_o 7784 0.00 5 5 0 1 0 discfcr_nocl_comments 7580 0.03 1 145 0 38 0 disctcr_nocl_dpd_photo 7471 0.04 23 125 0 315 0 disctcr_nocl_vial_photo 7471 0.04 23 125 0 315 0 disctcr_nocl_comments 7583 0.03 1 88 0 42 0 meterid_un 7538 0.03 5 5 0 39 0 meter_nocl_materials 7538 0.03 11 15 0 5 0 meterfcr_nocl_vialid 7538 0.03 5 5 0 40 0 meterfcr_nocl_dpd_photo 7538 0.03 23 125 0 248 0 meterfcr_nocl_error 7785 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 7539 0.03 23 125 0 247 0 no_meterfcr_nocl_vial_photo 7785 0.00 16 16 0 1 0 meterfcr_nocl_comments 7641 0.02 4 84 0 25 0 metertcr_nocl_vialid 7538 0.03 5 5 0 39 0 metertcr_nocl_dpd_photo 7539 0.03 23 125 0 247 0 metertcr_nocl_error 7567 0.03 23 125 0 219 0 metertcr_nocl_comments 7635 0.02 4 68 0 37 0 enum_comment 1 1.00 2 550 0 1874 0 key 0 1.00 41 41 0 7786 0 skey 0 1.00 12 12 0 7786 0 districtid 4352 0.44 3 3 0 8 0 districtug 3438 0.56 3 3 0 21 0 subcountyug 3438 0.56 5 5 0 64 0 parishug 3438 0.56 7 7 0 72 0 subcounty_name 3462 0.56 4 10 0 63 0 wp_key 3437 0.56 4 6 0 80 0 parish_name 3462 0.56 5 16 0 69 0 village_name 3437 0.56 5 18 0 82 0 review_comments 7333 0.06 94 95 0 19 0 survey_start1meter_nocl_grp1mete 7772 0.00 17 17 0 14 0 _hfcokayvar 3437 0.56 1 1 0 1 0 district_id 3 1.00 3 3 0 29 0 initials 6806 0.13 2 2 0 3 0 correction_comments 7240 0.07 11 210 0 43 0 sourcetype_simp 849 0.89 5 22 0 7 0 geometry 0 1.00 31 38 0 7762 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique disp_dsw_date 7517 0.03 1992-06-15 2025-08-01 2022-11-18 125 startdate 0 1.00 2025-07-02 2025-09-30 2025-08-05 57 enddate 0 1.00 2025-07-02 2025-09-30 2025-08-05 60 subdate 0 1.00 2025-07-02 2025-09-30 2025-08-05 61 date 0 1.00 2025-07-02 2025-09-30 2025-08-05 61 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts countryl 415 0.95 FALSE 2 Uga: 3936, Mal: 3435 country 0 1.00 FALSE 2 Uga: 4349, Mal: 3437 district 0 1.00 FALSE 29 Zom: 894, Man: 830, Kib: 715, Nen: 415 sourcetype 849 0.89 FALSE 13 Bor: 3243, Mun: 1323, Pro: 577, Oth: 426 wp_ilc_device 865 0.89 FALSE 2 No: 6087, Yes: 834, Don: 0 wp_ilc_evac 6953 0.11 FALSE 2 Yes: 688, No: 145, Don: 0 wp_ilc 3046 0.61 FALSE 2 No: 3268, Yes: 1472, Don: 0 wp_promoter 4668 0.40 FALSE 2 No: 2753, Yes: 365, Don: 0 wp_func_last 7754 0.00 FALSE 4 Les: 14, Bet: 9, Mor: 6, Bet: 3 wp_turbidity 7095 0.09 FALSE 4 1: 493, 2: 154, 3: 42, 4: 2 wp_pay 7095 0.09 FALSE 2 Yes: 416, No: 275, Don: 0 wp_cost_period 7371 0.05 FALSE 8 As : 195, Mon: 152, Ann: 47, Qua: 13 disp_dsw_gen 7316 0.06 FALSE 2 Gen: 453, Gen: 17, Can: 0, Gen: 0 ilc_tabletholder 7531 0.03 FALSE 2 Yes: 230, No: 25, Don: 0 ilc_covercap 7532 0.03 FALSE 2 Yes: 238, No: 16, Don: 0 ilc_deviceclamped 7532 0.03 FALSE 2 Yes: 237, No: 17, Don: 0 ilc_devicefunc 7531 0.03 FALSE 2 Yes: 206, No: 49, Don: 0 ilc_connections 7536 0.03 FALSE 2 No: 235, Yes: 15, Don: 0 ilc_problems 7534 0.03 FALSE 2 No: 239, Yes: 13, Don: 0 jc_chlorine 7152 0.08 FALSE 2 Yes: 538, No: 96, Don: 0 discfcr_comp_rinse 7412 0.05 FALSE 1 Ack: 374 discfcr_comp_insert 7412 0.05 FALSE 1 Ack: 374 discfcr_test_rinse 7412 0.05 FALSE 1 Ack: 374 discfcr_test_dpd_nt 7412 0.05 FALSE 1 Ack: 374 discfcr_read 7412 0.05 FALSE 1 Ack: 374 discfcr_color 7412 0.05 FALSE 4 3 -: 174, 1 -: 81, 2 -: 78, 4 -: 41 discfcr_dispose_nt 7412 0.05 FALSE 1 Ack: 374 disctcr_test_rinse 7412 0.05 FALSE 1 Ack: 374 disctcr_test_dpd_nt 7412 0.05 FALSE 1 Ack: 374 disctcr_read 7412 0.05 FALSE 1 Ack: 374 disctcr_color 7412 0.05 FALSE 4 3 -: 163, 4 -: 81, 1 -: 67, 2 -: 63 disctcr_dispose_nt 7412 0.05 FALSE 1 Ack: 374 meter_intro 7412 0.05 FALSE 1 Ack: 374 meterfcr_check 7412 0.05 FALSE 1 Ack: 374 meterfcr_rinse 7412 0.05 FALSE 1 Ack: 374 meterfcr_insert 7412 0.05 FALSE 1 Ack: 374 meterfcr_dpd_add 7412 0.05 FALSE 1 Ack: 374 meterfcr_read 7412 0.05 FALSE 1 Ack: 374 meterfcr_color 7412 0.05 FALSE 4 3 -: 141, 4 -: 113, 1 -: 77, 2 -: 43 meterfcr_dispose_nt 7412 0.05 FALSE 1 Ack: 374 metertcr_check 7412 0.05 FALSE 1 Ack: 374 metertcr_rinse 7412 0.05 FALSE 1 Ack: 374 metertcr_insert 7412 0.05 FALSE 1 Ack: 374 metertcr_dpd_add 7412 0.05 FALSE 1 Ack: 374 metertcr_read 7412 0.05 FALSE 1 Ack: 374 metertcr_color 7412 0.05 FALSE 4 4 -: 155, 3 -: 111, 1 -: 72, 2 -: 36 metertcr_dispose_nt 7412 0.05 FALSE 1 Ack: 374 water_dispose 7412 0.05 FALSE 1 Ack: 374 empt_rinse 7154 0.08 FALSE 1 Ack: 632 discfcr_nocl_comp_rinse 7471 0.04 FALSE 1 Ack: 315 discfcr_nocl_comp_insert 7471 0.04 FALSE 1 Ack: 315 discfcr_nocl_test_rinse 7471 0.04 FALSE 1 Ack: 315 discfcr_nocl_test_dpd_nt 7471 0.04 FALSE 1 Ack: 315 discfcr_nocl_read 7471 0.04 FALSE 1 Ack: 315 discfcr_nocl_color 7471 0.04 FALSE 3 1 -: 301, 2 -: 12, Oth: 2, 3 -: 0 discfcr_nocl_dispose_nt 7471 0.04 FALSE 1 Ack: 315 disctcr_nocl_test_rinse 7471 0.04 FALSE 1 Ack: 315 disctcr_nocl_test_dpd_nt 7471 0.04 FALSE 1 Ack: 315 disctcr_nocl_read 7471 0.04 FALSE 1 Ack: 315 disctcr_nocl_color 7471 0.04 FALSE 2 1 -: 275, 2 -: 40, Oth: 0, 3 -: 0 disctcr_nocl_dispose_nt 7471 0.04 FALSE 1 Ack: 315 meter_nocl_intro 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_check 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_rinse 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_insert 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_dpd_add 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_read 7538 0.03 FALSE 1 Ack: 248 meterfcr_nocl_color 7538 0.03 FALSE 3 1 -: 225, 2 -: 22, 4 -: 1, Oth: 0 meterfcr_nocl_dispose_nt 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_check 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_rinse 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_insert 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_dpd_add 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_read 7538 0.03 FALSE 1 Ack: 248 metertcr_nocl_color 7538 0.03 FALSE 3 1 -: 208, 2 -: 39, 3 -: 1, Oth: 0 metertcr_nocl_dispose_nt 7538 0.03 FALSE 1 Ack: 248 water_dispose_un 7538 0.03 FALSE 1 Ack: 248 wp_use_howmuch 3930 0.50 FALSE 3 Mor: 1704, Onl: 1526, Two: 626, Don: 0 dsw_use_howmuch 7557 0.03 FALSE 3 Onl: 181, Two: 26, Mor: 22, Don: 0 village 3437 0.56 FALSE 82 Kab: 309, Kas: 265, Bug: 240, Bul: 170 intervention_type 0 1.00 FALSE 4 Non: 3941, DSW: 2236, ILC: 1251, ILC: 358 Variable type: logical skim_variable n_missing complete_rate mean count audio_audit 7786 0.00 NaN : bc_selected 7786 0.00 NaN : confirm_details_yn 0 1.00 1.00 TRU: 7786 wp_name_4 7786 0.00 NaN : wp_drink 0 1.00 0.89 TRU: 6961, FAL: 825 wp_multicompound 0 1.00 0.92 TRU: 7191, FAL: 595 wp_func 0 1.00 0.84 TRU: 6533, FAL: 1253 no_wp_photo 7786 0.00 NaN : wp_dsw 1760 0.77 0.37 FAL: 3778, TRU: 2248 spotcheck 4091 0.47 0.20 FAL: 2971, TRU: 724 colorwheel 4091 0.47 0.11 FAL: 3272, TRU: 423 colorimeter 4091 0.47 0.11 FAL: 3274, TRU: 421 colorwheel_un 4091 0.47 0.09 FAL: 3380, TRU: 315 colorimeter_un 4091 0.47 0.07 FAL: 3447, TRU: 248 no_testing 4091 0.47 0.43 FAL: 2123, TRU: 1572 wp_eligible 7786 0.00 NaN : wp_func_reason_1 7776 0.00 0.10 FAL: 9, TRU: 1 wp_func_reason_2 7776 0.00 0.80 TRU: 8, FAL: 2 wp_func_reason_6 7776 0.00 0.00 FAL: 10 wp_func_reason_7 7776 0.00 0.00 FAL: 10 wp_func_reason_8 7776 0.00 0.00 FAL: 10 wp_func_reason__666 7776 0.00 0.20 FAL: 8, TRU: 2 wp_func_reason__999 7776 0.00 0.00 FAL: 10 wp_func_reason_ilc_1 7765 0.00 0.67 TRU: 14, FAL: 7 wp_func_reason_ilc_2 7765 0.00 0.05 FAL: 20, TRU: 1 wp_func_reason_ilc_3 7765 0.00 0.33 FAL: 14, TRU: 7 wp_func_reason_ilc_4 7765 0.00 0.05 FAL: 20, TRU: 1 wp_func_reason_ilc_5 7765 0.00 0.05 FAL: 20, TRU: 1 wp_func_reason_ilc_6 7765 0.00 0.00 FAL: 21 wp_func_reason_ilc_7 7765 0.00 0.05 FAL: 20, TRU: 1 wp_func_reason_ilc_8 7765 0.00 0.24 FAL: 16, TRU: 5 wp_func_reason_ilc__666 7765 0.00 0.14 FAL: 18, TRU: 3 wp_func_reason_ilc__999 7765 0.00 0.00 FAL: 21 wp_pay_purpose_1 7370 0.05 0.07 FAL: 386, TRU: 30 wp_pay_purpose_2 7370 0.05 0.94 TRU: 390, FAL: 26 wp_pay_purpose__666 7370 0.05 0.00 FAL: 415, TRU: 1 wp_cost_period_o 7786 0.00 NaN : disp_tank_present 7311 0.06 0.95 TRU: 452, FAL: 23 disp_casing_present 7316 0.06 1.00 TRU: 469, FAL: 1 disp_pvc_pole_present 7311 0.06 1.00 TRU: 474, FAL: 1 disp_dsw_id_yn 7316 0.06 0.74 TRU: 348, FAL: 122 disp_dsw_date_yn 7611 0.02 0.96 TRU: 168, FAL: 7 no_disp_photo 7786 0.00 NaN : disp_barcode_yn 7316 0.06 0.99 TRU: 465, FAL: 5 no_disp_barcode_photo 7786 0.00 NaN : ilc_climb 7527 0.03 0.79 TRU: 204, FAL: 55 ilc_operator 7527 0.03 0.66 TRU: 170, FAL: 89 ilc_stock 7527 0.03 0.58 TRU: 151, FAL: 108 ilc_stock_whynot_1 7678 0.01 0.92 TRU: 99, FAL: 9 ilc_stock_whynot__666 7678 0.01 0.08 FAL: 99, TRU: 9 jc_valve 7151 0.08 1.00 TRU: 634, FAL: 1 jc_mldispensed_why 7786 0.00 NaN : jc_mllost 7151 0.08 0.28 FAL: 458, TRU: 177 jc_wait_time_ms 7786 0.00 NaN : jc_wait_time_m 7786 0.00 NaN : test_ilc_disc 7786 0.00 NaN : test_dsw_disc 7786 0.00 NaN : disc_materials_1 7412 0.05 1.00 TRU: 374 disc_materials_2 7412 0.05 1.00 TRU: 374 disc_materials_3 7412 0.05 1.00 TRU: 373, FAL: 1 disc_materials_4 7412 0.05 1.00 TRU: 374 disc_materials_5 7412 0.05 0.99 TRU: 370, FAL: 4 disc_materials_6 7412 0.05 1.00 TRU: 373, FAL: 1 disc_materials_7 7412 0.05 0.99 TRU: 372, FAL: 2 no_discfcr_dpd_photo 7786 0.00 NaN : discfcr_wait 7786 0.00 NaN : no_discfcr_vial_photo 7786 0.00 NaN : discfcr_color_o 7786 0.00 NaN : no_disctcr_dpd_photo 7786 0.00 NaN : disctcr_wait 7786 0.00 NaN : no_disctcr_vial_photo 7786 0.00 NaN : disctcr_color_o 7786 0.00 NaN : test_ilc_meter 7786 0.00 NaN : test_dsw_meter 7786 0.00 NaN : meter_materials_1 7412 0.05 1.00 TRU: 373, FAL: 1 meter_materials_2 7412 0.05 0.99 TRU: 371, FAL: 3 meter_materials_3 7412 0.05 1.00 TRU: 373, FAL: 1 meter_materials_4 7412 0.05 0.99 TRU: 372, FAL: 2 meter_materials_5 7412 0.05 0.99 TRU: 372, FAL: 2 meter_materials_6 7412 0.05 0.99 TRU: 371, FAL: 3 meter_materials_7 7412 0.05 0.98 TRU: 368, FAL: 6 meter_materials_8 7412 0.05 0.98 TRU: 367, FAL: 7 meterfcr_zero 7412 0.05 1.00 TRU: 374 no_meterfcr_dpd_photo 7786 0.00 NaN : meterfcr_wait 7786 0.00 NaN : meterfcr_error04 7772 0.00 1.00 TRU: 14 meterfcr_error 7786 0.00 NaN : no_meterfcr_vial_photo 7786 0.00 NaN : meterfcr_color_o 7786 0.00 NaN : metertcr_zero 7412 0.05 1.00 TRU: 374 no_metertcr_dpd_photo 7786 0.00 NaN : metertcr_wait 7786 0.00 NaN : metertcr_error04 7769 0.00 1.00 TRU: 17 no_metertcr_vial_photo 7786 0.00 NaN : metertcr_color_o 7786 0.00 NaN : disc_nocl_materials_1 7471 0.04 1.00 TRU: 315 disc_nocl_materials_2 7471 0.04 1.00 TRU: 315 disc_nocl_materials_3 7471 0.04 1.00 TRU: 315 disc_nocl_materials_4 7471 0.04 1.00 TRU: 315 disc_nocl_materials_5 7471 0.04 0.99 TRU: 312, FAL: 3 disc_nocl_materials_6 7471 0.04 1.00 TRU: 314, FAL: 1 disc_nocl_materials_7 7471 0.04 1.00 TRU: 314, FAL: 1 no_discfcr_nocl_dpd_photo 7786 0.00 NaN : discfcr_nocl_wait 7786 0.00 NaN : no_discfcr_nocl_vial_photo 7786 0.00 NaN : no_disctcr_nocl_dpd_photo 7786 0.00 NaN : disctcr_nocl_wait 7786 0.00 NaN : no_disctcr_nocl_vial_photo 7786 0.00 NaN : disctcr_nocl_color_o 7786 0.00 NaN : meter_nocl_materials_1 7538 0.03 0.99 TRU: 245, FAL: 3 meter_nocl_materials_2 7538 0.03 1.00 TRU: 248 meter_nocl_materials_3 7538 0.03 1.00 TRU: 248 meter_nocl_materials_4 7538 0.03 1.00 TRU: 248 meter_nocl_materials_5 7538 0.03 1.00 TRU: 248 meter_nocl_materials_6 7538 0.03 1.00 TRU: 248 meter_nocl_materials_7 7538 0.03 0.99 TRU: 246, FAL: 2 meter_nocl_materials_8 7538 0.03 0.99 TRU: 245, FAL: 3 meterfcr_nocl_zero 7538 0.03 1.00 TRU: 248 no_meterfcr_nocl_dpd_photo 7786 0.00 NaN : meterfcr_nocl_wait 7786 0.00 NaN : meterfcr_nocl_color_o 7786 0.00 NaN : metertcr_nocl_zero 7538 0.03 1.00 TRU: 248 no_metertcr_nocl_dpd_photo 7786 0.00 NaN : metertcr_nocl_wait 7786 0.00 NaN : metertcr_nocl_error04_mes 7786 0.00 NaN : no_metertcr_nocl_vial_photo 7786 0.00 NaN : metertcr_nocl_color_o 7786 0.00 NaN : wp_use 26 1.00 0.51 TRU: 3939, FAL: 3821 dsw_use 5552 0.29 0.10 FAL: 2002, TRU: 232 complete 7786 0.00 NaN : flag_not_5 4349 0.44 0.19 FAL: 2780, TRU: 657 wp_name_5 7786 0.00 NaN : metertcr_nocl_error04 7784 0.00 1.00 TRU: 2 survey_start1water_point_gpr1wp_ 7761 0.00 0.40 FAL: 15, TRU: 10 photo2 4094 0.47 1.00 TRU: 3692 disp_barcode_photo_mi 3437 0.56 0.05 FAL: 4133, TRU: 216 discfcr_dpd_photo_mi 3437 0.56 0.09 FAL: 3942, TRU: 407 discfcr_vial_photo_mi 3437 0.56 0.09 FAL: 3942, TRU: 407 disctcr_dpd_photo_mi 3437 0.56 0.09 FAL: 3942, TRU: 407 disctcr_vial_photo_mi 3437 0.56 0.09 FAL: 3942, TRU: 407 meterfcr_dpd_photo_mi 3437 0.56 0.05 FAL: 4133, TRU: 216 meterfcr_vial_photo_mi 3437 0.56 0.05 FAL: 4133, TRU: 216 metertcr_dpd_photo_mi 3437 0.56 0.05 FAL: 4133, TRU: 216 metertcr_vial_photo_mi 3437 0.56 0.05 FAL: 4133, TRU: 216 _hfcokay 3437 0.56 0.00 FAL: 4349 wp_ilc_device_c 865 0.89 0.12 FAL: 6087, TRU: 834 wp_ilc_evac_c 6953 0.11 0.83 TRU: 688, FAL: 145 wp_ilc_c 3046 0.61 0.31 FAL: 3268, TRU: 1472 wp_promoter_c 4668 0.40 0.12 FAL: 2753, TRU: 365 wp_pay_c 7095 0.09 0.60 TRU: 416, FAL: 275 ilc_tabletholder_c 7531 0.03 0.90 TRU: 230, FAL: 25 ilc_covercap_c 7532 0.03 0.94 TRU: 238, FAL: 16 ilc_deviceclamped_c 7532 0.03 0.93 TRU: 237, FAL: 17 ilc_devicefunc_c 7531 0.03 0.81 TRU: 206, FAL: 49 ilc_connections_c 7536 0.03 0.06 FAL: 235, TRU: 15 ilc_problems_c 7534 0.03 0.05 FAL: 239, TRU: 13 jc_chlorine_c 7152 0.08 0.85 TRU: 538, FAL: 96 dsw 0 1.00 0.29 FAL: 5550, TRU: 2236 ilc_wp 0 1.00 0.05 FAL: 7428, TRU: 358 ilc_wcp 0 1.00 0.20 FAL: 6250, TRU: 1536 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist duration 1 1.00 571.06 1059.64 1.00000e+00 10.00 211.00 558.00 10492.00 ▇▁▁▁▁ duration_min 0 1.00 16.36 19.56 1.00000e+00 5.00 8.22 18.00 175.00 ▇▁▁▁▁ wp_count 0 1.00 9.14 10.27 1.00000e+00 3.00 6.00 11.00 62.00 ▇▁▁▁▁ num_wp_names 0 1.00 1.06 0.24 1.00000e+00 1.00 1.00 1.00 3.00 ▇▁▁▁▁ wp_gpsaltitude 0 1.00 950.41 311.31 0.00000e+00 643.60 1068.30 1135.10 1928.90 ▁▅▇▃▁ wp_gpsaccuracy 0 1.00 20.61 231.29 6.00000e-01 4.20 4.60 4.90 5000.00 ▇▁▁▁▁ wp_cost 7379 0.05 1353.93 1729.51 5.00000e+01 500.00 1000.00 1000.00 15000.00 ▇▁▁▁▁ disp_dsw_id 7467 0.04 179776348.90 907762148.22 8.70000e+02 70180491.00 80022200.00 83050770.50 8204215998.00 ▇▁▁▁▁ ilc_wcps 7534 0.03 22.37 64.66 1.00000e+00 2.00 28.00 31.00 1000.00 ▇▁▁▁▁ ilc_tabletstock 7637 0.02 2.99 1.05 0.00000e+00 3.00 3.00 3.00 10.00 ▂▇▁▁▁ jc_mldispensed 7248 0.07 2.95 0.43 1.20000e+00 2.90 3.00 3.00 7.30 ▁▇▁▁▁ jc_mldispensed2 7707 0.01 2.91 1.01 1.50000e+00 2.35 2.80 3.00 7.30 ▆▇▁▁▁ discfcr_timestamp0 7484 0.04 2139.46 1079.53 1.41000e+02 1147.00 2485.50 2777.25 8329.00 ▃▇▁▁▁ discfcr_timestamp1 7412 0.05 2423.46 1113.91 1.52000e+02 1609.00 2675.00 3073.50 8620.00 ▃▇▁▁▁ discfcr_timestamp2 7412 0.05 2541.79 1123.12 3.75000e+02 1807.25 2790.50 3237.00 8665.00 ▃▇▁▁▁ discfcr 7412 0.05 0.59 0.54 0.00000e+00 0.20 0.60 0.80 3.20 ▇▃▁▁▁ discfcr_confirm 7412 0.05 0.59 0.54 0.00000e+00 0.20 0.60 0.80 3.20 ▇▃▁▁▁ disctcr_timestamp0 7484 0.04 2597.47 1151.32 4.31000e+02 1754.25 2878.00 3292.00 8852.00 ▃▇▁▁▁ disctcr_timestamp1 7412 0.05 2810.06 1170.82 5.13000e+02 2085.25 3027.50 3513.00 8877.00 ▃▇▂▁▁ disctcr_timestamp2 7412 0.05 3062.59 1170.25 6.06000e+02 2387.75 3279.50 3773.00 9103.00 ▃▇▂▁▁ disctcr 7412 0.05 0.77 0.66 0.00000e+00 0.20 0.80 1.20 3.40 ▇▆▂▁▁ disctcr_confirm 7412 0.05 0.77 0.66 0.00000e+00 0.20 0.80 1.20 3.40 ▇▆▂▁▁ meterfcr_timestamp0 7485 0.04 2119.66 1046.05 2.06000e+02 1138.00 2423.00 2756.00 7163.00 ▃▇▂▁▁ meterfcr_timestamp1 7412 0.05 2333.60 1114.57 2.34000e+02 1496.25 2555.00 2931.50 7330.00 ▃▇▂▁▁ meterfcr_timestamp2 7786 0.00 NaN NA NA NA NA NA NA meterfcr_timestamp3 7412 0.05 2443.24 1117.91 2.57000e+02 1750.00 2641.50 3044.50 7670.00 ▃▇▂▁▁ meterfcr_timestamp4 7412 0.05 2564.09 1123.61 2.91000e+02 1916.75 2770.00 3152.25 7747.00 ▃▇▂▁▁ meterfcr 7412 0.05 0.84 0.71 0.00000e+00 0.16 0.80 1.32 4.60 ▇▅▁▁▁ meterfcr_confirm 7412 0.05 0.84 0.71 0.00000e+00 0.16 0.80 1.32 4.60 ▇▅▁▁▁ meterfcr_timestamp5 7413 0.05 2650.95 1135.24 3.29000e+02 1998.00 2841.00 3275.00 7913.00 ▃▇▃▁▁ meterfcr_timestamp6 7412 0.05 2673.45 1143.23 3.31000e+02 2005.00 2855.50 3290.25 8000.00 ▃▇▃▁▁ metertcr_timestamp0 7485 0.04 2599.03 1096.27 3.31000e+02 1970.00 2819.00 3215.00 7432.00 ▅▇▅▁▁ metertcr_timestamp1 7412 0.05 2768.27 1158.29 3.36000e+02 2078.25 2931.50 3393.00 8160.00 ▃▇▃▁▁ metertcr_timestamp2 7786 0.00 NaN NA NA NA NA NA NA metertcr_timestamp3 7412 0.05 2852.32 1179.80 3.38000e+02 2125.00 2999.00 3484.00 8850.00 ▃▇▂▁▁ metertcr_timestamp4 7412 0.05 3142.05 1205.36 3.40000e+02 2401.50 3305.50 3785.25 9295.00 ▃▇▃▁▁ metertcr 7415 0.05 0.92 0.73 0.00000e+00 0.28 0.86 1.40 5.10 ▇▅▁▁▁ metertcr_confirm 7415 0.05 0.92 0.73 0.00000e+00 0.28 0.86 1.40 5.10 ▇▅▁▁▁ metertcr_timestamp5 7413 0.05 3273.61 1242.92 3.43000e+02 2506.00 3407.00 3952.00 9364.00 ▃▇▃▁▁ metertcr_timestamp6 7412 0.05 3298.77 1252.11 3.44000e+02 2527.75 3442.00 4017.00 9414.00 ▃▇▃▁▁ discfcr_nocl_timestamp0 7472 0.04 704.37 353.77 1.74000e+02 445.25 630.00 878.75 2396.00 ▇▆▂▁▁ discfcr_nocl_timestamp1 7472 0.04 950.27 420.50 2.40000e+02 640.00 878.50 1166.75 2895.00 ▇▇▂▁▁ discfcr_nocl_timestamp2 7471 0.04 1061.11 415.68 2.77000e+02 757.00 1030.00 1279.50 3015.00 ▅▇▂▁▁ discfcr_un 7471 0.04 0.00 0.02 0.00000e+00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ discfcr_nocl_confirm_un 7471 0.04 0.00 0.02 0.00000e+00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_timestamp0 7472 0.04 1162.93 446.02 3.07000e+02 830.50 1106.50 1415.50 3179.00 ▅▇▂▁▁ disctcr_nocl_timestamp1 7471 0.04 1284.33 481.59 3.22000e+02 944.00 1235.00 1565.50 3364.00 ▃▇▃▁▁ disctcr_nocl_timestamp2 7471 0.04 1526.35 489.45 3.49000e+02 1168.00 1502.00 1801.00 3640.00 ▂▇▅▁▁ disctcr_un 7471 0.04 0.01 0.04 0.00000e+00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_confirm_un 7471 0.04 0.01 0.04 0.00000e+00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ meterfcr_nocl_timestamp0 7538 0.03 713.60 400.90 1.91000e+02 442.75 637.50 895.25 3718.00 ▇▂▁▁▁ meterfcr_nocl_timestamp1 7538 0.03 886.38 427.83 2.40000e+02 590.50 807.50 1100.25 3735.00 ▇▅▁▁▁ meterfcr_nocl_timestamp2 7786 0.00 NaN NA NA NA NA NA NA meterfcr_nocl_timestamp3 7538 0.03 1005.48 440.94 2.80000e+02 699.50 935.50 1244.00 3772.00 ▇▆▁▁▁ meterfcr_nocl_timestamp4 7538 0.03 1119.03 446.49 4.02000e+02 788.25 1056.50 1336.25 3894.00 ▇▆▁▁▁ meterfcr_un 7539 0.03 0.06 0.09 0.00000e+00 0.01 0.03 0.06 0.78 ▇▁▁▁▁ meterfcr_nocl_confirm_un 7539 0.03 0.06 0.09 0.00000e+00 0.01 0.03 0.06 0.78 ▇▁▁▁▁ meterfcr_nocl_timestamp5 7538 0.03 1206.58 453.57 4.36000e+02 874.50 1130.50 1457.25 3935.00 ▇▆▁▁▁ meterfcr_nocl_timestamp6 7538 0.03 1235.48 461.40 4.47000e+02 889.75 1156.50 1500.00 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp0 7538 0.03 1235.48 461.40 4.47000e+02 889.75 1156.50 1500.00 3937.00 ▇▇▁▁▁ metertcr_nocl_timestamp1 7538 0.03 1337.38 489.16 4.80000e+02 969.25 1306.00 1608.75 3966.00 ▇▇▂▁▁ metertcr_nocl_timestamp2 7786 0.00 NaN NA NA NA NA NA NA metertcr_nocl_timestamp3 7538 0.03 1422.81 509.89 5.03000e+02 1035.00 1379.50 1692.75 4249.00 ▇▇▂▁▁ metertcr_nocl_timestamp4 7538 0.03 1725.29 574.68 7.03000e+02 1312.75 1661.50 2010.25 4439.00 ▆▇▂▁▁ metertcr_un 7538 0.03 0.09 0.21 0.00000e+00 0.03 0.05 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_confirm_un 7538 0.03 0.09 0.21 0.00000e+00 0.03 0.05 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_timestamp5 7538 0.03 1904.97 734.85 8.18000e+02 1406.75 1756.00 2217.00 5882.00 ▇▆▁▁▁ metertcr_nocl_timestamp6 7538 0.03 1926.60 745.45 8.21000e+02 1420.00 1791.50 2234.50 5885.00 ▇▆▁▁▁ formdef_version 0 1.00 2507831637.43 716995.48 2.50625e+09 2507221933.00 2508031202.00 2508052234.00 2509020610.00 ▁▇▁▅▃ meterfcr_timestamp0_hfc 7635 0.02 31.91 16.71 3.00000e+00 13.50 38.00 44.00 61.00 ▅▂▃▇▂ meterfcr_timestamp1_hfc 7603 0.02 34.40 17.00 4.00000e+00 17.00 40.00 47.00 66.00 ▆▂▆▇▂ meterfcr_timestamp3_hfc 7603 0.02 36.19 17.14 4.00000e+00 19.50 41.00 48.00 69.00 ▆▂▇▇▂ meterfcr_timestamp4_hfc 7603 0.02 38.41 17.44 5.00000e+00 21.00 44.00 50.50 71.00 ▅▂▅▇▂ meterfcr_timestamp5_hfc 7603 0.02 39.65 17.66 6.00000e+00 22.00 45.00 52.00 73.00 ▆▂▆▇▃ meterfcr_timestamp6_hfc 7603 0.02 39.98 17.72 6.00000e+00 23.50 45.00 52.00 76.00 ▆▂▇▇▂ metertcr_timestamp0_hfc 7635 0.02 39.17 17.68 6.00000e+00 20.50 44.00 51.50 73.00 ▆▂▆▇▂ metertcr_timestamp1_hfc 7603 0.02 41.46 17.79 6.00000e+00 26.00 46.00 53.50 78.00 ▆▂▇▇▂ metertcr_timestamp3_hfc 7603 0.02 42.58 18.03 6.00000e+00 27.00 47.00 54.50 80.00 ▅▃▇▇▂ metertcr_timestamp4_hfc 7603 0.02 47.74 18.84 1.30000e+01 31.50 52.00 60.00 93.00 ▅▃▇▃▁ metertcr_timestamp5_hfc 7603 0.02 49.59 19.16 1.40000e+01 32.50 53.00 61.00 94.00 ▅▃▇▃▁ metertcr_timestamp6_hfc 7603 0.02 49.98 19.45 1.40000e+01 34.50 53.00 62.00 101.00 ▅▃▇▂▁ discfcr_timestamp0_hfc 7633 0.02 31.92 17.60 4.00000e+00 12.00 39.00 44.00 82.00 ▅▁▇▁▁ discfcr_timestamp1_hfc 7603 0.02 35.82 18.18 5.00000e+00 17.00 41.00 48.00 87.00 ▅▂▇▂▁ discfcr_timestamp2_hfc 7603 0.02 37.85 18.14 7.00000e+00 19.50 43.00 49.50 90.00 ▅▂▇▂▁ jc_wait_diff_hfc 7551 0.03 -25.90 11.35 -5.10000e+01 -32.00 -31.00 -23.50 0.00 ▁▇▅▁▃ jc_wait_hfc 7564 0.03 145.47 2010.72 0.00000e+00 0.00 0.00 0.00 29872.00 ▇▁▁▁▁ lat1 4349 0.44 -15.15 0.49 -1.59800e+01 -15.52 -15.33 -14.83 -14.18 ▃▇▅▂▅ lon1 4349 0.44 35.20 0.30 3.44200e+01 35.07 35.30 35.43 35.64 ▂▂▂▇▅ lat2 4366 0.44 -15.15 0.49 -1.59800e+01 -15.52 -15.33 -14.82 -14.18 ▃▇▅▂▅ lon2 4366 0.44 35.21 0.30 3.44200e+01 35.07 35.30 35.43 35.64 ▂▂▂▇▆ lat3 4372 0.44 -15.15 0.49 -1.59800e+01 -15.52 -15.32 -14.80 -14.18 ▃▇▅▂▅ lon3 4372 0.44 35.20 0.30 3.44200e+01 35.07 35.30 35.42 35.64 ▂▁▂▇▅ lat4 4387 0.44 -15.15 0.49 -1.59800e+01 -15.52 -15.32 -14.80 -14.18 ▃▇▃▂▅ lon4 4387 0.44 35.20 0.30 3.44200e+01 35.07 35.30 35.41 35.64 ▂▁▂▇▅ lat5 4611 0.41 -15.15 0.50 -1.59800e+01 -15.53 -15.33 -14.68 -14.18 ▃▇▃▂▅ lon5 4611 0.41 35.21 0.29 3.44200e+01 35.08 35.30 35.43 35.64 ▂▁▂▇▅ dist_1_2 4366 0.44 0.09 1.05 0.00000e+00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_3 4372 0.44 0.23 1.36 0.00000e+00 0.00 0.01 0.01 21.50 ▇▁▁▁▁ dist_1_4 4387 0.44 0.27 1.84 0.00000e+00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_1_5 4611 0.41 0.15 1.77 0.00000e+00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_2_3 4372 0.44 0.23 1.25 0.00000e+00 0.00 0.01 0.01 12.30 ▇▁▁▁▁ dist_2_4 4387 0.44 0.26 1.75 0.00000e+00 0.00 0.01 0.01 30.74 ▇▁▁▁▁ dist_2_5 4611 0.41 0.07 1.40 0.00000e+00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_3_4 4387 0.44 0.42 1.95 0.00000e+00 0.00 0.01 0.01 30.73 ▇▁▁▁▁ dist_3_5 4611 0.41 0.30 1.89 0.00000e+00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ dist_4_5 4611 0.41 0.34 2.28 0.00000e+00 0.00 0.01 0.01 35.22 ▇▁▁▁▁ max_dist_at_point 4366 0.44 0.53 2.58 0.00000e+00 0.00 0.00 0.00 35.00 ▇▁▁▁▁ waterpoint_count 4349 0.44 5.12 0.83 1.00000e+00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ obs_count 4349 0.44 5.12 0.83 1.00000e+00 5.00 5.00 5.00 10.00 ▁▁▇▁▁ fcr1_start 7595 0.02 2685.34 1073.83 1.52000e+02 2426.50 2857.00 3224.50 8620.00 ▂▇▁▁▁ fcr2_end 7595 0.02 2802.21 1096.66 3.75000e+02 2496.00 2988.00 3337.50 8665.00 ▂▇▁▁▁ mtcr1_start 7595 0.02 2590.94 1142.05 2.90000e+02 2366.50 2699.00 3087.50 7330.00 ▃▇▃▁▁ tcr1_start 7595 0.02 2590.94 1142.05 2.90000e+02 2366.50 2699.00 3087.50 7330.00 ▃▇▃▁▁ tcr3_start 7595 0.02 2704.69 1140.82 3.20000e+02 2427.50 2781.00 3203.50 7670.00 ▃▇▂▁▁ tcr4_end 7595 0.02 2814.61 1141.06 3.24000e+02 2501.00 2893.00 3337.00 7747.00 ▃▇▃▁▁ tcr5_start 7596 0.02 2913.60 1144.87 3.29000e+02 2574.25 2990.00 3428.25 7913.00 ▃▇▃▁▁ tcr6_end 7595 0.02 2937.08 1156.69 3.31000e+02 2586.00 3011.00 3485.50 8000.00 ▃▇▃▁▁ fcr_duration 7595 0.02 116.87 220.58 -1.00000e+00 57.50 92.00 123.00 3040.00 ▇▁▁▁▁ tcr_duration2 7595 0.02 109.92 166.51 4.00000e+00 50.50 72.00 119.50 1856.00 ▇▁▁▁▁ tcr_duration3 7595 0.02 33.51 43.93 1.00000e+00 2.00 5.00 61.00 185.00 ▇▂▂▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1 2025-07-02 18:28:02 2025-09-30 19:20:59 2025-08-05 16:47:29 7516 starttime 0 1 2025-07-02 10:19:21 2025-09-30 17:54:41 2025-08-05 10:15:17 7591 endtime 0 1 2025-07-02 10:32:26 2025-09-30 18:28:21 2025-08-05 11:23:57 7545 "],["construct-distances-between-water-points.html", "8 Construct distances between water points 8.1 Export data", " 8 Construct distances between water points Code packages &lt;- c( &quot;tidyverse&quot;, &quot;here&quot;, &quot;sf&quot;, &quot;janitor&quot; ) pacman::p_load( packages, character.only = TRUE ) Code sources_clean_sf &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-clean.rds&quot; ) ) Separate data frame into district-level data frames to reduce run time. Code sources_district &lt;- sources_clean_sf %&gt;% group_by(district) %&gt;% group_split Calculate distances between all water points in the same district Code sources_dist &lt;- sources_district %&gt;% map( ~ st_distance_df( ., &quot;key&quot;, ., &quot;key&quot; ) ) %&gt;% bind_rows() %&gt;% dplyr::filter( key.x != key.y ) 8.1 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;water-point-distances&quot; ) write_meta( sources_dist, path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 8.1: Data summary Name Piped data Number of rows 3497112 Number of columns 3 _______________________ Column type frequency: character 2 numeric 1 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace key.x 0 1 41 41 0 7786 0 key.y 0 1 41 41 0 7786 0 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist distance 0 1 15398.37 14213.44 0 1192.92 11800.11 25461.99 86834.9 ▇▃▁▁▁ "],["collapse-census.html", "9 Collapse census 9.1 Load data 9.2 Check observations + unique enumerators by wp_id 9.3 Check variables match by wp_id 9.4 Combine with sections submitted by a single enumerator 9.5 Save", " 9 Collapse census For the water point census, each water point will be visited by a group of enumerators. All enumerators will complete up to section 2, and the other sections will be completed by a subset of the enumerators The purpose of this script is to collapse these observations into 1 by checking if they match on key variables. We will flag observations as matches and flag non-matches to print in the HFCs. Code packages &lt;- c( &quot;tidyverse&quot;, &quot;here&quot;, &quot;haven&quot;, &quot;viridis&quot;, &quot;skimr&quot;, &quot;janitor&quot;, &quot;assertthat&quot;, &quot;scales&quot;, &quot;leaflet&quot;, &quot;sf&quot;, &quot;stringdist&quot; ) pacman::p_load( packages, character.only = TRUE ) 9.1 Load data Code test_obs &lt;- c( &quot;uuid:2d779cb5-c7e7-4207-8a52-f77aa96d7326&quot;, &quot;uuid:2f5dbf50-a0de-49e5-a4ae-2a0edd530062&quot;, &quot;uuid:7273e785-af52-4269-a884-0cbd82f53d79&quot;, &quot;uuid:045484a0-b3eb-4fa8-bbda-9260601c089d&quot;, &quot;uuid:adc1d56c-ccd7-467a-8c1b-051b13fc15b5&quot;, &quot;uuid:c771d79c-3c10-45be-bf94-3483a5c1bb54&quot;, &quot;uuid:f6b6a654-a356-4884-8e02-743e2a6a472e&quot;, &quot;uuid:8bf1e4e9-e376-4897-8ff6-507f36376d5f&quot;, &quot;uuid:87a21ef1-1f91-4ea8-8744-98a03560c6e8&quot; ) These are cases where one enumerator entered one field incorrectly. In these cases, we will take the mode of the response for each variable. Code mismatches_checked &lt;- c( &quot;2030602007012&quot;, &quot;2030602007011&quot;, &quot;2050908035007&quot;, &quot;2100501004006&quot;, &quot;2030409076002&quot;, &quot;2030602007013&quot;, &quot;2011515073002&quot;, &quot;2101447374004&quot;, &quot;2030409076001&quot;, &quot;2030602007019&quot;, &quot;2030602007015&quot;, &quot;2041805024002&quot;, &quot;2030602007018&quot;, &quot;2050906028002&quot;, &quot;2052104020009&quot;, &quot;2030602007004&quot;, &quot;2011507019001&quot;, &quot;2011515073008&quot;, &quot;2011507019003&quot;, &quot;2101416144002&quot;, &quot;2030602007016&quot;, &quot;2101412111015&quot;, &quot;2100718156004&quot;, &quot;2030602007017&quot;, &quot;2011507019002&quot;, &quot;1170404009007&quot;, &quot;1110504004011&quot;, &quot;1040705006006&quot;, &quot;1160903004001&quot;, &quot;1151005002002&quot;, &quot;1120905002001&quot;, &quot;2101433260019&quot;, &quot;2101433260001&quot;, &quot;2041408045025&quot;, &quot;2041408045020&quot;, &quot;2041408045002&quot;, &quot;2041408045013&quot;, &quot;2041408045021&quot;, &quot;2050903013001&quot;, &quot;2070301001012&quot;, &quot;1222002006005&quot;, &quot;1021602004005&quot;, &quot;1181807006008&quot;, &quot;2101447374006&quot;, &quot;1180406003005&quot;, &quot;1181204003002&quot;, &quot;2041810063001&quot;, &quot;2030602007014&quot;, &quot;2041404018003&quot;, &quot;2041404018004&quot;, &quot;2041404018005&quot;, &quot;1180903005001&quot;, &quot;2041408045019&quot;, &quot;2011707039017&quot; ) These observations have fewer valid entries than other entries for the same WP in the ID vars, and will not be considered for the ID variables section. Code missing_id_vars &lt;- c( &quot;uuid:03e4f216-487a-411d-a64f-52b3d58aeb87&quot;, &quot;uuid:4cddfe3f-3084-4efe-b5a4-656dd12ace1d&quot;, &quot;uuid:4f7b9a95-18d2-4f77-9023-1f704c992d3e&quot;, &quot;uuid:97468e5b-9508-4c36-90fc-5d160bbf3454&quot;, ## Temporary, fix once Aziz updates the data &quot;uuid:4efec896-33a4-4f88-afc4-69e5ce2c0c9a&quot;, &quot;uuid:3ab447dc-3798-4a74-bf6b-e9e6077eb8a4&quot;, &quot;uuid:c1fabcfc-d27c-41ec-87bf-b73604f8b76d&quot; ) 9.1.1 Distance to other water points Code distances &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;water-point-distances.rds&quot; ) ) 9.1.2 Water point characteristics Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-id.rds&quot; ) ) %&gt;% mutate( wp_id_c = paste0(village_id, str_sub(wp_id, str_length(wp_id) - 2, str_length(wp_id))) ) %&gt;% arrange(wp_id_c) assert_that( any(test_obs %in% wp$key) == FALSE ) ## [1] TRUE 9.1.3 GPS coordinates Code wp_sf &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-clean.rds&quot; ) ) %&gt;% dplyr::filter( !(key %in% test_obs) ) %&gt;% select(key, wp_id) 9.2 Check observations + unique enumerators by wp_id We expect that for each wp_id, there are n observations corresponding to n unique enumerators, where n &gt; 2. We use these values in the high frequency check flagging code. Code wp &lt;- wp %&gt;% group_by(wp_id_c) %&gt;% mutate( n_obs = n(), n_enum = n_distinct(enumerator_id) ) %&gt;% ungroup() Code wp %&gt;% tabyl(n_obs) %&gt;% adorn_pct_formatting() ## n_obs n percent ## 1 16 0.3% ## 2 6 0.1% ## 3 12 0.2% ## 4 212 3.4% ## 5 5495 89.4% ## 6 282 4.6% ## 7 7 0.1% ## 8 88 1.4% ## 9 18 0.3% ## 10 10 0.2% 9.2.1 Check distances between observations Among water points that are very close, we check that the wp_id is the same. Code dist_check &lt;- wp %&gt;% transmute( key.x = key, wp_id.x = wp_id_c ) %&gt;% inner_join( distances, by = &quot;key.x&quot; ) %&gt;% inner_join( wp %&gt;% transmute( key.y = key, wp_id.y = wp_id_c ), by = &quot;key.y&quot; ) %&gt;% mutate( id_match = (wp_id.x == wp_id.y) ) nearest_wp &lt;- dist_check %&gt;% group_by(key.x) %&gt;% dplyr::filter(distance == min(distance)) %&gt;% ungroup() %&gt;% dplyr::select( key = key.x, wp_id.y, distance ) We plot the frequency of a id_match by distance. Code dist_check %&gt;% mutate( dist_bins = case_when( distance &lt;= 2 ~ 1, distance &lt;= 5 ~ 2, distance &lt;= 10 ~ 3, distance &lt;= 15 ~ 4, distance &lt;= 20 ~ 5, distance &lt;= 25 ~ 6, distance &lt;= 30 ~ 7, distance &lt;= 35 ~ 8, distance &lt;= 40 ~ 9, distance &lt;= 50 ~ 10, TRUE ~ 11 ) %&gt;% factor( levels = 1:11, labels = c( &quot;&lt;2m&quot;, &quot;&lt;5m&quot;, &quot;&lt;10m&quot;, &quot;&lt;15m&quot;, &quot;&lt;20m&quot;, &quot;&lt;25m&quot;, &quot;&lt;30m&quot;, &quot;&lt;35m&quot;, &quot;&lt;40m&quot;, &quot;&lt;50m&quot;, &quot;&gt;50m&quot; ), ordered = T ) ) %&gt;% group_by(dist_bins) %&gt;% summarise( pct_match = sum(id_match)/n() ) %&gt;% ungroup() %&gt;% ggplot( aes( x = dist_bins, y = pct_match ) ) + geom_col(fill = viridis(1)) + theme + labs( x = &quot;Distance to water source (m)&quot;, y = &quot;Percentage of sources with matching ID&quot; ) + scale_y_continuous( labels = scales::percent, breaks = breaks_width(.2) ) ## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family ## not found in Windows font database ## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family ## not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database 9.2.2 Establish criteria for a distance match + water point ID match Here we establish if sources are close to one another (within 50m) or were manually noted to have a bad gps reading. Code bad_gps &lt;- c( # start of enumerator MW27379 in Gravel -- their device was off the entire day &quot;uuid:4ae0ce01-2e2b-4bef-93ac-c06e8e2c4954&quot;, &quot;uuid:a6ebdc51-7a52-4489-adc3-c6ab226803ba&quot;, &quot;uuid:2748c433-d465-4763-bc78-f912693703cc&quot;, &quot;uuid:3a9d8479-2849-4984-b1d6-1c9dd63dbaef&quot;, &quot;uuid:0721e6e4-a599-4334-9485-0bb7580a0e7a&quot;, &quot;uuid:893c29cf-7620-4b6e-baee-5f1b7617610c&quot;, &quot;uuid:807cda1b-38a5-4b92-aff1-db510f7551c9&quot;, &quot;uuid:e6ef709f-f2a6-422f-b830-a9ea74a47d20&quot;, # end of enumerator MW27379 in Gravel # start of enumerator MW22121 in Malunga -- their device was off the entire day &quot;uuid:6c1da34e-5d8c-4103-bb35-0c822bebf22c&quot;, &quot;uuid:c97fce87-4309-469f-a4a0-1d689f2d5fed&quot;, &quot;uuid:fe2c810a-0e56-4bcc-a21f-d907973ef1e3&quot;, &quot;uuid:848ecc75-2a60-4163-b045-93685dd17703&quot;, &quot;uuid:53cea14e-7a8a-4810-87e8-207b829e3586&quot;, &quot;uuid:db14a48c-12d3-45af-8709-8d76a9f3ef76&quot;, # end of enumerator MW22121 in Malunga # MW20384 in Nkalo, WP2030602007006 &quot;uuid:6f7c22ba-708a-440d-951b-e39be34fb91a&quot;, # MW22659 in Mtambo, WP2100718156003 &quot;uuid:dd7925f2-d396-443b-be52-f16e64c30bd2&quot;, # MW22659 in Mtambo, WP2100718156004 &quot;uuid:860f71e9-2c2a-47ed-99ed-545d09556e3b&quot;, # MW26198 in Malowa &quot;uuid:052db89b-a570-4f24-a560-8ebe366c8e7b&quot;, &quot;uuid:2e7970d5-75b8-4d7b-9eac-9c2b8152b8ed&quot;, &quot;uuid:45b95abd-319e-4c64-89e3-c5109523588d&quot;, &quot;uuid:e13aa959-6bb0-4ef8-b9e2-f450f8c00970&quot;, &quot;uuid:d1d627eb-7b93-4624-abf0-cb8d465892ee&quot;, &quot;uuid:a8c28013-9251-4b36-a8d0-21849ed3558d&quot;, &quot;uuid:d9361f17-0608-4029-990e-2ebbc9d4ee2c&quot;, &quot;uuid:33951c56-3e1c-4584-a523-b8f536344bfc&quot;, &quot;uuid:750f4011-9c7d-4bf2-b22c-8b5fe817b19e&quot;, # MW26198 in Chipengule &quot;uuid:b33d52d0-c1fe-447f-9526-09d16a401dbe&quot;, # MW22483 in Ojesi &quot;uuid:9994e29c-29d4-490b-b8e9-9ca61f579367&quot;, # 225517 in Kasozi, WP7016008 &quot;uuid:ce9e87aa-bc36-4157-8060-91a2718f5dcb&quot;, # 313765 in Buyondo, WP6002015 &quot;uuid:291bfa86-74bf-45c4-8168-57af53ff9964&quot;, # 118182 in Amon Gogonyo, WP3002001 &quot;uuid:9f410ddf-c7bb-42e5-a3ab-56ff058c4af4&quot;, # MW21532 in Jameskanono, WP2030413107004 &quot;uuid:6086fce5-e1e9-456f-82f5-87db766253fd&quot;, # MW25398 in Wilson, WP2020314063002 &quot;uuid:5879557a-a58f-4f4b-939e-fdd336564256&quot;, # The program information on this entry is wrong &quot;uuid:bfb40401-a5cb-4e9e-8644-6ca56d4f7fa8&quot; ) Code dist_check &lt;- dist_check %&gt;% mutate( close = (distance &lt;= 25), close_id = id_match &amp; close ) Code dist_check %&gt;% tabyl(close_id) %&gt;% adorn_pct_formatting() ## close_id n percent ## FALSE 2606986 99.1% ## TRUE 23634 0.9% 9.3 Check variables match by wp_id Among sources that are within 25 meters of each other + have the same wp_id, we check that they agree on the following variables: - Location: - country - district_id - village_id - Water source characteristics: - wp_drink - wp_multicompound - wp_name - sourcetype - sourcetype_simp - wp_dsw - wp_ilc - wp_ilc_device - wp_func TODO: this should change if new variables are added to sections 2 We compute the percentage of variables that they agree on. For wp_name, enumerators can input a string, so we compute the average string distance between water sources. We consider a wp_name to be a match if the average string distance is &lt;= 0.3. I decided on this threshold by trying to compute the string distance between strings with small mispellings. Code comparison_vars &lt;- c( &quot;country&quot;, &quot;district_id&quot;, &quot;village_id&quot;, &quot;wp_name&quot;, &quot;wp_drink&quot;, &quot;wp_multicompound&quot;, &quot;sourcetype&quot;, &quot;sourcetype_simp&quot;, &quot;wp_dsw&quot;, &quot;wp_ilc&quot;, &quot;wp_ilc_device&quot;, &quot;wp_func&quot; ) Code compare_wps &lt;- dist_check %&gt;% # select sources within 25m + id match dplyr::filter(close_id) %&gt;% transmute( key = key.x, wp_id_c = wp_id.x ) %&gt;% distinct() %&gt;% # Join information from each enumerator group_by(wp_id_c) %&gt;% mutate(mch_id = cur_group_id()) %&gt;% ungroup() %&gt;% inner_join( wp, by = c(&quot;key&quot;, &quot;wp_id_c&quot;) ) %&gt;% group_by(mch_id) %&gt;% mutate( # For categorical variables, we can do a binary check across( all_of(comparison_vars[-c(1)]), ~ n_distinct(.) == 1, .names = &quot;match_{.col}&quot; ), # For water source name, we calculate the average string distance avg_st_dist = { names &lt;- wp_name dists &lt;- stringdistmatrix(names, names, method = &quot;jw&quot;) upper_tri &lt;- dists[upper.tri(dists)] mean(upper_tri, na.rm = T) }, match_wp_name = ifelse(is.na(avg_st_dist), F, (avg_st_dist &lt;= 0.3)) ) %&gt;% rowwise() %&gt;% mutate( pct_match = (sum( c_across( starts_with(&quot;match_&quot;) ), na.rm = TRUE )/length(comparison_vars)) * 100 ) %&gt;% ungroup Check if most water points have consistent information Code compare_wps %&gt;% ggplot() + geom_histogram( aes( x = pct_match ), fill = viridis(1) ) + theme + labs( x = &quot;Percentage of matched variables \\nwithin a cluster of water points&quot;, y = &quot;Number of observations&quot;, caption = paste0( &quot;Note: this only includes water points that are within 25m of other&quot;, &quot; water points with the same water point ID.&quot; ) %&gt;% str_wrap(100) ) ## `stat_bin()` using `bins = ## 30`. Pick better value with ## `binwidth`. ## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font ## family not found in Windows font database ## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family ## not found in Windows font database ## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font ## family not found in Windows font database ## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font ## family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database ## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : ## font family not found in Windows font database There are 5 enumerators per team, if only one has a different answer, we will consider it to be the same water point. That means 80% or more of matched variables. Code matched &lt;- compare_wps %&gt;% dplyr::filter(pct_match &gt;= 80) %&gt;% pull(key) %&gt;% unique() Cases with less than 80% matches are individually inspected: Code compare_wps %&gt;% dplyr::filter(pct_match &lt; 80) %&gt;% tabyl(date) ## date n percent ## 2025-07-07 5 0.020 ## 2025-07-15 5 0.020 ## 2025-07-16 5 0.020 ## 2025-07-17 4 0.016 ## 2025-07-18 7 0.028 ## 2025-07-19 5 0.020 ## 2025-07-20 1 0.004 ## 2025-07-21 5 0.020 ## 2025-07-22 19 0.076 ## 2025-07-23 55 0.220 ## 2025-07-26 12 0.048 ## 2025-07-27 2 0.008 ## 2025-07-28 25 0.100 ## 2025-07-29 15 0.060 ## 2025-07-30 5 0.020 ## 2025-07-31 5 0.020 ## 2025-08-04 15 0.060 ## 2025-08-05 9 0.036 ## 2025-08-06 10 0.040 ## 2025-08-07 5 0.020 ## 2025-08-09 15 0.060 ## 2025-08-11 5 0.020 ## 2025-08-14 15 0.060 ## 2025-08-16 1 0.004 Code compare_wps %&gt;% dplyr::filter( !(key %in% matched), !(wp_id_c %in% mismatches_checked) ) %&gt;% arrange(date, wp_id) %&gt;% select(key, pct_match, date, country, wp_id, wp_id_c, village_id, enumerator_id, all_of(comparison_vars), wp_photo, comments) %&gt;% view Code good_keys &lt;- compare_wps %&gt;% dplyr::filter( (key %in% matched) | wp_id_c %in% mismatches_checked ) %&gt;% pull(key) %&gt;% unique() 9.3.1 Check variables that don’t match For these variables, we check the percentage of observations that don’t match — finding where enumerators tend to make mistakes. Code compare_wps %&gt;% select(key, starts_with(&quot;match_&quot;)) %&gt;% summarise( across( starts_with(&quot;match&quot;), ~ sum(!.x)/n() %&gt;% na_if(0) ) ) %&gt;% pivot_longer( cols = everything(), names_to = &quot;variable&quot;, values_to = &quot;pct&quot;, names_prefix = &quot;match_&quot; ) %&gt;% dplyr::filter(pct &gt; 0) %&gt;% ggplot( aes( x = reorder(variable, pct), y = pct ) ) + geom_col(fill = viridis(1)) + #theme + labs( x = NULL, y = &quot;Percentage of observations with mismatched values&quot;, caption = paste0( &quot;Note: this only includes water points that are within 25m of each other&quot;, &quot; water points with the same water point ID.&quot; ) %&gt;% str_wrap(80) ) + scale_y_continuous(labels = scales::percent) + coord_flip() 9.3.2 Water point identification variables For these variables, we assume the most commonly entered value across all five enumerators who completed the survey is the correct response. Code wp_chars &lt;- wp %&gt;% # Drop observations we know are problematic dplyr::filter(key %in% good_keys) %&gt;% # Count how many observations have each combination of variables group_by( wp_id_c, across(all_of(comparison_vars)) ) %&gt;% mutate(n = n()) %&gt;% # Coalesce variables that may be missing but can be filled with values from other obs group_by(wp_id_c) %&gt;% mutate( district_id = max(district_id, na.rm = TRUE) ) %&gt;% # Keep only the most common values dplyr::filter(n == max(n)) %&gt;% group_by( country, district_id, village_id, wp_id, n_obs, n_enum, wp_drink, wp_multicompound, wp_func, sourcetype, sourcetype_o, sourcetype_simp, wp_dsw, wp_ilc_device, wp_ilc ) %&gt;% # If all five observations have the same values, select on &quot;randomly&quot; dplyr::filter(key == max(key)) %&gt;% ungroup %&gt;% # These observations have more missing values than others for the same WP, but no conflicting information otherwise dplyr::filter( !(key %in% missing_id_vars), !(wp_id_c == 2070302012011 &amp; wp_id == &quot;WP2070301002011&quot;) ) Code assert_that( nrow(wp_chars) == n_distinct(wp_chars$wp_id_c) ) ## [1] TRUE Code wp_chars %&gt;% group_by(wp_id_c) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% view 9.4 Combine with sections submitted by a single enumerator 9.4.1 Spotchecks Code spotcheck &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-spotcheck.rds&quot; ) ) %&gt;% # There is only one observation for this water point, since the field team went back to collect information based on the GPS from EvAc dplyr::filter(wp_id != &quot;WP2011707039017&quot;) Code wp_collapsed &lt;- wp_chars %&gt;% left_join( spotcheck, relationship = &quot;one-to-one&quot;, unmatched = &quot;error&quot; ) ## Joining with `by = ## join_by(wp_id)` 9.4.2 Water testing Code tests &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-constructed-tests.rds&quot; ) ) Code wp_collapsed &lt;- wp_collapsed %&gt;% left_join( tests, relationship = &quot;one-to-one&quot;, unmatched = &quot;error&quot; ) ## Joining with `by = ## join_by(wp_id)` Code assert_that( nrow(wp_collapsed) == n_distinct(wp_collapsed$wp_id_c) ) ## [1] TRUE 9.4.3 Flag entries that cannot be collapsed We define the following flags. dist_flag ~ sources within 50m but do not match on wp_id wp_id_flag ~ sources &gt;= 50m but do match on wp_id collapse_flag ~ 1 = sources that cannot be collapsed + should be excluded from HFCs If each water source is an ID + distance match with at least 1 water source, this doesn’t work. Code flag &lt;- dist_check %&gt;% group_by(key.x) %&gt;% dplyr::filter(max(close_id) == 0) %&gt;% mutate( dist_flag = as.numeric(close &amp; !id_match), wp_id_flag = as.numeric(!close &amp; id_match), ) %&gt;% dplyr::select( key = key.x, wp_id = wp_id.x, ends_with(&quot;flag&quot;) ) %&gt;% group_by(key, wp_id) %&gt;% summarise( across( everything(), ~ max(.x, na.rm = T) ) ) %&gt;% ungroup() %&gt;% mutate(collapse_flag = 1) %&gt;% rename(problem_key = key) wp_flags &lt;- flag %&gt;% group_by(wp_id) %&gt;% summarise( dist_flag = max(dist_flag), wp_id_flag = max(wp_id_flag), collapse_flag = max(collapse_flag), .groups=&quot;drop&quot; ) Check that the flag data is at entry_level of observation. Code assert_that( nrow(flag) == n_distinct(flag$problem_key) ) ## [1] TRUE Code wp_collapsed &lt;- wp_collapsed %&gt;% # merge with collapsed ids left_join(wp_flags, by = c(&quot;wp_id&quot;)) %&gt;% # turn missing flags into zeros mutate( across( ends_with(&quot;_flag&quot;), ~ tidyr::replace_na(.x, 0) ) ) 9.4.4 Add geospatial data Code wp_gps &lt;- wp_sf %&gt;% left_join(wp_collapsed) %&gt;% # Remove obs that have incorrect distances dplyr::filter(!(key %in% (flag %&gt;% dplyr::filter(dist_flag == 1) %&gt;% pull(problem_key)))) %&gt;% # Calculate centroid of different coordinates for the same WP group_by(wp_id_c) %&gt;% summarise(geometry = st_union(geometry)) %&gt;% st_centroid() %&gt;% # Join tabular data inner_join(wp_collapsed) ## Joining with `by = ## join_by(key, wp_id)` ## Joining with `by = ## join_by(wp_id_c)` 9.5 Save 9.5.1 Tabular data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-collapsed&quot; ) wp_collapsed %&gt;% ungroup %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 9.1: Data summary Name Piped data Number of rows 1217 Number of columns 211 _______________________ Column type frequency: character 76 Date 2 factor 15 logical 50 numeric 61 POSIXct 7 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace key 0 1.00 41 41 0 1217 0 wp_id 0 1.00 9 15 0 1217 0 district_id 0 1.00 3 3 0 28 0 village_id 0 1.00 10 10 0 165 0 enumerator_id 0 1.00 4 8 0 135 0 wp_name 0 1.00 4 57 0 1192 0 wp_photo 25 0.98 17 17 0 1192 0 wp_use_howmuch 23 0.98 4 15 0 4 0 dsw_use_howmuch 827 0.32 4 15 0 4 0 enum_comment 0 1.00 2 550 0 463 0 sourcetype_o 1212 0.00 3 3 0 1 0 sourcetype_simp 113 0.91 5 22 0 7 0 wp_id_c 0 1.00 13 13 0 1217 0 spotcheck_key 709 0.42 41 41 0 508 0 spotcheck_enum 709 0.42 4 8 0 132 0 ilc_problems_o 1205 0.01 4 168 0 9 0 ilc_devicepic 1102 0.09 17 17 0 115 0 disp_dsw_datephoto 984 0.19 17 46 0 233 0 disp_photo 835 0.31 17 17 0 382 0 disp_barcode_photo 840 0.31 17 46 0 377 0 disp_barcode 840 0.31 5 7 0 374 0 jc_key 917 0.25 41 41 0 300 0 jc_enum 917 0.25 4 8 0 114 0 jc_comments 917 0.25 2 548 0 111 0 cw_nocl_key 938 0.23 41 41 0 279 0 cw_nocl_enum 938 0.23 4 7 0 104 0 discid_nocl 938 0.23 5 5 0 103 0 tubeid_nocl 938 0.23 4 4 0 101 0 tubeid_testtube_nocl 938 0.23 4 4 0 124 0 discfcr_nocl_dpd_photo 938 0.23 17 17 0 279 0 discfcr_nocl_vial_photo 938 0.23 17 46 0 279 0 discfcr_nocl_color_o 1215 0.00 5 5 0 1 0 discfcr_nocl_comments 1028 0.16 1 145 0 38 0 disctcr_nocl_dpd_photo 938 0.23 17 46 0 279 0 disctcr_nocl_vial_photo 938 0.23 17 46 0 279 0 disctcr_nocl_comments 1031 0.15 1 88 0 41 0 meter_nocl_key 1003 0.18 41 41 0 214 0 meter_nocl_enum 1003 0.18 4 7 0 102 0 meterid_un 1003 0.18 5 5 0 32 0 meterfcr_nocl_vialid 1003 0.18 5 5 0 32 0 meterfcr_nocl_dpd_photo 1003 0.18 17 46 0 214 0 meterfcr_nocl_error 1216 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 1004 0.18 17 46 0 213 0 no_meterfcr_nocl_vial_photo 1216 0.00 16 16 0 1 0 meterfcr_nocl_comments 1080 0.11 4 84 0 25 0 metertcr_nocl_vialid 1003 0.18 5 5 0 31 0 metertcr_nocl_dpd_photo 1004 0.18 17 46 0 213 0 metertcr_nocl_error 1032 0.15 23 125 0 185 0 metertcr_nocl_comments 1075 0.12 4 68 0 36 0 cw_key 851 0.30 41 41 0 366 0 cw_enum 851 0.30 4 8 0 126 0 tubeid 898 0.26 4 4 0 113 0 tubeid_testtube 898 0.26 4 4 0 137 0 discid 898 0.26 3 6 0 121 0 discfcr_dpd_photo 898 0.26 17 17 0 319 0 discfcr_vial_photo 898 0.26 17 17 0 319 0 discfcr_comments 1014 0.17 2 67 0 39 0 disctcr_dpd_photo 898 0.26 17 17 0 319 0 disctcr_vial_photo 898 0.26 17 17 0 319 0 disctcr_comments 1014 0.17 2 121 0 43 0 jc_wait_str 970 0.20 3 4 0 221 0 jc_wait_end 970 0.20 3 4 0 234 0 jc_wait_diff 970 0.20 1 5 0 187 0 meter_key 852 0.30 41 41 0 365 0 meter_enum 852 0.30 4 8 0 127 0 meterfcr_vialid 897 0.26 5 5 0 35 0 metertcr_vialid 897 0.26 5 5 0 36 0 meterid 897 0.26 5 5 0 38 0 meterfcr_dpd_photo 897 0.26 17 17 0 320 0 meterfcr_vial_photo 897 0.26 17 17 0 320 0 meterfcr_comments 1002 0.18 2 55 0 47 0 metertcr_dpd_photo 897 0.26 17 17 0 320 0 metertcr_error 1215 0.00 4 4 0 2 0 metertcr_vial_photo 897 0.26 17 17 0 320 0 metertcr_comments 1009 0.17 2 298 0 51 0 meter_comments 852 0.30 2 548 0 123 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1.00 2025-07-02 2025-08-22 2025-07-30 43 disp_dsw_date 1023 0.16 1992-06-15 2025-08-01 2023-02-14 104 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts country 0 1.00 FALSE 2 Mal: 675, Uga: 542 sourcetype 113 0.91 FALSE 12 Bor: 527, Mun: 232, Pro: 111, Pro: 61 wp_func_last 1196 0.02 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 730 0.40 FALSE 4 1: 385, 2: 71, 3: 29, 4: 2 wp_cost_period 941 0.23 FALSE 7 Mon: 127, As : 92, Ann: 42, Qua: 9 disp_dsw_gen 835 0.31 FALSE 2 Gen: 369, Gen: 13, Can: 0, Gen: 0 disp_dose 969 0.20 TRUE 3 3 m: 204, Les: 27, Mor: 17 discfcr_nocl_color 938 0.23 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 938 0.23 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 1003 0.18 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 1003 0.18 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_color 898 0.26 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 898 0.26 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_color 897 0.26 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 897 0.26 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 1109, FAL: 108 wp_multicompound 0 1.00 0.94 TRU: 1146, FAL: 71 wp_func 0 1.00 0.87 TRU: 1053, FAL: 164 wp_func_c 0 1.00 0.87 TRU: 1056, FAL: 161 wp_promoter 679 0.44 0.12 FAL: 476, TRU: 62 wp_dsw 265 0.78 0.41 FAL: 559, TRU: 393 wp_ilc_device 115 0.91 0.13 FAL: 964, TRU: 138 wp_ilc 495 0.59 0.24 FAL: 547, TRU: 175 spotcheck 709 0.42 1.00 TRU: 508 wp_notfunc_dry 1212 0.00 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 1212 0.00 1.00 TRU: 5 wp_notfunc_ilc_dry 1205 0.01 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 1205 0.01 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 1205 0.01 0.25 FAL: 9, TRU: 3 wp_pay 731 0.40 0.57 TRU: 277, FAL: 209 wp_pay_c 731 0.40 0.57 TRU: 276, FAL: 210 wp_pay_userfees 941 0.23 0.08 FAL: 253, TRU: 23 wp_pay_maintenance 941 0.23 0.93 TRU: 256, FAL: 20 ilc_climb 1087 0.11 0.64 TRU: 83, FAL: 47 ilc_operator 1087 0.11 0.50 FAL: 65, TRU: 65 ilc_tabletholder 1091 0.10 0.87 TRU: 110, FAL: 16 ilc_covercap 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_deviceclamped 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_devicefunc 1090 0.10 0.69 TRU: 87, FAL: 40 ilc_connections 1092 0.10 0.07 FAL: 116, TRU: 9 ilc_problems 1092 0.10 0.10 FAL: 113, TRU: 12 ilc_stock 1087 0.11 0.41 FAL: 77, TRU: 53 disp_tank_present 835 0.31 0.97 TRU: 370, FAL: 12 disp_casing_present 835 0.31 1.00 TRU: 381, FAL: 1 disp_pvc_pole_present 835 0.31 1.00 TRU: 381, FAL: 1 flag_wpcensus_conflict 1195 0.02 1.00 TRU: 22 disp_func 917 0.25 1.00 TRU: 299, FAL: 1 disp_filled 918 0.25 0.84 TRU: 251, FAL: 48 colorwheel_un 938 0.23 1.00 TRU: 279 colorimeter_un 1003 0.18 1.00 TRU: 214 meterfcr_nocl_zero 1003 0.18 1.00 TRU: 214 metertcr_nocl_zero 1003 0.18 1.00 TRU: 214 colorwheel 851 0.30 1.00 TRU: 366 jc_valve 923 0.24 1.00 TRU: 294 jc_chlorine 923 0.24 0.84 TRU: 247, FAL: 47 jc_mllost 923 0.24 0.27 FAL: 215, TRU: 79 colorimeter 852 0.30 1.00 TRU: 365 meterfcr_zero 897 0.26 1.00 TRU: 320 meterfcr_error04 1207 0.01 1.00 TRU: 10 metertcr_zero 897 0.26 1.00 TRU: 320 metertcr_error04 1204 0.01 1.00 TRU: 13 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist n_obs 0 1.00 5.02 0.49 2.0 5.00 5.00 5.00 1.000000e+01 ▁▇▁▁▁ n_enum 0 1.00 5.00 0.41 2.0 5.00 5.00 5.00 8.000000e+00 ▁▁▇▁▁ n 0 1.00 4.61 0.73 1.0 4.00 5.00 5.00 1.000000e+01 ▁▃▇▁▁ wp_cost 948 0.22 1452.79 1989.65 50.0 500.00 1000.00 1500.00 1.500000e+04 ▇▁▁▁▁ ilc_wcps 1093 0.10 17.56 89.77 1.0 1.00 3.00 19.00 1.000000e+03 ▇▁▁▁▁ ilc_tabletstock 1164 0.04 2.98 1.72 0.0 2.00 3.00 3.00 1.000000e+01 ▆▇▁▁▁ disp_dsw_id 956 0.21 138109734.51 711901711.17 870.0 70180587.00 80022200.00 83050458.00 8.204216e+09 ▇▁▁▁▁ count 709 0.42 1.24 0.79 1.0 1.00 1.00 1.00 5.000000e+00 ▇▁▁▁▁ jc_wait 965 0.21 1657.66 615.98 0.0 1806.75 1846.00 1977.25 2.597000e+03 ▁▁▁▇▂ discfcr_nocl_timestamp0 939 0.23 701.03 358.94 200.0 441.25 621.50 857.25 2.396000e+03 ▇▆▂▁▁ discfcr_nocl_timestamp1 939 0.23 947.31 433.03 240.0 632.25 868.50 1162.50 2.895000e+03 ▇▇▂▁▁ discfcr_nocl_timestamp2 938 0.23 1060.68 428.39 277.0 748.00 1007.00 1284.50 3.015000e+03 ▆▇▂▁▁ discfcr_un 938 0.23 0.00 0.02 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ discfcr_nocl_confirm_un 938 0.23 0.00 0.02 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_timestamp0 939 0.23 1159.60 459.22 307.0 823.50 1100.00 1413.75 3.179000e+03 ▅▇▂▁▁ disctcr_nocl_timestamp1 938 0.23 1278.78 494.44 322.0 927.50 1218.00 1551.50 3.364000e+03 ▅▇▃▁▁ disctcr_nocl_timestamp2 938 0.23 1520.94 504.40 349.0 1164.50 1486.00 1795.50 3.640000e+03 ▂▇▅▁▁ disctcr_un 938 0.23 0.01 0.04 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_confirm_un 938 0.23 0.01 0.04 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp0 1003 0.18 722.39 399.62 191.0 455.25 645.00 905.75 3.718000e+03 ▇▂▁▁▁ meterfcr_nocl_timestamp1 1003 0.18 900.67 426.22 240.0 596.00 821.50 1105.50 3.735000e+03 ▇▅▁▁▁ meterfcr_nocl_timestamp3 1003 0.18 1021.50 440.12 280.0 707.00 949.00 1257.50 3.772000e+03 ▇▆▁▁▁ meterfcr_nocl_timestamp4 1003 0.18 1132.05 442.82 402.0 805.50 1078.00 1365.75 3.894000e+03 ▇▆▁▁▁ meterfcr_un 1004 0.18 0.05 0.09 0.0 0.01 0.03 0.06 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_confirm_un 1004 0.18 0.05 0.09 0.0 0.01 0.03 0.06 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp5 1003 0.18 1215.73 451.82 436.0 881.00 1154.50 1467.25 3.935000e+03 ▇▇▁▁▁ meterfcr_nocl_timestamp6 1003 0.18 1243.01 459.83 447.0 901.50 1167.50 1510.75 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp0 1003 0.18 1243.01 459.83 447.0 901.50 1167.50 1510.75 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp1 1003 0.18 1347.57 485.70 480.0 976.25 1319.50 1644.75 3.966000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp3 1003 0.18 1433.34 508.89 503.0 1037.75 1389.50 1703.75 4.249000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp4 1003 0.18 1738.61 577.21 703.0 1317.75 1697.00 2036.75 4.439000e+03 ▆▇▂▁▁ metertcr_un 1003 0.18 0.09 0.22 0.0 0.02 0.04 0.09 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_confirm_un 1003 0.18 0.09 0.22 0.0 0.02 0.04 0.09 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_timestamp5 1003 0.18 1899.84 724.11 818.0 1416.75 1786.50 2215.50 5.882000e+03 ▇▆▁▁▁ metertcr_nocl_timestamp6 1003 0.18 1912.97 726.15 821.0 1421.50 1793.50 2219.00 5.885000e+03 ▇▆▁▁▁ discfcr_timestamp0 967 0.21 2229.80 973.08 141.0 2109.00 2533.50 2780.25 5.470000e+03 ▃▂▇▁▁ discfcr_timestamp1 898 0.26 2498.85 1033.17 152.0 2209.50 2700.00 3073.00 5.805000e+03 ▂▂▇▁▁ discfcr_timestamp2 898 0.26 2622.11 1042.43 400.0 2316.00 2818.00 3239.50 5.866000e+03 ▃▂▇▁▁ discfcr 898 0.26 0.63 0.52 0.0 0.20 0.60 1.00 3.200000e+00 ▇▅▁▁▁ disctcr_timestamp0 967 0.21 2678.21 1063.77 477.0 2440.50 2918.00 3292.00 6.145000e+03 ▃▃▇▁▁ disctcr_timestamp1 898 0.26 2884.59 1103.00 519.0 2525.00 3050.00 3508.00 6.515000e+03 ▃▃▇▁▁ disctcr_timestamp2 898 0.26 3139.31 1101.40 606.0 2771.00 3293.00 3770.00 6.722000e+03 ▂▃▇▂▁ disctcr 898 0.26 0.82 0.64 0.0 0.40 0.80 1.20 3.400000e+00 ▇▆▂▁▁ jc_mldispensed 970 0.20 2.96 0.48 1.2 2.95 3.00 3.00 7.300000e+00 ▁▇▁▁▁ meterfcr_timestamp0 966 0.21 2243.38 933.58 206.0 2088.50 2483.00 2773.50 5.353000e+03 ▂▂▇▁▁ meterfcr_timestamp1 897 0.26 2446.10 1044.83 234.0 2187.25 2602.00 2967.75 7.330000e+03 ▃▇▂▁▁ meterfcr_timestamp3 897 0.26 2550.84 1054.85 257.0 2263.25 2689.00 3071.50 7.670000e+03 ▂▇▂▁▁ meterfcr_timestamp4 897 0.26 2676.98 1058.17 291.0 2396.00 2822.50 3187.25 7.747000e+03 ▂▇▂▁▁ meterfcr 897 0.26 0.88 0.70 0.0 0.23 0.83 1.34 4.600000e+00 ▇▆▁▁▁ meterfcr_timestamp5 898 0.26 2762.75 1073.73 342.0 2468.50 2905.00 3296.50 7.913000e+03 ▂▇▃▁▁ meterfcr_timestamp6 897 0.26 2781.98 1085.22 343.0 2467.50 2916.00 3335.50 8.000000e+03 ▂▇▃▁▁ metertcr_timestamp0 966 0.21 2706.59 1017.43 343.0 2471.50 2899.00 3242.50 5.967000e+03 ▂▂▇▁▁ metertcr_timestamp1 897 0.26 2877.56 1103.18 361.0 2510.50 3011.50 3463.75 8.160000e+03 ▂▇▃▁▁ metertcr_timestamp3 897 0.26 2958.88 1131.47 386.0 2552.25 3096.50 3519.50 8.850000e+03 ▂▇▂▁▁ metertcr_timestamp4 897 0.26 3256.60 1157.05 784.0 2831.75 3395.00 3837.75 9.295000e+03 ▂▇▁▁▁ metertcr 899 0.26 0.96 0.73 0.0 0.38 0.93 1.43 5.100000e+00 ▇▆▁▁▁ metertcr_timestamp5 898 0.26 3385.28 1190.20 838.0 2891.50 3472.00 4033.00 9.364000e+03 ▃▇▂▁▁ metertcr_timestamp6 897 0.26 3410.12 1200.75 839.0 2898.75 3482.00 4072.25 9.414000e+03 ▃▇▂▁▁ dist_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ wp_id_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ collapse_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1.00 2025-07-02 18:28:05 2025-08-22 17:46:21 2025-07-30 18:51:48 1210 spotcheck_time 709 0.42 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 20:33:16 506 jc_time 917 0.25 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-28 18:29:16 299 cw_nocl_time 938 0.23 2025-07-21 17:40:30 2025-08-22 17:46:10 2025-08-01 16:54:57 278 meter_nocl_time 1003 0.18 2025-07-21 17:44:39 2025-08-19 15:22:54 2025-07-30 17:54:08 213 cw_time 851 0.30 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-29 13:56:10 366 meter_time 852 0.30 2025-07-02 18:30:48 2025-08-23 06:32:32 2025-07-29 15:28:51 365 9.5.2 Spatial data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-collapsed&quot; ) wp_gps %&gt;% ungroup %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. Table 9.2: Data summary Name Piped data Number of rows 1217 Number of columns 212 _______________________ Column type frequency: character 77 Date 2 factor 15 logical 50 numeric 61 POSIXct 7 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id_c 0 1.00 13 13 0 1217 0 geometry 0 1.00 33 38 0 1217 0 key 0 1.00 41 41 0 1217 0 wp_id 0 1.00 9 15 0 1217 0 district_id 0 1.00 3 3 0 28 0 village_id 0 1.00 10 10 0 165 0 enumerator_id 0 1.00 4 8 0 135 0 wp_name 0 1.00 4 57 0 1192 0 wp_photo 25 0.98 17 17 0 1192 0 wp_use_howmuch 23 0.98 4 15 0 4 0 dsw_use_howmuch 827 0.32 4 15 0 4 0 enum_comment 0 1.00 2 550 0 463 0 sourcetype_o 1212 0.00 3 3 0 1 0 sourcetype_simp 113 0.91 5 22 0 7 0 spotcheck_key 709 0.42 41 41 0 508 0 spotcheck_enum 709 0.42 4 8 0 132 0 ilc_problems_o 1205 0.01 4 168 0 9 0 ilc_devicepic 1102 0.09 17 17 0 115 0 disp_dsw_datephoto 984 0.19 17 46 0 233 0 disp_photo 835 0.31 17 17 0 382 0 disp_barcode_photo 840 0.31 17 46 0 377 0 disp_barcode 840 0.31 5 7 0 374 0 jc_key 917 0.25 41 41 0 300 0 jc_enum 917 0.25 4 8 0 114 0 jc_comments 917 0.25 2 548 0 111 0 cw_nocl_key 938 0.23 41 41 0 279 0 cw_nocl_enum 938 0.23 4 7 0 104 0 discid_nocl 938 0.23 5 5 0 103 0 tubeid_nocl 938 0.23 4 4 0 101 0 tubeid_testtube_nocl 938 0.23 4 4 0 124 0 discfcr_nocl_dpd_photo 938 0.23 17 17 0 279 0 discfcr_nocl_vial_photo 938 0.23 17 46 0 279 0 discfcr_nocl_color_o 1215 0.00 5 5 0 1 0 discfcr_nocl_comments 1028 0.16 1 145 0 38 0 disctcr_nocl_dpd_photo 938 0.23 17 46 0 279 0 disctcr_nocl_vial_photo 938 0.23 17 46 0 279 0 disctcr_nocl_comments 1031 0.15 1 88 0 41 0 meter_nocl_key 1003 0.18 41 41 0 214 0 meter_nocl_enum 1003 0.18 4 7 0 102 0 meterid_un 1003 0.18 5 5 0 32 0 meterfcr_nocl_vialid 1003 0.18 5 5 0 32 0 meterfcr_nocl_dpd_photo 1003 0.18 17 46 0 214 0 meterfcr_nocl_error 1216 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 1004 0.18 17 46 0 213 0 no_meterfcr_nocl_vial_photo 1216 0.00 16 16 0 1 0 meterfcr_nocl_comments 1080 0.11 4 84 0 25 0 metertcr_nocl_vialid 1003 0.18 5 5 0 31 0 metertcr_nocl_dpd_photo 1004 0.18 17 46 0 213 0 metertcr_nocl_error 1032 0.15 23 125 0 185 0 metertcr_nocl_comments 1075 0.12 4 68 0 36 0 cw_key 851 0.30 41 41 0 366 0 cw_enum 851 0.30 4 8 0 126 0 tubeid 898 0.26 4 4 0 113 0 tubeid_testtube 898 0.26 4 4 0 137 0 discid 898 0.26 3 6 0 121 0 discfcr_dpd_photo 898 0.26 17 17 0 319 0 discfcr_vial_photo 898 0.26 17 17 0 319 0 discfcr_comments 1014 0.17 2 67 0 39 0 disctcr_dpd_photo 898 0.26 17 17 0 319 0 disctcr_vial_photo 898 0.26 17 17 0 319 0 disctcr_comments 1014 0.17 2 121 0 43 0 jc_wait_str 970 0.20 3 4 0 221 0 jc_wait_end 970 0.20 3 4 0 234 0 jc_wait_diff 970 0.20 1 5 0 187 0 meter_key 852 0.30 41 41 0 365 0 meter_enum 852 0.30 4 8 0 127 0 meterfcr_vialid 897 0.26 5 5 0 35 0 metertcr_vialid 897 0.26 5 5 0 36 0 meterid 897 0.26 5 5 0 38 0 meterfcr_dpd_photo 897 0.26 17 17 0 320 0 meterfcr_vial_photo 897 0.26 17 17 0 320 0 meterfcr_comments 1002 0.18 2 55 0 47 0 metertcr_dpd_photo 897 0.26 17 17 0 320 0 metertcr_error 1215 0.00 4 4 0 2 0 metertcr_vial_photo 897 0.26 17 17 0 320 0 metertcr_comments 1009 0.17 2 298 0 51 0 meter_comments 852 0.30 2 548 0 123 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1.00 2025-07-02 2025-08-22 2025-07-30 43 disp_dsw_date 1023 0.16 1992-06-15 2025-08-01 2023-02-14 104 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts country 0 1.00 FALSE 2 Mal: 675, Uga: 542 sourcetype 113 0.91 FALSE 12 Bor: 527, Mun: 232, Pro: 111, Pro: 61 wp_func_last 1196 0.02 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 730 0.40 FALSE 4 1: 385, 2: 71, 3: 29, 4: 2 wp_cost_period 941 0.23 FALSE 7 Mon: 127, As : 92, Ann: 42, Qua: 9 disp_dsw_gen 835 0.31 FALSE 2 Gen: 369, Gen: 13, Can: 0, Gen: 0 disp_dose 969 0.20 TRUE 3 3 m: 204, Les: 27, Mor: 17 discfcr_nocl_color 938 0.23 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 938 0.23 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 1003 0.18 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 1003 0.18 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_color 898 0.26 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 898 0.26 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_color 897 0.26 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 897 0.26 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 1109, FAL: 108 wp_multicompound 0 1.00 0.94 TRU: 1146, FAL: 71 wp_func 0 1.00 0.87 TRU: 1053, FAL: 164 wp_func_c 0 1.00 0.87 TRU: 1056, FAL: 161 wp_promoter 679 0.44 0.12 FAL: 476, TRU: 62 wp_dsw 265 0.78 0.41 FAL: 559, TRU: 393 wp_ilc_device 115 0.91 0.13 FAL: 964, TRU: 138 wp_ilc 495 0.59 0.24 FAL: 547, TRU: 175 spotcheck 709 0.42 1.00 TRU: 508 wp_notfunc_dry 1212 0.00 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 1212 0.00 1.00 TRU: 5 wp_notfunc_ilc_dry 1205 0.01 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 1205 0.01 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 1205 0.01 0.25 FAL: 9, TRU: 3 wp_pay 731 0.40 0.57 TRU: 277, FAL: 209 wp_pay_c 731 0.40 0.57 TRU: 276, FAL: 210 wp_pay_userfees 941 0.23 0.08 FAL: 253, TRU: 23 wp_pay_maintenance 941 0.23 0.93 TRU: 256, FAL: 20 ilc_climb 1087 0.11 0.64 TRU: 83, FAL: 47 ilc_operator 1087 0.11 0.50 FAL: 65, TRU: 65 ilc_tabletholder 1091 0.10 0.87 TRU: 110, FAL: 16 ilc_covercap 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_deviceclamped 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_devicefunc 1090 0.10 0.69 TRU: 87, FAL: 40 ilc_connections 1092 0.10 0.07 FAL: 116, TRU: 9 ilc_problems 1092 0.10 0.10 FAL: 113, TRU: 12 ilc_stock 1087 0.11 0.41 FAL: 77, TRU: 53 disp_tank_present 835 0.31 0.97 TRU: 370, FAL: 12 disp_casing_present 835 0.31 1.00 TRU: 381, FAL: 1 disp_pvc_pole_present 835 0.31 1.00 TRU: 381, FAL: 1 flag_wpcensus_conflict 1195 0.02 1.00 TRU: 22 disp_func 917 0.25 1.00 TRU: 299, FAL: 1 disp_filled 918 0.25 0.84 TRU: 251, FAL: 48 colorwheel_un 938 0.23 1.00 TRU: 279 colorimeter_un 1003 0.18 1.00 TRU: 214 meterfcr_nocl_zero 1003 0.18 1.00 TRU: 214 metertcr_nocl_zero 1003 0.18 1.00 TRU: 214 colorwheel 851 0.30 1.00 TRU: 366 jc_valve 923 0.24 1.00 TRU: 294 jc_chlorine 923 0.24 0.84 TRU: 247, FAL: 47 jc_mllost 923 0.24 0.27 FAL: 215, TRU: 79 colorimeter 852 0.30 1.00 TRU: 365 meterfcr_zero 897 0.26 1.00 TRU: 320 meterfcr_error04 1207 0.01 1.00 TRU: 10 metertcr_zero 897 0.26 1.00 TRU: 320 metertcr_error04 1204 0.01 1.00 TRU: 13 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist n_obs 0 1.00 5.02 0.49 2.0 5.00 5.00 5.00 1.000000e+01 ▁▇▁▁▁ n_enum 0 1.00 5.00 0.41 2.0 5.00 5.00 5.00 8.000000e+00 ▁▁▇▁▁ n 0 1.00 4.61 0.73 1.0 4.00 5.00 5.00 1.000000e+01 ▁▃▇▁▁ wp_cost 948 0.22 1452.79 1989.65 50.0 500.00 1000.00 1500.00 1.500000e+04 ▇▁▁▁▁ ilc_wcps 1093 0.10 17.56 89.77 1.0 1.00 3.00 19.00 1.000000e+03 ▇▁▁▁▁ ilc_tabletstock 1164 0.04 2.98 1.72 0.0 2.00 3.00 3.00 1.000000e+01 ▆▇▁▁▁ disp_dsw_id 956 0.21 138109734.51 711901711.17 870.0 70180587.00 80022200.00 83050458.00 8.204216e+09 ▇▁▁▁▁ count 709 0.42 1.24 0.79 1.0 1.00 1.00 1.00 5.000000e+00 ▇▁▁▁▁ jc_wait 965 0.21 1657.66 615.98 0.0 1806.75 1846.00 1977.25 2.597000e+03 ▁▁▁▇▂ discfcr_nocl_timestamp0 939 0.23 701.03 358.94 200.0 441.25 621.50 857.25 2.396000e+03 ▇▆▂▁▁ discfcr_nocl_timestamp1 939 0.23 947.31 433.03 240.0 632.25 868.50 1162.50 2.895000e+03 ▇▇▂▁▁ discfcr_nocl_timestamp2 938 0.23 1060.68 428.39 277.0 748.00 1007.00 1284.50 3.015000e+03 ▆▇▂▁▁ discfcr_un 938 0.23 0.00 0.02 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ discfcr_nocl_confirm_un 938 0.23 0.00 0.02 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_timestamp0 939 0.23 1159.60 459.22 307.0 823.50 1100.00 1413.75 3.179000e+03 ▅▇▂▁▁ disctcr_nocl_timestamp1 938 0.23 1278.78 494.44 322.0 927.50 1218.00 1551.50 3.364000e+03 ▅▇▃▁▁ disctcr_nocl_timestamp2 938 0.23 1520.94 504.40 349.0 1164.50 1486.00 1795.50 3.640000e+03 ▂▇▅▁▁ disctcr_un 938 0.23 0.01 0.04 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_confirm_un 938 0.23 0.01 0.04 0.0 0.00 0.00 0.00 2.000000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp0 1003 0.18 722.39 399.62 191.0 455.25 645.00 905.75 3.718000e+03 ▇▂▁▁▁ meterfcr_nocl_timestamp1 1003 0.18 900.67 426.22 240.0 596.00 821.50 1105.50 3.735000e+03 ▇▅▁▁▁ meterfcr_nocl_timestamp3 1003 0.18 1021.50 440.12 280.0 707.00 949.00 1257.50 3.772000e+03 ▇▆▁▁▁ meterfcr_nocl_timestamp4 1003 0.18 1132.05 442.82 402.0 805.50 1078.00 1365.75 3.894000e+03 ▇▆▁▁▁ meterfcr_un 1004 0.18 0.05 0.09 0.0 0.01 0.03 0.06 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_confirm_un 1004 0.18 0.05 0.09 0.0 0.01 0.03 0.06 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp5 1003 0.18 1215.73 451.82 436.0 881.00 1154.50 1467.25 3.935000e+03 ▇▇▁▁▁ meterfcr_nocl_timestamp6 1003 0.18 1243.01 459.83 447.0 901.50 1167.50 1510.75 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp0 1003 0.18 1243.01 459.83 447.0 901.50 1167.50 1510.75 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp1 1003 0.18 1347.57 485.70 480.0 976.25 1319.50 1644.75 3.966000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp3 1003 0.18 1433.34 508.89 503.0 1037.75 1389.50 1703.75 4.249000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp4 1003 0.18 1738.61 577.21 703.0 1317.75 1697.00 2036.75 4.439000e+03 ▆▇▂▁▁ metertcr_un 1003 0.18 0.09 0.22 0.0 0.02 0.04 0.09 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_confirm_un 1003 0.18 0.09 0.22 0.0 0.02 0.04 0.09 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_timestamp5 1003 0.18 1899.84 724.11 818.0 1416.75 1786.50 2215.50 5.882000e+03 ▇▆▁▁▁ metertcr_nocl_timestamp6 1003 0.18 1912.97 726.15 821.0 1421.50 1793.50 2219.00 5.885000e+03 ▇▆▁▁▁ discfcr_timestamp0 967 0.21 2229.80 973.08 141.0 2109.00 2533.50 2780.25 5.470000e+03 ▃▂▇▁▁ discfcr_timestamp1 898 0.26 2498.85 1033.17 152.0 2209.50 2700.00 3073.00 5.805000e+03 ▂▂▇▁▁ discfcr_timestamp2 898 0.26 2622.11 1042.43 400.0 2316.00 2818.00 3239.50 5.866000e+03 ▃▂▇▁▁ discfcr 898 0.26 0.63 0.52 0.0 0.20 0.60 1.00 3.200000e+00 ▇▅▁▁▁ disctcr_timestamp0 967 0.21 2678.21 1063.77 477.0 2440.50 2918.00 3292.00 6.145000e+03 ▃▃▇▁▁ disctcr_timestamp1 898 0.26 2884.59 1103.00 519.0 2525.00 3050.00 3508.00 6.515000e+03 ▃▃▇▁▁ disctcr_timestamp2 898 0.26 3139.31 1101.40 606.0 2771.00 3293.00 3770.00 6.722000e+03 ▂▃▇▂▁ disctcr 898 0.26 0.82 0.64 0.0 0.40 0.80 1.20 3.400000e+00 ▇▆▂▁▁ jc_mldispensed 970 0.20 2.96 0.48 1.2 2.95 3.00 3.00 7.300000e+00 ▁▇▁▁▁ meterfcr_timestamp0 966 0.21 2243.38 933.58 206.0 2088.50 2483.00 2773.50 5.353000e+03 ▂▂▇▁▁ meterfcr_timestamp1 897 0.26 2446.10 1044.83 234.0 2187.25 2602.00 2967.75 7.330000e+03 ▃▇▂▁▁ meterfcr_timestamp3 897 0.26 2550.84 1054.85 257.0 2263.25 2689.00 3071.50 7.670000e+03 ▂▇▂▁▁ meterfcr_timestamp4 897 0.26 2676.98 1058.17 291.0 2396.00 2822.50 3187.25 7.747000e+03 ▂▇▂▁▁ meterfcr 897 0.26 0.88 0.70 0.0 0.23 0.83 1.34 4.600000e+00 ▇▆▁▁▁ meterfcr_timestamp5 898 0.26 2762.75 1073.73 342.0 2468.50 2905.00 3296.50 7.913000e+03 ▂▇▃▁▁ meterfcr_timestamp6 897 0.26 2781.98 1085.22 343.0 2467.50 2916.00 3335.50 8.000000e+03 ▂▇▃▁▁ metertcr_timestamp0 966 0.21 2706.59 1017.43 343.0 2471.50 2899.00 3242.50 5.967000e+03 ▂▂▇▁▁ metertcr_timestamp1 897 0.26 2877.56 1103.18 361.0 2510.50 3011.50 3463.75 8.160000e+03 ▂▇▃▁▁ metertcr_timestamp3 897 0.26 2958.88 1131.47 386.0 2552.25 3096.50 3519.50 8.850000e+03 ▂▇▂▁▁ metertcr_timestamp4 897 0.26 3256.60 1157.05 784.0 2831.75 3395.00 3837.75 9.295000e+03 ▂▇▁▁▁ metertcr 899 0.26 0.96 0.73 0.0 0.38 0.93 1.43 5.100000e+00 ▇▆▁▁▁ metertcr_timestamp5 898 0.26 3385.28 1190.20 838.0 2891.50 3472.00 4033.00 9.364000e+03 ▃▇▂▁▁ metertcr_timestamp6 897 0.26 3410.12 1200.75 839.0 2898.75 3482.00 4072.25 9.414000e+03 ▃▇▂▁▁ dist_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ wp_id_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ collapse_flag 0 1.00 0.00 0.00 0.0 0.00 0.00 0.00 0.000000e+00 ▁▁▇▁▁ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1.00 2025-07-02 18:28:05 2025-08-22 17:46:21 2025-07-30 18:51:48 1210 spotcheck_time 709 0.42 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 20:33:16 506 jc_time 917 0.25 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-28 18:29:16 299 cw_nocl_time 938 0.23 2025-07-21 17:40:30 2025-08-22 17:46:10 2025-08-01 16:54:57 278 meter_nocl_time 1003 0.18 2025-07-21 17:44:39 2025-08-19 15:22:54 2025-07-30 17:54:08 213 cw_time 851 0.30 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-29 13:56:10 366 meter_time 852 0.30 2025-07-02 18:30:48 2025-08-23 06:32:32 2025-07-29 15:28:51 365 "],["construct-treatment-variables.html", "10 Construct treatment variables 10.1 Load data 10.2 Make corrections 10.3 Create indicators 10.4 Export data", " 10 Construct treatment variables This script creates variables pertaining to water point characteristics. Code pacman::p_load( tidyverse, assertthat ) 10.1 Load data Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-collapsed.rds&quot; ) ) 10.2 Make corrections Corrections from manually checking the maps and matches Code manual_treatment &lt;- read_csv( file.path( path_git, &quot;documentation&quot;, &quot;WaterPointCensus&quot;, &quot;ilc-dsw-corrections.csv&quot; ) ) %&gt;% rename(correction_comments = comments) ## Rows: 206 Columns: 6 ## ── Column specification ────── ## Delimiter: &quot;,&quot; ## chr (3): wp_id, initials, comments ## lgl (3): dsw, ilc_wp, ilc_wcp ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. Code assert_that( manual_treatment %&gt;% pull(wp_id) %&gt;% n_distinct == nrow(manual_treatment) ) ## [1] TRUE 10.3 Create indicators Code wp_tmt &lt;- wp %&gt;% left_join(manual_treatment) %&gt;% mutate( dsw = coalesce(dsw, wp_dsw), ilc_wp = coalesce(ilc_wp, wp_ilc_device), ilc_wcp = coalesce(ilc_wcp, wp_ilc), across( c(dsw, ilc_wp, ilc_wcp), ~ case_when(wp_drink &amp; wp_multicompound ~ tidyr::replace_na(., FALSE)) ), ilc = ilc_wp | ilc_wcp, intervention_type = case_when( dsw ~ &quot;DSW&quot;, ilc_wp ~ &quot;ILC water point&quot;, ilc_wcp ~ &quot;ILC water collection point&quot;, TRUE ~ &quot;Non-program&quot; ) %&gt;% as_factor, intervention = case_when( dsw ~ &quot;DSW&quot;, ilc ~ &quot;ILC&quot;, TRUE ~ &quot;Non-program&quot; ) %&gt;% as_factor ) %&gt;% select( wp_id, dsw, ilc, ilc_wp, ilc_wcp, intervention, intervention_type ) %&gt;% unique ## Joining with `by = ## join_by(wp_id)` Code assert_that( nrow(wp_tmt) == n_distinct(wp_tmt$wp_id) ) ## [1] TRUE Code wp_tmt %&gt;% group_by(wp_id) %&gt;% dplyr::filter() ## # A tibble: 1,217 × 7 ## # Groups: wp_id [1,217] ## wp_id dsw ilc ilc_wp ilc_wcp intervention intervention_type ## &lt;chr&gt; &lt;lgl&gt; &lt;lgl&gt; &lt;lgl&gt; &lt;lgl&gt; &lt;fct&gt; &lt;fct&gt; ## 1 WP6012001 TRUE FALSE FALSE FALSE DSW DSW ## 2 WP6012002 TRUE FALSE FALSE FALSE DSW DSW ## 3 WP6012003 TRUE FALSE FALSE FALSE DSW DSW ## 4 WP6012004 FALSE FALSE FALSE FALSE Non-program Non-program ## 5 WP6012005 TRUE FALSE FALSE FALSE DSW DSW ## 6 WP6012006 FALSE FALSE FALSE FALSE Non-program Non-program ## 7 WP6012007 FALSE FALSE FALSE FALSE Non-program Non-program ## 8 WP6012008 NA NA NA NA Non-program Non-program ## 9 WP6012009 NA NA NA NA Non-program Non-program ## 10 WP6012010 FALSE FALSE FALSE FALSE Non-program Non-program ## # ℹ 1,207 more rows 10.4 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-treatment&quot; ) write_meta( wp_tmt, path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 10.1: Data summary Name Piped data Number of rows 1217 Number of columns 7 _______________________ Column type frequency: character 1 factor 2 logical 4 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id 0 1 9 15 0 1217 0 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts intervention 0 1 FALSE 3 Non: 660, DSW: 389, ILC: 168 intervention_type 0 1 FALSE 4 Non: 660, DSW: 389, ILC: 133, ILC: 35 Variable type: logical skim_variable n_missing complete_rate mean count dsw 136 0.89 0.36 FAL: 692, TRU: 389 ilc 136 0.89 0.16 FAL: 913, TRU: 168 ilc_wp 136 0.89 0.03 FAL: 1046, TRU: 35 ilc_wcp 136 0.89 0.14 FAL: 927, TRU: 154 "],["match-ea-and-census-water-points.html", "11 Match EA and Census water points 11.1 Load data 11.2 Combine EA and IPA data 11.3 Match IPA water points to EA water points 11.4 Save water-point level data 11.5 Share matches with EA", " 11 Match EA and Census water points Code packages &lt;- c( &quot;tidyverse&quot;, &quot;here&quot;, &quot;sf&quot;, &quot;janitor&quot;, &quot;units&quot;, &quot;leaflet&quot;, &quot;viridis&quot;, &quot;googlesheets4&quot;, &quot;tictoc&quot;, &quot;assertthat&quot; ) pacman::p_load(packages, character.only = TRUE) 11.1 Load data 11.1.1 Corrections After comparing the maps from Evidence Action water points and the Water Point Census, we have identified some matches of census water points and Evidence Action water points that would not be identified through an algorithm. We also inspected the images from the water point census to determine whether ILC devices and DSW dispensers were present. These corrections were manually entered into CSV files Code manual_matches &lt;- read_csv( file.path( path_git, &quot;documentation&quot;, &quot;WaterPointCensus&quot;, &quot;manual-match-to-ea-wp.csv&quot; ) ) ## Rows: 289 Columns: 6 ## ── Column specification ────── ## Delimiter: &quot;,&quot; ## chr (4): wp_id, date, intials, comments ## dbl (2): ea_id, ilc_cluster_wp ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. Code # This is commented out because there are WPs mapped to two different villages assert_that( manual_matches %&gt;% select(wp_id, ea_id) %&gt;% unique %&gt;% nrow == nrow(manual_matches) ) Code manual_unmatched &lt;- read_csv( file.path( path_git, &quot;documentation&quot;, &quot;WaterPointCensus&quot;, &quot;ea-wpt-unmatched.csv&quot; ) ) ## Rows: 14 Columns: 3 ## ── Column specification ────── ## Delimiter: &quot;,&quot; ## chr (2): initials, comments ## dbl (1): ea_id ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. Code assert_that( manual_unmatched %&gt;% pull(ea_id) %&gt;% n_distinct == nrow(manual_unmatched) ) ## [1] TRUE Code wp_tmt &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-treatment.rds&quot; ) ) 11.1.2 IPA Code wp_tabular &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-collapsed.rds&quot; ) ) %&gt;% inner_join( wp_tmt, unmatched = &quot;error&quot; ) ## Joining with `by = ## join_by(wp_id)` Code wp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-collapsed.rds&quot; ) ) %&gt;% left_join( wp_tmt, unmatched = &quot;error&quot; ) ## Joining with `by = ## join_by(wp_id)` Code ipa_uganda &lt;- wp %&gt;% dplyr::filter( country == &quot;Uganda&quot; ) Code ipa_malawi &lt;- wp %&gt;% dplyr::filter( country == &quot;Malawi&quot; ) 11.1.3 Evidence Action Code ea_malawi_wpt &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;EvidenceAction&quot;, &quot;Spatial&quot;, &quot;ea-malawi-wp-sf.rds&quot; ) ) ea_malawi_wcp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;EvidenceAction&quot;, &quot;Spatial&quot;, &quot;ea-malawi-wcp-sf.rds&quot; ) ) %&gt;% transmute( wpt_id = wcp_id, villageid = as.character(wcp_villageid) ) ea_malawi &lt;- bind_rows( ea_malawi_wpt, ea_malawi_wcp ) %&gt;% mutate( program = program %&gt;% as.character %&gt;% str_replace_all(&quot;ILC&quot;, &quot;ILC water point&quot;) %&gt;% tidyr::replace_na(&quot;ILC water collection point&quot;) ) Code ea_uganda_wpt &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;EvidenceAction&quot;, &quot;Spatial&quot;, &quot;ea-uganda-wp-sf.rds&quot; ) ) ea_uganda_wcp &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;EvidenceAction&quot;, &quot;Spatial&quot;, &quot;ea-uganda-wcp-sf.rds&quot; ) ) %&gt;% select( wpt_id = wcp_id, villageid = wcp_villageid ) ea_uganda &lt;- bind_rows( ea_uganda_wpt, ea_uganda_wcp ) %&gt;% mutate( program = program %&gt;% as.character %&gt;% str_replace_all(&quot;ILC&quot;, &quot;ILC water point&quot;) %&gt;% tidyr::replace_na(&quot;ILC water collection point&quot;) ) Combine both countries Code ea &lt;- bind_rows( ea_malawi, ea_uganda ) %&gt;% mutate( sourcetype = str_to_sentence(sourcetype), sourcetype_simp = case_when( str_detect(sourcetype, &quot;Borehole&quot;) ~ &quot;Borehole&quot;, str_detect(sourcetype, &quot;Municipal&quot;) ~ &quot;Municipal water supply&quot;, str_detect(sourcetype, &quot;well&quot;) ~ &quot;Dug well&quot;, str_detect(sourcetype, &quot;spring&quot;) ~ &quot;Spring&quot;, str_detect(sourcetype, &quot;Dam&quot;) ~ &quot;Surface water&quot;, str_detect(sourcetype, &quot;water source&quot;) ~ &quot;Surface water&quot; ), wpt_id = as.numeric(wpt_id) ) ea_tabular &lt;- ea %&gt;% st_drop_geometry() 11.2 Combine EA and IPA data 11.2.1 Calculate distances Code tic() wp_uganda &lt;- st_distance_df( ipa_uganda, &quot;wp_id_c&quot;, ea_uganda, &quot;wpt_id&quot; ) toc() ## 49.54 sec elapsed Code tic() wp_malawi &lt;- st_distance_df( ipa_malawi, &quot;wp_id_c&quot;, ea_malawi, &quot;wpt_id&quot; ) toc() ## 47.39 sec elapsed Code wps &lt;- bind_rows( wp_uganda, wp_malawi ) %&gt;% left_join(wp %&gt;% select(wp_id, wp_id_c)) %&gt;% mutate(wpt_id = as.numeric(wpt_id)) ## Joining with `by = ## join_by(wp_id_c)` 11.3 Match IPA water points to EA water points 11.3.1 Manual matches Manual matches take precedence over any algorithmic matching. We will not try to match water points that were already matched (including if they were marked as unmatched). Code matched_manual &lt;- manual_matches %&gt;% bind_rows(manual_unmatched) %&gt;% select(wp_id, ea_id, ilc_cluster_wp, match_comments = comments) %&gt;% mutate(match = &quot;Manual&quot;) Code assert_that( matched_manual %&gt;% select(ea_id, wp_id) %&gt;% unique %&gt;% nrow() == nrow(matched_manual) ) ## [1] TRUE 11.3.2 By DSW ID and distance Code matched_id &lt;- wp_tabular %&gt;% select(wp_id_c, wpt_id = disp_dsw_id) %&gt;% inner_join(ea_tabular) %&gt;% left_join(wps) %&gt;% dplyr::filter(distance &lt; 50) %&gt;% select(ea_id = wpt_id, wp_id) %&gt;% mutate(match = &quot;DSW ID&quot;) ## Joining with `by = ## join_by(wpt_id)` ## Joining with `by = ## join_by(wp_id_c, wpt_id)` Code assert_that( n_distinct(matched_id$wp_id) == nrow(matched_id) ) ## [1] TRUE Code matched_manual_id &lt;- matched_manual %&gt;% bind_rows(matched_id) 11.3.3 By distance and source type We will only try to match water points that have not yet been matched. Code nearby_wps &lt;- wps %&gt;% # We consider that two water points further than 100m from one another cannot be the same dplyr::filter( distance &lt;= 100 ) %&gt;% dplyr::filter( !(wp_id %in% matched_manual_id$wp_id), !(wpt_id %in% matched_manual_id$ea_id) ) We will use simplified source type to determine a match between the IPA points and the EA points. We also create other identifiers to export to the spreadsheet shared with Evidence Action. Code ea_wps &lt;- nearby_wps %&gt;% left_join( wp %&gt;% select( country, wp_id_c, wp_id, wp_name, sourcetype_simp_ipa = sourcetype_simp, sourcetype_ipa = sourcetype, disp_dsw_id, disp_barcode, dsw, ilc ) %&gt;% st_drop_geometry(), by = c(&quot;wp_id_c&quot;, &quot;wp_id&quot;) ) %&gt;% left_join( ea %&gt;% select( wpt_id, sourcetype_simp_ea = sourcetype_simp, sourcetype_ea = sourcetype, program ) %&gt;% st_drop_geometry(), by = &quot;wpt_id&quot; ) %&gt;% mutate( type_match = case_when( program != &quot;ILC water collection point&quot; ~ (sourcetype_simp_ea == sourcetype_simp_ipa), program == &quot;ILC water collection point&quot; ~ is.na(sourcetype_simp_ipa), ), program_match = (dsw &amp; program == &quot;DSW&quot;) | (ilc &amp; str_detect(program, &quot;ILC&quot;)), missing_disp = (!dsw &amp; program == &quot;DSW&quot;), missing_ilc = (!ilc &amp; program == &quot;ILC&quot;), program_mismatch = case_when( (dsw &amp; program == &quot;ILC&quot;) | (ilc &amp; program == &quot;DSW&quot;) ~ TRUE, TRUE ~ FALSE ), matched = (type_match &amp; program_match) ) Code matched_dist &lt;- ea_wps %&gt;% dplyr::filter(matched | missing_disp | missing_ilc) %&gt;% select( ea_id = wpt_id, wp_id, distance ) %&gt;% mutate(match = &quot;Algorithm&quot;) 11.3.3.1 Check how many water points are matched this way Code ea_wps &lt;- ea_wps %&gt;% unique %&gt;% group_by(wpt_id) %&gt;% mutate(ea_matches = sum(matched, na.rm = TRUE)) %&gt;% group_by(wp_id_c) %&gt;% mutate(ipa_matches = sum(matched, na.rm = TRUE)) %&gt;% ungroup Code ea_wps %&gt;% tabyl(ea_matches) ## ea_matches n percent ## 0 25 0.1404494 ## 1 153 0.8595506 Code ea_wps %&gt;% tabyl(ipa_matches, dsw) ## ipa_matches FALSE TRUE NA_ ## 0 13 0 9 ## 1 0 156 0 Code ea_wps %&gt;% tabyl(ipa_matches) ## ipa_matches n percent ## 0 22 0.1235955 ## 1 156 0.8764045 11.3.3.2 Check cases with multiple matches The following water points were mapped in two different villages. We will leave them as is because we need this information in both villages: - wpt_id 70220610 was mapped in 1151005002 and 1151005003 - wpt_id 70060146 was mapped in 1051401001 and 1051001007 - wpt_id 70070419 was mapped in 1191301002 and 1191301007 - wpt_id 7030631 was mapped in 1140202002 and 1140202012 - wpt_id 70220610 was mapped in 1151005002 and 1151005003 Code assert_that( ea_wps %&gt;% dplyr::filter( ea_matches &gt; 1, !(wpt_id %in% c(70070419, 70060146, 7030631, 7020280, 7020281, 70220610)) ) %&gt;% nrow == 0 ) ## [1] TRUE Code ea_wps %&gt;% dplyr::filter(ea_matches &gt; 1) %&gt;% select(country, wpt_id, wp_id, disp_dsw_id, disp_barcode, wp_id_c, sourcetype_ipa, sourcetype_ea, distance, dsw, ilc_wcp, ilc_wp) %&gt;% view Code assert_that( ea_wps %&gt;% dplyr::filter(ipa_matches &gt; 1) %&gt;% nrow == 0 ) ## [1] TRUE Code ea_wps %&gt;% dplyr::filter(ipa_matches &gt; 1) %&gt;% select(country, wpt_id, disp_dsw_id, disp_barcode, wp_id, wp_id_c, sourcetype_ipa, sourcetype_ea, distance) %&gt;% view Code assert_that( nrow(ea_wps) == n_distinct(ea_wps$wp_id_c) ) Code ea_wps %&gt;% group_by(wp_id_c) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% select(country, wp_id, wp_name, wpt_id, disp_dsw_id, disp_barcode, wp_id, wp_id_c, sourcetype_ipa, sourcetype_ea, distance) %&gt;% view 11.3.4 Combine all Code assert_that( !(matched_dist$ea_id %in% matched_manual_id$ea_id) %&gt;% all ) ## [1] TRUE Code assert_that( !(matched_dist$wp_id %in% matched_manual_id$wp_id) %&gt;% all ) ## [1] TRUE Code matched_all &lt;- matched_manual_id %&gt;% bind_rows(matched_dist) %&gt;% st_drop_geometry() Code assert_that( matched_all %&gt;% select(ea_id, wp_id) %&gt;% nrow == nrow(matched_all) ) ## [1] TRUE Code matched_all &lt;- wp %&gt;% st_drop_geometry() %&gt;% right_join(matched_all) %&gt;% left_join( ea %&gt;% transmute( ea_id = wpt_id, ea_village_id = villageid, ea_sourcetype = sourcetype, ea_program = program %&gt;% as.factor, date_installation ) %&gt;% st_drop_geometry() ) ## Joining with `by = ## join_by(wp_id)` ## Joining with `by = ## join_by(ea_id)` Code unmatched_ea &lt;- ea %&gt;% dplyr::filter( villageid %in% wp$village_id, !(wpt_id %in% matched_all$ea_id) ) %&gt;% select( ea_id = wpt_id, village_id = villageid, ea_sourcetype = sourcetype, ea_program = program, date_installation, country = countryid ) Code unmatched_ipa &lt;- wp %&gt;% st_drop_geometry() %&gt;% dplyr::filter( intervention_type != &quot;Non-program&quot;, !(wp_id_c %in% matched_all$wp_id_c) ) Identify water point serving water collection points: Code all_wps &lt;- matched_all %&gt;% bind_rows(unmatched_ea) %&gt;% bind_rows(unmatched_ipa) %&gt;% mutate( ea_ilc_wpt = case_when( !is.na(ilc_cluster_wp) ~ ilc_cluster_wp %&gt;% as.character, !is.na(ea_id) &amp; str_detect(intervention_type, &quot;ILC&quot;) ~ str_sub(ea_id, 1, 8) ) ) Code all_wps &lt;- all_wps %&gt;% select( country, district_id, village_id, wp_id_c, ea_id, ea_ilc_wpt, ipa_program = intervention_type, ea_program, match, match_comments, ipa_visit = date, ipa_sourcetype = sourcetype, ea_sourcetype, date_installation ) %&gt;% arrange(ea_id, wp_id_c) 11.4 Save water-point level data Code matched_final &lt;- all_wps %&gt;% dplyr::filter( !is.na(wp_id_c), !(is.na(ea_id) &amp; is.na(ea_ilc_wpt)) ) %&gt;% select( -c(country, district_id, village_id) ) %&gt;% group_by(wp_id_c) %&gt;% dplyr::filter( !(n() &gt; 1 &amp; match == &quot;Manual&quot;) ) Code assert_that( nrow(matched_final) == n_distinct(matched_final$wp_id_c) ) ## [1] TRUE Code matched_final %&gt;% group_by(wp_id_c) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% view Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-ea-matched&quot; ) matched_final %&gt;% ungroup %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. ## There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. Table 11.1: Data summary Name Piped data Number of rows 574 Number of columns 11 _______________________ Column type frequency: character 6 Date 2 factor 2 numeric 1 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id_c 0 1.00 13 13 0 574 0 ea_ilc_wpt 406 0.29 8 8 0 36 0 ea_program 43 0.93 3 26 0 3 0 match 0 1.00 6 9 0 3 0 match_comments 351 0.39 3 423 0 66 0 ea_sourcetype 183 0.68 8 123 0 14 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique ipa_visit 0 1.00 2025-07-02 2025-08-22 2025-08-01 41 date_installation 183 0.68 2013-04-18 2024-08-26 2022-11-17 161 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts ipa_program 0 1.00 FALSE 4 DSW: 369, ILC: 131, Non: 51, ILC: 23 ipa_sourcetype 16 0.97 FALSE 11 Bor: 290, Mun: 165, Pro: 45, Pro: 21 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist ea_id 39 0.93 22262272389 37000822559 7020106 70190746 82040010 75230915510 87070805001 ▇▁▁▁▃ 11.5 Share matches with EA Code forea &lt;- matched_final %&gt;% bind_rows(unmatched_ea) We want to make a spreadsheet of the water point IDs and relevant DSW and EA information. Code map( c(&quot;Uganda&quot;, &quot;Malawi&quot;), ~ all_wps %&gt;% dplyr::filter(country == .x) %&gt;% write_sheet( ss = &quot;1E6q_myTvE322v1ZGb_hZAn0TphWoumYJKdzdEBwE4U4&quot;, sheet = paste(.x, today()) ) ) ## ! Using an auto-discovered, ## cached token. ## To suppress this message, ## modify your code or options ## to clearly consent to the ## use of a cached token. ## See gargle&#39;s ## &quot;Non-interactive auth&quot; ## vignette for more details: ## &lt;https://gargle.r-lib.org/articles/non-interactive-auth.html&gt; ## ℹ The googlesheets4 package ## is using a cached token for ## &#39;luizaandrade@uchicago.edu&#39;. ## Auto-refreshing stale OAuth token. ## ✔ Writing to ## &quot;Matching ID Sets&quot;. ## ✔ Writing to sheet ## &#39;Uganda 2025-10-17&#39;. ## ✔ Writing to ## &quot;Matching ID Sets&quot;. ## ✔ Writing to sheet ## &#39;Malawi 2025-10-17&#39;. ## [[1]] ## ## ── &lt;googlesheets4_spreadsheet&gt; ## Spreadsheet name: &quot;Matching ID Sets&quot; ## ID: 1E6q_myTvE322v1ZGb_hZAn0TphWoumYJKdzdEBwE4U4 ## Locale: en_US ## Time zone: America/Chicago ## # of sheets: 28 ## ## ── &lt;sheets&gt; ────────────────── ## (Sheet name): (Nominal extent in rows x columns) ## &#39;Uganda 2025-08-29&#39;: 243 x 19 ## &#39;Malawi 2025-08-29&#39;: 477 x 19 ## &#39;Matching ID Sets - Malawi&#39;: 644 x 32 ## &#39;All DSW/ILC - Malawi&#39;: 1000 x 29 ## &#39;Matching ID Sets - Uganda&#39;: 636 x 33 ## &#39;Uganda 2025-09-05&#39;: 243 x 19 ## &#39;Malawi 2025-09-05&#39;: 478 x 19 ## &#39;All DSW/ILC - Uganda&#39;: 1000 x 29 ## &#39;Uganda DSW check&#39;: 418 x 15 ## &#39;Uganda ILC 2025-10-01&#39;: 179 x 15 ## &#39;Uganda 2025-10-02&#39;: 418 x 15 ## &#39;Malawi 2025-10-02&#39;: 484 x 15 ## &#39;Uganda ILC 2025-10-02&#39;: 179 x 15 ## &#39;Uganda 2025-10-10&#39;: 418 x 15 ## &#39;Malawi 2025-10-10&#39;: 484 x 15 ## &#39;Uganda ILC 2025-10-10&#39;: 179 x 15 ## &#39;Uganda 2025-10-13&#39;: 252 x 14 ## &#39;Malawi 2025-10-13&#39;: 496 x 14 ## &#39;Uganda ILC 2025-10-13&#39;: 2 x 14 ## &#39;Uganda 2025-10-14&#39;: 236 x 14 ## &#39;Malawi 2025-10-14&#39;: 484 x 14 ## &#39;Uganda ILC 2025-10-14&#39;: 2 x 14 ## &#39;Uganda 2025-10-15&#39;: 236 x 14 ## &#39;Malawi 2025-10-15&#39;: 483 x 14 ## &#39;Uganda ILC 2025-10-15&#39;: 2 x 14 ## &#39;Uganda 2025-10-17&#39;: 235 x 14 ## &#39;Malawi 2025-10-17&#39;: 483 x 14 ## &#39;Uganda ILC 2025-10-17&#39;: 2 x 14 ## ## [[2]] ## ## ── &lt;googlesheets4_spreadsheet&gt; ## Spreadsheet name: &quot;Matching ID Sets&quot; ## ID: 1E6q_myTvE322v1ZGb_hZAn0TphWoumYJKdzdEBwE4U4 ## Locale: en_US ## Time zone: America/Chicago ## # of sheets: 28 ## ## ── &lt;sheets&gt; ────────────────── ## (Sheet name): (Nominal extent in rows x columns) ## &#39;Uganda 2025-08-29&#39;: 243 x 19 ## &#39;Malawi 2025-08-29&#39;: 477 x 19 ## &#39;Matching ID Sets - Malawi&#39;: 644 x 32 ## &#39;All DSW/ILC - Malawi&#39;: 1000 x 29 ## &#39;Matching ID Sets - Uganda&#39;: 636 x 33 ## &#39;Uganda 2025-09-05&#39;: 243 x 19 ## &#39;Malawi 2025-09-05&#39;: 478 x 19 ## &#39;All DSW/ILC - Uganda&#39;: 1000 x 29 ## &#39;Uganda DSW check&#39;: 418 x 15 ## &#39;Uganda ILC 2025-10-01&#39;: 179 x 15 ## &#39;Uganda 2025-10-02&#39;: 418 x 15 ## &#39;Malawi 2025-10-02&#39;: 484 x 15 ## &#39;Uganda ILC 2025-10-02&#39;: 179 x 15 ## &#39;Uganda 2025-10-10&#39;: 418 x 15 ## &#39;Malawi 2025-10-10&#39;: 484 x 15 ## &#39;Uganda ILC 2025-10-10&#39;: 179 x 15 ## &#39;Uganda 2025-10-13&#39;: 252 x 14 ## &#39;Malawi 2025-10-13&#39;: 496 x 14 ## &#39;Uganda ILC 2025-10-13&#39;: 2 x 14 ## &#39;Uganda 2025-10-14&#39;: 236 x 14 ## &#39;Malawi 2025-10-14&#39;: 484 x 14 ## &#39;Uganda ILC 2025-10-14&#39;: 2 x 14 ## &#39;Uganda 2025-10-15&#39;: 236 x 14 ## &#39;Malawi 2025-10-15&#39;: 483 x 14 ## &#39;Uganda ILC 2025-10-15&#39;: 2 x 14 ## &#39;Uganda 2025-10-17&#39;: 235 x 14 ## &#39;Malawi 2025-10-17&#39;: 483 x 14 ## &#39;Uganda ILC 2025-10-17&#39;: 2 x 14 Code all_wps %&gt;% dplyr::filter(country == &quot;Uganda&quot;, ipa_visit &gt; &quot;2025-08-19&quot;) %&gt;% write_sheet( ss = &quot;1E6q_myTvE322v1ZGb_hZAn0TphWoumYJKdzdEBwE4U4&quot;, sheet = paste(&quot;Uganda ILC&quot;, today()) ) ## ✔ Writing to ## &quot;Matching ID Sets&quot;. ## ✔ Writing to sheet ## &#39;Uganda ILC 2025-10-17&#39;. "],["construct-chlorine-testing-variables.html", "12 Construct chlorine testing variables 12.1 Load data 12.2 Colorimeter 12.3 Color wheel 12.4 Merge 12.5 Export data", " 12 Construct chlorine testing variables Code packages &lt;- c( &quot;tidyverse&quot;, &quot;janitor&quot;, &quot;sf&quot; ) pacman::p_load(packages, character.only = TRUE) 12.1 Load data Code collapsed &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-collapsed.rds&quot; ) ) %&gt;% st_drop_geometry() 12.2 Colorimeter Code meter &lt;- collapsed %&gt;% dplyr::filter(colorimeter) %&gt;% select( wp_id, wp_id_c, country, district_id, village_id, sourcetype, wp_turbidity, jc_mldispensed, jc_mllost, meter_enum, meterid, meterfcr_vialid, meterfcr, matches(&quot;^meterfcr_error&quot;), matches(&quot;^meterfcr_color&quot;), matches(&quot;^meterfcr(.*)timestamp&quot;), matches(&quot;^meterfcr(.*)photo&quot;), metertcr_vialid, metertcr, matches(&quot;^metertcr_error&quot;), matches(&quot;^metertcr_color&quot;), matches(&quot;^metertcr(.*)timestamp&quot;), matches(&quot;^metertcr(.*)photo&quot;) ) %&gt;% select(-contains(&quot;nocl&quot;)) meter_un &lt;- collapsed %&gt;% dplyr::filter(colorimeter_un == 1) %&gt;% select( wp_id, wp_id_c, meter_nocl_enum, meterid_un, meterfcr_nocl_vialid, meterfcr_un, matches(&quot;meterfcr_nocl_error&quot;), matches(&quot;meterfcr_nocl_color&quot;), matches(&quot;meterfcr_nocl(.*)timestamp&quot;), matches(&quot;meterfcr_nocl(.*)photo&quot;), metertcr_nocl_vialid, metertcr_un, matches(&quot;metertcr_nocl_error&quot;), matches(&quot;metertcr_nocl_color&quot;), matches(&quot;metertcr_nocl(.*)timestamp&quot;), matches(&quot;^metertcr_nocl(.*)photo&quot;) ) 12.2.1 Calculate readings differences 12.2.2 Calculate durations Code meter_constructed &lt;- meter %&gt;% mutate( across( contains(&quot;timestamp&quot;), ~ as.numeric(.) ), meterfcr_dur_zero = meterfcr_timestamp1 - meterfcr_timestamp0, meterfcr_dur_reagent = meterfcr_timestamp3 - meterfcr_timestamp1, meterfcr_dur_wait = meterfcr_timestamp4 - meterfcr_timestamp3, meterfcr_dur_color = meterfcr_timestamp5 - meterfcr_timestamp4, meterfcr_dur_clean = meterfcr_timestamp6 - meterfcr_timestamp5, metertcr_dur_zero = metertcr_timestamp1 - metertcr_timestamp0, metertcr_dur_reagent = metertcr_timestamp3 - metertcr_timestamp1, metertcr_dur_wait = metertcr_timestamp4 - metertcr_timestamp3, metertcr_dur_color = metertcr_timestamp5 - metertcr_timestamp4, metertcr_dur_clean = metertcr_timestamp6 - metertcr_timestamp5 ) %&gt;% select( wp_id, wp_id_c, country, district_id, village_id, sourcetype, wp_turbidity, meter_enum, meterid, contains(&quot;jc&quot;), contains(&quot;fcr&quot;), contains(&quot;tcr&quot;), -contains(&quot;timestamp&quot;) ) meter_un_constructed &lt;- meter_un %&gt;% mutate( across( contains(&quot;timestamp&quot;), ~ as.numeric(.) ), meterfcr_nocl_dur_zero = meterfcr_nocl_timestamp1 - meterfcr_nocl_timestamp0, meterfcr_nocl_dur_reagent = meterfcr_nocl_timestamp3 - meterfcr_nocl_timestamp1, meterfcr_nocl_dur_wait = meterfcr_nocl_timestamp4 - meterfcr_nocl_timestamp3, meterfcr_nocl_dur_color = meterfcr_nocl_timestamp5 - meterfcr_nocl_timestamp4, meterfcr_nocl_dur_clean = meterfcr_nocl_timestamp6 - meterfcr_nocl_timestamp5, metertcr_nocl_dur_zero = metertcr_nocl_timestamp1 - metertcr_nocl_timestamp0, metertcr_nocl_dur_reagent = metertcr_nocl_timestamp3 - metertcr_nocl_timestamp1, metertcr_nocl_dur_wait = metertcr_nocl_timestamp4 - metertcr_nocl_timestamp3, metertcr_nocl_dur_color = metertcr_nocl_timestamp5 - metertcr_nocl_timestamp4, metertcr_nocl_dur_clean = metertcr_nocl_timestamp6 - metertcr_nocl_timestamp5 ) %&gt;% select( wp_id, wp_id_c, meter_nocl_enum, meterid_un, contains(&quot;jc&quot;), contains(&quot;fcr&quot;), contains(&quot;tcr&quot;), -contains(&quot;timestamp&quot;) ) 12.2.3 Manual corrections Observations with E-15, very dark pink color, and high color wheel test result: chlorine residual is too high for the colorimeter to read. We’re assigning a high value of 2.4 – which is not the exact level. Water points may also be in here if a high-range test was conducted (since they should not be). Code error15_fcr &lt;- c(&quot;WP3008002&quot;, # high-range test done and gave reading of above 4 &quot;WP3008005&quot;, # high-range test done and gave reading of above 4 &quot;WP2100501004018&quot;, # error 15, disc reading above 3 &quot;WP9006001&quot;, # high-range tests done and gave reading of 2.4 &quot;WP4001001&quot;, # high-range tests done and gave reading of 3.4 &quot;WP4001002&quot;, # high-range tests done and gave reading of 3.4 &quot;WP2005003&quot; # high-range/out-of-range error; between e04 and the bright pink color, the measure is likely actually above 2.2 and an out-of-range error ) error15_tcr &lt;- c(&quot;WP3008002&quot;, &quot;WP3008005&quot;, &quot;WP2100501004018&quot;, # error 15, disc reading above 3 &quot;WP9006001&quot;, # high-range tests done and gave reading of 2.43 &quot;WP4001001&quot;, # high-range tests done and gave reading of 3.3 &quot;WP4001002&quot; # high-range tests done and gave reading of 3.4 ) error15_fcr_un &lt;- c(&quot;&quot;) error15_tcr_un &lt;- c(&quot;&quot;) 12.2.4 Final readings Code meter_final &lt;- meter_constructed %&gt;% rename( meterfcr_r = meterfcr, metertcr_r = metertcr ) %&gt;% mutate( meterfcr_c = case_when( wp_id %in% error15_fcr ~ 2.4, TRUE ~ meterfcr_r ), metertcr_c = case_when( wp_id %in% error15_tcr ~ 2.4, TRUE ~ metertcr_r ), meter_diff_c = metertcr_c - meterfcr_c ) meter_un_final &lt;- meter_un_constructed %&gt;% rename( meterfcr_un_r = meterfcr_un, metertcr_un_r = metertcr_un ) %&gt;% mutate( meterfcr_un_c = case_when( wp_id %in% error15_fcr_un ~ 2.4, TRUE ~ meterfcr_un_r ), metertcr_un_c = case_when( wp_id %in% error15_tcr_un ~ 2.4, TRUE ~ metertcr_un_r ) ) 12.3 Color wheel Code disc &lt;- collapsed %&gt;% dplyr::filter(colorwheel) %&gt;% select( wp_id, wp_id_c, discid, tubeid, tubeid_testtube, matches(&quot;disc(.*)wait&quot;), matches(&quot;disc(.*)cr$&quot;), matches(&quot;disc(.*)color&quot;), matches(&quot;^disc(.*)photo&quot;), matches(&quot;disc(.*)timestamp&quot;) ) %&gt;% select(-contains(&quot;nocl&quot;)) disc_un &lt;- collapsed %&gt;% dplyr::filter(colorwheel_un) %&gt;% select( wp_id, wp_id_c, discid_nocl, tubeid_nocl, tubeid_testtube_nocl, starts_with(&quot;discfcr_nocl&quot;), starts_with(&quot;no_discfcr_nocl&quot;), starts_with(&quot;discfcr_un&quot;), starts_with(&quot;disctcr_nocl&quot;), starts_with(&quot;no_disctcr_nocl&quot;), starts_with(&quot;disctcr_un&quot;) ) 12.3.1 Calculate durations Code disc_constructed &lt;- disc %&gt;% mutate( across( contains(&quot;timestamp&quot;), ~ as.numeric(.) ), discfcr_dur_prep = discfcr_timestamp1 - discfcr_timestamp0, discfcr_dur_wait = discfcr_timestamp2 - discfcr_timestamp1, disctcr_dur_prep = disctcr_timestamp1 - disctcr_timestamp0, disctcr_dur_wait = disctcr_timestamp2 - disctcr_timestamp1, disc_diff_c = disctcr - discfcr ) %&gt;% select( wp_id, wp_id_c, contains(&quot;id&quot;), matches(&quot;fcr(.*)wait&quot;), contains(&quot;fcr&quot;), matches(&quot;tcr(.*)wait&quot;), contains(&quot;tcr&quot;), -contains(&quot;timestamp&quot;), disc_diff_c ) disc_un_constructed &lt;- disc_un %&gt;% mutate( across( contains(&quot;timestamp&quot;), ~ as.numeric(.) ), #discfcr_dur_prep = discfcr_timestamp1 - discfcr_timestamp0, discfcr_nocl_dur_wait = discfcr_nocl_timestamp2 - discfcr_nocl_timestamp1, #disctcr_dur_prep = disctcr_timestamp1 - disctcr_timestamp0, disctcr_nocl_dur_wait = disctcr_nocl_timestamp2 - disctcr_nocl_timestamp1 ) %&gt;% select( wp_id, wp_id_c, matches(&quot;fcr(.*)wait&quot;), contains(&quot;fcr&quot;), matches(&quot;tcr(.*)wait&quot;), contains(&quot;tcr&quot;), -contains(&quot;timestamp&quot;) ) 12.3.2 Final readings Code disc_final &lt;- disc_constructed %&gt;% mutate( discfcr_c = discfcr, disctcr_c = disctcr ) %&gt;% rename( discfcr_r = discfcr, disctcr_r = disctcr ) disc_un_final &lt;- disc_un_constructed %&gt;% mutate( discfcr_un_c = discfcr_un, disctcr_un_c = disctcr_un ) %&gt;% rename( discfcr_un_r = discfcr_un, disctcr_un_r = disctcr_un ) 12.4 Merge Code test &lt;- meter_final %&gt;% full_join(disc_final, by = c(&quot;wp_id_c&quot;, &quot;wp_id&quot;)) %&gt;% full_join(meter_un_final, by = c(&quot;wp_id_c&quot;, &quot;wp_id&quot;)) %&gt;% full_join(disc_un_final, by = c(&quot;wp_id_c&quot;, &quot;wp_id&quot;)) %&gt;% select( wp_id, wp_id_c, country, district_id, village_id, meterfcr_c, metertcr_c, discfcr_c, disctcr_c, meterfcr_un_c, metertcr_un_c, discfcr_un_c, disctcr_un_c, everything() ) %&gt;% mutate( across( c(meterfcr_c:disctcr_un_c), ~ . &gt;= 0.1, .names = &quot;{.col}_01&quot; ), across( c(meterfcr_c:disctcr_un_c), ~ . &gt;= 0.2, .names = &quot;{.col}_02&quot; ) ) 12.5 Export data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-chlorine&quot; ) write_meta( test, path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) Table 12.1: Data summary Name Piped data Number of rows 433 Number of columns 114 _______________________ Column type frequency: character 37 factor 11 logical 19 numeric 47 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id 0 1.00 9 15 0 433 0 wp_id_c 0 1.00 13 13 0 433 0 district_id 68 0.84 3 3 0 28 0 village_id 68 0.84 10 10 0 145 0 meter_enum 68 0.84 4 8 0 127 0 meterid 113 0.74 5 5 0 38 0 meterfcr_vialid 113 0.74 5 5 0 35 0 meterfcr_dpd_photo 113 0.74 17 17 0 320 0 meterfcr_vial_photo 113 0.74 17 17 0 320 0 metertcr_vialid 113 0.74 5 5 0 36 0 metertcr_error 431 0.00 4 4 0 2 0 metertcr_dpd_photo 113 0.74 17 17 0 320 0 metertcr_vial_photo 113 0.74 17 17 0 320 0 discid 114 0.74 3 6 0 121 0 tubeid 114 0.74 4 4 0 113 0 tubeid_testtube 114 0.74 4 4 0 137 0 discfcr_dpd_photo 114 0.74 17 17 0 319 0 discfcr_vial_photo 114 0.74 17 17 0 319 0 disctcr_dpd_photo 114 0.74 17 17 0 319 0 disctcr_vial_photo 114 0.74 17 17 0 319 0 meter_nocl_enum 219 0.49 4 7 0 102 0 meterid_un 219 0.49 5 5 0 32 0 meterfcr_nocl_vialid 219 0.49 5 5 0 32 0 meterfcr_nocl_error 432 0.00 4 4 0 1 0 meterfcr_nocl_dpd_photo 219 0.49 17 46 0 214 0 meterfcr_nocl_vial_photo 220 0.49 17 46 0 213 0 no_meterfcr_nocl_vial_photo 432 0.00 16 16 0 1 0 metertcr_nocl_vialid 219 0.49 5 5 0 31 0 metertcr_nocl_error 248 0.43 23 125 0 185 0 metertcr_nocl_dpd_photo 220 0.49 17 46 0 213 0 discfcr_nocl_dpd_photo 154 0.64 17 17 0 279 0 discfcr_nocl_vial_photo 154 0.64 17 46 0 279 0 discfcr_nocl_color_o 431 0.00 5 5 0 1 0 discfcr_nocl_comments 244 0.44 1 145 0 38 0 disctcr_nocl_dpd_photo 154 0.64 17 46 0 279 0 disctcr_nocl_vial_photo 154 0.64 17 46 0 279 0 disctcr_nocl_comments 247 0.43 1 88 0 41 0 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts country 68 0.84 FALSE 2 Mal: 200, Uga: 165 sourcetype 68 0.84 FALSE 11 Bor: 206, Mun: 57, Pro: 44, Pro: 19 wp_turbidity 75 0.83 FALSE 4 1: 286, 2: 46, 3: 24, 4: 2 meterfcr_color 113 0.74 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 113 0.74 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 discfcr_color 114 0.74 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 114 0.74 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_nocl_color 219 0.49 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 219 0.49 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_nocl_color 154 0.64 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 154 0.64 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 Variable type: logical skim_variable n_missing complete_rate mean count jc_mllost 143 0.67 0.27 FAL: 212, TRU: 78 meterfcr_error04 423 0.02 1.00 TRU: 10 metertcr_error04 420 0.03 1.00 TRU: 13 meterfcr_c_01 113 0.74 0.83 TRU: 265, FAL: 55 metertcr_c_01 114 0.74 0.87 TRU: 276, FAL: 43 discfcr_c_01 114 0.74 0.80 TRU: 256, FAL: 63 disctcr_c_01 114 0.74 0.85 TRU: 270, FAL: 49 meterfcr_un_c_01 220 0.49 0.14 FAL: 183, TRU: 30 metertcr_un_c_01 219 0.49 0.21 FAL: 168, TRU: 46 discfcr_un_c_01 154 0.64 0.01 FAL: 276, TRU: 3 disctcr_un_c_01 154 0.64 0.04 FAL: 269, TRU: 10 meterfcr_c_02 113 0.74 0.77 TRU: 247, FAL: 73 metertcr_c_02 114 0.74 0.82 TRU: 261, FAL: 58 discfcr_c_02 114 0.74 0.80 TRU: 256, FAL: 63 disctcr_c_02 114 0.74 0.85 TRU: 270, FAL: 49 meterfcr_un_c_02 220 0.49 0.06 FAL: 200, TRU: 13 metertcr_un_c_02 219 0.49 0.09 FAL: 194, TRU: 20 discfcr_un_c_02 154 0.64 0.01 FAL: 276, TRU: 3 disctcr_un_c_02 154 0.64 0.04 FAL: 269, TRU: 10 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist meterfcr_c 113 0.74 0.86 0.65 0.00 0.23 0.83 1.34 2.40 ▇▅▆▃▂ metertcr_c 114 0.74 0.95 0.66 0.00 0.39 0.93 1.44 2.40 ▇▆▆▅▂ discfcr_c 114 0.74 0.63 0.52 0.00 0.20 0.60 1.00 3.20 ▇▅▁▁▁ disctcr_c 114 0.74 0.82 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ meterfcr_un_c 220 0.49 0.05 0.09 0.00 0.01 0.03 0.06 0.78 ▇▁▁▁▁ metertcr_un_c 219 0.49 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ discfcr_un_c 154 0.64 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_un_c 154 0.64 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ jc_mldispensed 187 0.57 2.96 0.48 1.20 2.93 3.00 3.00 7.30 ▁▇▁▁▁ meterfcr_r 113 0.74 0.88 0.70 0.00 0.23 0.83 1.34 4.60 ▇▆▁▁▁ meterfcr_dur_zero 182 0.58 144.91 188.75 12.00 25.00 95.00 206.50 2134.00 ▇▁▁▁▁ meterfcr_dur_reagent 113 0.74 104.74 155.37 12.00 42.75 88.00 129.25 2531.00 ▇▁▁▁▁ meterfcr_dur_wait 113 0.74 126.14 161.75 34.00 58.00 94.00 137.25 1856.00 ▇▁▁▁▁ meterfcr_dur_color 114 0.74 80.28 74.75 24.00 48.50 64.00 86.00 811.00 ▇▁▁▁▁ meterfcr_dur_clean 114 0.74 24.82 40.06 1.00 2.00 3.00 36.50 213.00 ▇▁▁▁▁ metertcr_r 115 0.73 0.96 0.73 0.00 0.38 0.93 1.43 5.10 ▇▆▁▁▁ metertcr_dur_zero 182 0.58 85.06 68.77 11.00 26.00 66.00 133.00 359.00 ▇▃▂▁▁ metertcr_dur_reagent 113 0.74 81.32 79.83 9.00 33.00 64.50 109.00 916.00 ▇▁▁▁▁ metertcr_dur_wait 113 0.74 297.72 184.78 21.00 213.00 252.50 306.00 1715.00 ▇▁▁▁▁ metertcr_dur_color 114 0.74 128.00 199.32 21.00 47.50 62.00 93.00 1332.00 ▇▁▁▁▁ metertcr_dur_clean 114 0.74 21.92 127.45 1.00 2.00 2.00 4.00 2135.00 ▇▁▁▁▁ meter_diff_c 114 0.74 0.09 0.25 -1.26 0.01 0.05 0.12 2.08 ▁▇▅▁▁ discfcr_dur_wait 114 0.74 123.26 185.10 -1.00 61.50 96.00 137.00 3040.00 ▇▁▁▁▁ discfcr_r 114 0.74 0.63 0.52 0.00 0.20 0.60 1.00 3.20 ▇▅▁▁▁ discfcr_dur_prep 183 0.58 199.45 257.63 -4.00 61.25 161.50 272.75 3083.00 ▇▁▁▁▁ disctcr_dur_wait 114 0.74 254.72 92.21 -1.00 204.50 237.00 284.00 1219.00 ▇▇▁▁▁ disctcr_r 114 0.74 0.82 0.64 0.00 0.40 0.80 1.20 3.40 ▇▆▂▁▁ disctcr_dur_prep 183 0.58 120.08 75.38 -4.00 55.00 112.50 174.75 370.00 ▇▇▆▂▁ disc_diff_c 114 0.74 0.19 0.24 -0.20 0.00 0.20 0.20 2.60 ▇▂▁▁▁ meterfcr_un_r 220 0.49 0.05 0.09 0.00 0.01 0.03 0.06 0.78 ▇▁▁▁▁ meterfcr_nocl_dur_zero 219 0.49 178.29 136.19 12.00 68.25 164.50 249.75 673.00 ▇▆▂▁▁ meterfcr_nocl_dur_reagent 219 0.49 120.83 121.45 11.00 60.00 99.00 145.75 1062.00 ▇▁▁▁▁ meterfcr_nocl_dur_wait 219 0.49 110.55 95.39 33.00 52.00 81.00 130.00 742.00 ▇▁▁▁▁ meterfcr_nocl_dur_color 219 0.49 83.68 78.59 26.00 45.00 61.50 82.75 582.00 ▇▁▁▁▁ meterfcr_nocl_dur_clean 219 0.49 27.29 47.03 1.00 2.00 3.00 36.00 271.00 ▇▁▁▁▁ metertcr_un_r 219 0.49 0.09 0.22 0.00 0.02 0.04 0.09 2.20 ▇▁▁▁▁ metertcr_nocl_dur_zero 219 0.49 104.55 83.09 11.00 38.25 79.50 159.00 426.00 ▇▃▂▁▁ metertcr_nocl_dur_reagent 219 0.49 85.78 61.55 9.00 37.00 72.00 119.00 376.00 ▇▅▁▁▁ metertcr_nocl_dur_wait 219 0.49 305.27 273.89 4.00 201.00 242.50 295.75 2467.00 ▇▁▁▁▁ metertcr_nocl_dur_color 219 0.49 161.23 363.38 19.00 42.25 59.50 109.50 3803.00 ▇▁▁▁▁ metertcr_nocl_dur_clean 219 0.49 13.13 31.36 1.00 2.00 2.00 4.00 195.00 ▇▁▁▁▁ discfcr_nocl_dur_wait 155 0.64 113.40 96.89 -2.00 53.25 85.50 126.75 710.00 ▇▂▁▁▁ discfcr_nocl_confirm_un 154 0.64 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ discfcr_un_r 154 0.64 0.00 0.02 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_nocl_dur_wait 154 0.64 242.16 61.11 -1.00 198.00 230.00 276.50 562.00 ▁▇▇▁▁ disctcr_nocl_confirm_un 154 0.64 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ disctcr_un_r 154 0.64 0.01 0.04 0.00 0.00 0.00 0.00 0.20 ▇▁▁▁▁ "],["create-final-water-point-census-data.html", "13 Create final water point census data 13.1 Load data 13.2 Merge 13.3 Check data 13.4 Export constructed data 13.5 Order analysis variables 13.6 Export final data", " 13 Create final water point census data Code packages &lt;- c( &quot;tidyverse&quot;, &quot;here&quot;, &quot;sf&quot;, &quot;janitor&quot;, &quot;units&quot;, &quot;leaflet&quot;, &quot;viridis&quot;, &quot;assertthat&quot; ) pacman::p_load(packages, character.only = TRUE) 13.1 Load data 13.1.1 Evidence Action Code villages &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;Villages&quot;, &quot;DataSets&quot;, &quot;Final&quot;, &quot;villages.rds&quot; ) ) %&gt;% rename( ea_dsw = dsw, ea_n_dsw_vil = dsw_wpt, ea_ilc = ilc, ea_n_ilc_wp_vil = ilc_wpt, ea_n_ilc_wcp_vil = ilc_wcp ) %&gt;% mutate( team = team %&gt;% factor %&gt;% as.numeric ) 13.1.2 GPS Code wp_gps &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-collapsed.rds&quot; ) ) %&gt;% select(wp_id_c) 13.1.3 Census Code collapsed &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-collapsed.rds&quot; ) ) %&gt;% select( -c(district_id, country) ) 13.1.4 Promoter survey Code promoter &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;PromoterSurvey&quot;, &quot;DataSets&quot;, &quot;Final&quot;, &quot;pm-survey.rds&quot; ) ) 13.1.5 Evidence Action water point ID Code matches &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-ea-matched.rds&quot; ) ) 13.1.6 Chlorine testing Code tests &lt;- read_rds( here( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-chlorine.rds&quot; ) ) %&gt;% select( wp_id_c, ends_with(&quot;r_c&quot;), ends_with(&quot;un_c&quot;), ends_with(&quot;01&quot;), ends_with(&quot;02&quot;) ) 13.1.7 Treatment Code wp_tmt &lt;- read_rds( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-census-treatment.rds&quot; ) ) 13.2 Merge Code wp &lt;- collapsed %&gt;% inner_join( wp_tmt, by = c(&quot;wp_id&quot;), relationship = &quot;one-to-one&quot;, unmatched = &quot;error&quot; ) %&gt;% left_join( matches, by = c(&quot;wp_id_c&quot;), relationship = &quot;one-to-one&quot;, unmatched = &quot;error&quot; ) %&gt;% left_join( tests, by = c(&quot;wp_id_c&quot;), relationship = &quot;one-to-one&quot;, unmatched = &quot;error&quot; ) assert_that( all(wp$village_id %in% villages$village_id) ) ## [1] TRUE Code wp &lt;- wp %&gt;% left_join( villages, relationship = &quot;many-to-one&quot; ) %&gt;% mutate( promoter_surveyed = wp_id_c %in% promoter$wp_id ) ## Joining with `by = ## join_by(village_id)` Code wp_gps &lt;- left_join(wp_gps, wp) ## Joining with `by = ## join_by(wp_id_c)` Code assert_that( nrow(wp) == n_distinct(wp$wp_id_c) ) ## [1] TRUE Code wp %&gt;% group_by(wp_id_c) %&gt;% dplyr::filter(n() &gt; 1) %&gt;% view 13.3 Check data 13.3.1 Clean comments Code wp &lt;- wp %&gt;% mutate( across( contains(&quot;comments&quot;), ~ if_else( . %in% c(&quot;NONE&quot;, &quot;SUCESSFULLY DONE&quot;, &quot;NO COMMENT .&quot;, &quot;DONE&quot;), NA, . ) ) ) 13.3.2 DSW water points Code dsw &lt;- wp %&gt;% mutate(matched = !is.na(ea_id)) %&gt;% dplyr::filter(dsw) Code dsw %&gt;% tabyl(matched) ## matched n percent ## FALSE 20 0.05141388 ## TRUE 369 0.94858612 Code dsw %&gt;% tabyl(ea_program_vil, matched) ## ea_program_vil FALSE TRUE ## DSW 17 302 ## ILC 0 1 ## DSW &amp; ILC 3 66 Code wp %&gt;% tabyl(ilc_wp, ilc_wcp) ## ilc_wp FALSE TRUE NA_ ## FALSE 913 133 0 ## TRUE 14 21 0 ## NA 0 0 136 Code wp %&gt;% dplyr::filter(ilc_wp, !ilc_wcp, !vil_replaced) %&gt;% select(wp_id_c) ## # A tibble: 3 × 1 ## wp_id_c ## &lt;chr&gt; ## 1 1170106002007 ## 2 2030509091001 ## 3 2040903007002 13.4 Export constructed data Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Constructed&quot;, &quot;wp-constructed&quot; ) wp %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. ## There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. Table 13.1: Data summary Name Piped data Number of rows 1217 Number of columns 278 _______________________ Column type frequency: character 88 Date 5 factor 23 logical 75 numeric 80 POSIXct 7 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace key 0 1.00 41 41 0 1217 0 wp_id 0 1.00 9 15 0 1217 0 village_id 0 1.00 10 10 0 165 0 enumerator_id 0 1.00 4 8 0 135 0 wp_name 0 1.00 4 57 0 1192 0 wp_photo 25 0.98 17 17 0 1192 0 wp_use_howmuch 23 0.98 4 15 0 4 0 dsw_use_howmuch 827 0.32 4 15 0 4 0 enum_comment 0 1.00 2 550 0 463 0 sourcetype_o 1212 0.00 3 3 0 1 0 sourcetype_simp 113 0.91 5 22 0 7 0 wp_id_c 0 1.00 13 13 0 1217 0 spotcheck_key 709 0.42 41 41 0 508 0 spotcheck_enum 709 0.42 4 8 0 132 0 ilc_problems_o 1205 0.01 4 168 0 9 0 ilc_devicepic 1102 0.09 17 17 0 115 0 disp_dsw_datephoto 984 0.19 17 46 0 233 0 disp_photo 835 0.31 17 17 0 382 0 disp_barcode_photo 840 0.31 17 46 0 377 0 disp_barcode 840 0.31 5 7 0 374 0 jc_key 917 0.25 41 41 0 300 0 jc_enum 917 0.25 4 8 0 114 0 jc_comments 1095 0.10 2 548 0 109 0 cw_nocl_key 938 0.23 41 41 0 279 0 cw_nocl_enum 938 0.23 4 7 0 104 0 discid_nocl 938 0.23 5 5 0 103 0 tubeid_nocl 938 0.23 4 4 0 101 0 tubeid_testtube_nocl 938 0.23 4 4 0 124 0 discfcr_nocl_dpd_photo 938 0.23 17 17 0 279 0 discfcr_nocl_vial_photo 938 0.23 17 46 0 279 0 discfcr_nocl_color_o 1215 0.00 5 5 0 1 0 discfcr_nocl_comments 1155 0.05 1 145 0 36 0 disctcr_nocl_dpd_photo 938 0.23 17 46 0 279 0 disctcr_nocl_vial_photo 938 0.23 17 46 0 279 0 disctcr_nocl_comments 1155 0.05 1 88 0 39 0 meter_nocl_key 1003 0.18 41 41 0 214 0 meter_nocl_enum 1003 0.18 4 7 0 102 0 meterid_un 1003 0.18 5 5 0 32 0 meterfcr_nocl_vialid 1003 0.18 5 5 0 32 0 meterfcr_nocl_dpd_photo 1003 0.18 17 46 0 214 0 meterfcr_nocl_error 1216 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 1004 0.18 17 46 0 213 0 no_meterfcr_nocl_vial_photo 1216 0.00 16 16 0 1 0 meterfcr_nocl_comments 1182 0.03 5 84 0 23 0 metertcr_nocl_vialid 1003 0.18 5 5 0 31 0 metertcr_nocl_dpd_photo 1004 0.18 17 46 0 213 0 metertcr_nocl_error 1032 0.15 23 125 0 185 0 metertcr_nocl_comments 1173 0.04 4 68 0 34 0 cw_key 851 0.30 41 41 0 366 0 cw_enum 851 0.30 4 8 0 126 0 tubeid 898 0.26 4 4 0 113 0 tubeid_testtube 898 0.26 4 4 0 137 0 discid 898 0.26 3 6 0 121 0 discfcr_dpd_photo 898 0.26 17 17 0 319 0 discfcr_vial_photo 898 0.26 17 17 0 319 0 discfcr_comments 1156 0.05 2 67 0 37 0 disctcr_dpd_photo 898 0.26 17 17 0 319 0 disctcr_vial_photo 898 0.26 17 17 0 319 0 disctcr_comments 1154 0.05 2 121 0 41 0 jc_wait_str 970 0.20 3 4 0 221 0 jc_wait_end 970 0.20 3 4 0 234 0 jc_wait_diff 970 0.20 1 5 0 187 0 meter_key 852 0.30 41 41 0 365 0 meter_enum 852 0.30 4 8 0 127 0 meterfcr_vialid 897 0.26 5 5 0 35 0 metertcr_vialid 897 0.26 5 5 0 36 0 meterid 897 0.26 5 5 0 38 0 meterfcr_dpd_photo 897 0.26 17 17 0 320 0 meterfcr_vial_photo 897 0.26 17 17 0 320 0 meterfcr_comments 1157 0.05 2 55 0 45 0 metertcr_dpd_photo 897 0.26 17 17 0 320 0 metertcr_error 1215 0.00 4 4 0 2 0 metertcr_vial_photo 897 0.26 17 17 0 320 0 metertcr_comments 1149 0.06 2 298 0 49 0 meter_comments 1078 0.11 2 548 0 121 0 ea_ilc_wpt 1049 0.14 8 8 0 36 0 ea_program 686 0.44 3 26 0 3 0 match 643 0.47 6 9 0 3 0 match_comments 994 0.18 3 423 0 66 0 ea_sourcetype 826 0.32 8 123 0 14 0 village 0 1.00 4 18 0 162 0 district 0 1.00 4 14 0 28 0 country 0 1.00 6 6 0 2 0 vil_notes 579 0.52 18 639 0 82 0 visited 0 1.00 9 13 0 2 0 visited_footprint 0 1.00 9 13 0 2 0 visited_expansion 0 1.00 9 13 0 2 0 visited_ilc 0 1.00 9 13 0 2 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1.00 2025-07-02 2025-08-22 2025-07-30 43 disp_dsw_date 1023 0.16 1992-06-15 2025-08-01 2023-02-14 104 ipa_visit 643 0.47 2025-07-02 2025-08-22 2025-08-01 41 date_installation 826 0.32 2013-04-18 2024-08-26 2022-11-17 161 vil_completion_date 301 0.75 2025-07-16 2025-08-21 2025-08-04 33 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts sourcetype 113 0.91 FALSE 12 Bor: 527, Mun: 232, Pro: 111, Pro: 61 wp_func_last 1196 0.02 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 730 0.40 FALSE 4 1: 385, 2: 71, 3: 29, 4: 2 wp_cost_period 941 0.23 FALSE 7 Mon: 127, As : 92, Ann: 42, Qua: 9 disp_dsw_gen 835 0.31 FALSE 2 Gen: 369, Gen: 13, Can: 0, Gen: 0 disp_dose 969 0.20 TRUE 3 3 m: 204, Les: 27, Mor: 17 discfcr_nocl_color 938 0.23 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 938 0.23 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 1003 0.18 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 1003 0.18 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_color 898 0.26 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 898 0.26 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_color 897 0.26 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 897 0.26 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 intervention 0 1.00 FALSE 3 Non: 660, DSW: 389, ILC: 168 intervention_type 0 1.00 FALSE 4 Non: 660, DSW: 389, ILC: 133, ILC: 35 ipa_program 643 0.47 FALSE 4 DSW: 369, ILC: 131, Non: 51, ILC: 23 ipa_sourcetype 659 0.46 FALSE 11 Bor: 290, Mun: 165, Pro: 45, Pro: 21 ea_program_vil 0 1.00 FALSE 3 DSW: 828, ILC: 207, DSW: 182 pre_expansion 0 1.00 FALSE 2 Exp: 791, Foo: 426 sample_group 0 1.00 TRUE 3 Exp: 432, Foo: 416, ILC: 369 sample 41 0.97 FALSE 2 Mai: 1111, Rep: 65 vil_rain 1047 0.14 FALSE 3 Hea: 127, Rai: 40, rai: 3 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 1109, FAL: 108 wp_multicompound 0 1.00 0.94 TRU: 1146, FAL: 71 wp_func 0 1.00 0.87 TRU: 1053, FAL: 164 wp_func_c 0 1.00 0.87 TRU: 1056, FAL: 161 wp_promoter 679 0.44 0.12 FAL: 476, TRU: 62 wp_dsw 265 0.78 0.41 FAL: 559, TRU: 393 wp_ilc_device 115 0.91 0.13 FAL: 964, TRU: 138 wp_ilc 495 0.59 0.24 FAL: 547, TRU: 175 spotcheck 709 0.42 1.00 TRU: 508 wp_notfunc_dry 1212 0.00 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 1212 0.00 1.00 TRU: 5 wp_notfunc_ilc_dry 1205 0.01 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 1205 0.01 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 1205 0.01 0.25 FAL: 9, TRU: 3 wp_pay 731 0.40 0.57 TRU: 277, FAL: 209 wp_pay_c 731 0.40 0.57 TRU: 276, FAL: 210 wp_pay_userfees 941 0.23 0.08 FAL: 253, TRU: 23 wp_pay_maintenance 941 0.23 0.93 TRU: 256, FAL: 20 ilc_climb 1087 0.11 0.64 TRU: 83, FAL: 47 ilc_operator 1087 0.11 0.50 FAL: 65, TRU: 65 ilc_tabletholder 1091 0.10 0.87 TRU: 110, FAL: 16 ilc_covercap 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_deviceclamped 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_devicefunc 1090 0.10 0.69 TRU: 87, FAL: 40 ilc_connections 1092 0.10 0.07 FAL: 116, TRU: 9 ilc_problems 1092 0.10 0.10 FAL: 113, TRU: 12 ilc_stock 1087 0.11 0.41 FAL: 77, TRU: 53 disp_tank_present 835 0.31 0.97 TRU: 370, FAL: 12 disp_casing_present 835 0.31 1.00 TRU: 381, FAL: 1 disp_pvc_pole_present 835 0.31 1.00 TRU: 381, FAL: 1 flag_wpcensus_conflict 1195 0.02 1.00 TRU: 22 disp_func 917 0.25 1.00 TRU: 299, FAL: 1 disp_filled 918 0.25 0.84 TRU: 251, FAL: 48 colorwheel_un 938 0.23 1.00 TRU: 279 colorimeter_un 1003 0.18 1.00 TRU: 214 meterfcr_nocl_zero 1003 0.18 1.00 TRU: 214 metertcr_nocl_zero 1003 0.18 1.00 TRU: 214 colorwheel 851 0.30 1.00 TRU: 366 jc_valve 923 0.24 1.00 TRU: 294 jc_chlorine 923 0.24 0.84 TRU: 247, FAL: 47 jc_mllost 923 0.24 0.27 FAL: 215, TRU: 79 colorimeter 852 0.30 1.00 TRU: 365 meterfcr_zero 897 0.26 1.00 TRU: 320 meterfcr_error04 1207 0.01 1.00 TRU: 10 metertcr_zero 897 0.26 1.00 TRU: 320 metertcr_error04 1204 0.01 1.00 TRU: 13 dsw 136 0.89 0.36 FAL: 692, TRU: 389 ilc 136 0.89 0.16 FAL: 913, TRU: 168 ilc_wp 136 0.89 0.03 FAL: 1046, TRU: 35 ilc_wcp 136 0.89 0.14 FAL: 927, TRU: 154 meterfcr_c_01 897 0.26 0.83 TRU: 265, FAL: 55 metertcr_c_01 898 0.26 0.87 TRU: 276, FAL: 43 discfcr_c_01 898 0.26 0.80 TRU: 256, FAL: 63 disctcr_c_01 898 0.26 0.85 TRU: 270, FAL: 49 meterfcr_un_c_01 1004 0.18 0.14 FAL: 183, TRU: 30 metertcr_un_c_01 1003 0.18 0.21 FAL: 168, TRU: 46 discfcr_un_c_01 938 0.23 0.01 FAL: 276, TRU: 3 disctcr_un_c_01 938 0.23 0.04 FAL: 269, TRU: 10 meterfcr_c_02 897 0.26 0.77 TRU: 247, FAL: 73 metertcr_c_02 898 0.26 0.82 TRU: 261, FAL: 58 discfcr_c_02 898 0.26 0.80 TRU: 256, FAL: 63 disctcr_c_02 898 0.26 0.85 TRU: 270, FAL: 49 meterfcr_un_c_02 1004 0.18 0.06 FAL: 200, TRU: 13 metertcr_un_c_02 1003 0.18 0.09 FAL: 194, TRU: 20 discfcr_un_c_02 938 0.23 0.01 FAL: 276, TRU: 3 disctcr_un_c_02 938 0.23 0.04 FAL: 269, TRU: 10 ea_dsw 0 1.00 0.83 TRU: 1010, FAL: 207 ea_ilc 0 1.00 0.32 FAL: 828, TRU: 389 vil_replaced 41 0.97 0.03 FAL: 1136, TRU: 40 potential_interference 41 0.97 0.05 FAL: 1121, TRU: 55 promoter_surveyed 0 1.00 0.26 FAL: 900, TRU: 317 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist n_obs 0 1.00 5.020000e+00 4.900000e-01 2.0 5.00 5.00 5.000000e+00 1.000000e+01 ▁▇▁▁▁ n_enum 0 1.00 5.000000e+00 4.100000e-01 2.0 5.00 5.00 5.000000e+00 8.000000e+00 ▁▁▇▁▁ n 0 1.00 4.610000e+00 7.300000e-01 1.0 4.00 5.00 5.000000e+00 1.000000e+01 ▁▃▇▁▁ wp_cost 948 0.22 1.452790e+03 1.989650e+03 50.0 500.00 1000.00 1.500000e+03 1.500000e+04 ▇▁▁▁▁ ilc_wcps 1093 0.10 1.756000e+01 8.977000e+01 1.0 1.00 3.00 1.900000e+01 1.000000e+03 ▇▁▁▁▁ ilc_tabletstock 1164 0.04 2.980000e+00 1.720000e+00 0.0 2.00 3.00 3.000000e+00 1.000000e+01 ▆▇▁▁▁ disp_dsw_id 956 0.21 1.381097e+08 7.119017e+08 870.0 70180587.00 80022200.00 8.305046e+07 8.204216e+09 ▇▁▁▁▁ count 709 0.42 1.240000e+00 7.900000e-01 1.0 1.00 1.00 1.000000e+00 5.000000e+00 ▇▁▁▁▁ jc_wait 965 0.21 1.657660e+03 6.159800e+02 0.0 1806.75 1846.00 1.977250e+03 2.597000e+03 ▁▁▁▇▂ discfcr_nocl_timestamp0 939 0.23 7.010300e+02 3.589400e+02 200.0 441.25 621.50 8.572500e+02 2.396000e+03 ▇▆▂▁▁ discfcr_nocl_timestamp1 939 0.23 9.473100e+02 4.330300e+02 240.0 632.25 868.50 1.162500e+03 2.895000e+03 ▇▇▂▁▁ discfcr_nocl_timestamp2 938 0.23 1.060680e+03 4.283900e+02 277.0 748.00 1007.00 1.284500e+03 3.015000e+03 ▆▇▂▁▁ discfcr_un 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ discfcr_nocl_confirm_un 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_timestamp0 939 0.23 1.159600e+03 4.592200e+02 307.0 823.50 1100.00 1.413750e+03 3.179000e+03 ▅▇▂▁▁ disctcr_nocl_timestamp1 938 0.23 1.278780e+03 4.944400e+02 322.0 927.50 1218.00 1.551500e+03 3.364000e+03 ▅▇▃▁▁ disctcr_nocl_timestamp2 938 0.23 1.520940e+03 5.044000e+02 349.0 1164.50 1486.00 1.795500e+03 3.640000e+03 ▂▇▅▁▁ disctcr_un 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_confirm_un 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp0 1003 0.18 7.223900e+02 3.996200e+02 191.0 455.25 645.00 9.057500e+02 3.718000e+03 ▇▂▁▁▁ meterfcr_nocl_timestamp1 1003 0.18 9.006700e+02 4.262200e+02 240.0 596.00 821.50 1.105500e+03 3.735000e+03 ▇▅▁▁▁ meterfcr_nocl_timestamp3 1003 0.18 1.021500e+03 4.401200e+02 280.0 707.00 949.00 1.257500e+03 3.772000e+03 ▇▆▁▁▁ meterfcr_nocl_timestamp4 1003 0.18 1.132050e+03 4.428200e+02 402.0 805.50 1078.00 1.365750e+03 3.894000e+03 ▇▆▁▁▁ meterfcr_un 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_confirm_un 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp5 1003 0.18 1.215730e+03 4.518200e+02 436.0 881.00 1154.50 1.467250e+03 3.935000e+03 ▇▇▁▁▁ meterfcr_nocl_timestamp6 1003 0.18 1.243010e+03 4.598300e+02 447.0 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp0 1003 0.18 1.243010e+03 4.598300e+02 447.0 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp1 1003 0.18 1.347570e+03 4.857000e+02 480.0 976.25 1319.50 1.644750e+03 3.966000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp3 1003 0.18 1.433340e+03 5.088900e+02 503.0 1037.75 1389.50 1.703750e+03 4.249000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp4 1003 0.18 1.738610e+03 5.772100e+02 703.0 1317.75 1697.00 2.036750e+03 4.439000e+03 ▆▇▂▁▁ metertcr_un 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_confirm_un 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_timestamp5 1003 0.18 1.899840e+03 7.241100e+02 818.0 1416.75 1786.50 2.215500e+03 5.882000e+03 ▇▆▁▁▁ metertcr_nocl_timestamp6 1003 0.18 1.912970e+03 7.261500e+02 821.0 1421.50 1793.50 2.219000e+03 5.885000e+03 ▇▆▁▁▁ discfcr_timestamp0 967 0.21 2.229800e+03 9.730800e+02 141.0 2109.00 2533.50 2.780250e+03 5.470000e+03 ▃▂▇▁▁ discfcr_timestamp1 898 0.26 2.498850e+03 1.033170e+03 152.0 2209.50 2700.00 3.073000e+03 5.805000e+03 ▂▂▇▁▁ discfcr_timestamp2 898 0.26 2.622110e+03 1.042430e+03 400.0 2316.00 2818.00 3.239500e+03 5.866000e+03 ▃▂▇▁▁ discfcr 898 0.26 6.300000e-01 5.200000e-01 0.0 0.20 0.60 1.000000e+00 3.200000e+00 ▇▅▁▁▁ disctcr_timestamp0 967 0.21 2.678210e+03 1.063770e+03 477.0 2440.50 2918.00 3.292000e+03 6.145000e+03 ▃▃▇▁▁ disctcr_timestamp1 898 0.26 2.884590e+03 1.103000e+03 519.0 2525.00 3050.00 3.508000e+03 6.515000e+03 ▃▃▇▁▁ disctcr_timestamp2 898 0.26 3.139310e+03 1.101400e+03 606.0 2771.00 3293.00 3.770000e+03 6.722000e+03 ▂▃▇▂▁ disctcr 898 0.26 8.200000e-01 6.400000e-01 0.0 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ jc_mldispensed 970 0.20 2.960000e+00 4.800000e-01 1.2 2.95 3.00 3.000000e+00 7.300000e+00 ▁▇▁▁▁ meterfcr_timestamp0 966 0.21 2.243380e+03 9.335800e+02 206.0 2088.50 2483.00 2.773500e+03 5.353000e+03 ▂▂▇▁▁ meterfcr_timestamp1 897 0.26 2.446100e+03 1.044830e+03 234.0 2187.25 2602.00 2.967750e+03 7.330000e+03 ▃▇▂▁▁ meterfcr_timestamp3 897 0.26 2.550840e+03 1.054850e+03 257.0 2263.25 2689.00 3.071500e+03 7.670000e+03 ▂▇▂▁▁ meterfcr_timestamp4 897 0.26 2.676980e+03 1.058170e+03 291.0 2396.00 2822.50 3.187250e+03 7.747000e+03 ▂▇▂▁▁ meterfcr 897 0.26 8.800000e-01 7.000000e-01 0.0 0.23 0.83 1.340000e+00 4.600000e+00 ▇▆▁▁▁ meterfcr_timestamp5 898 0.26 2.762750e+03 1.073730e+03 342.0 2468.50 2905.00 3.296500e+03 7.913000e+03 ▂▇▃▁▁ meterfcr_timestamp6 897 0.26 2.781980e+03 1.085220e+03 343.0 2467.50 2916.00 3.335500e+03 8.000000e+03 ▂▇▃▁▁ metertcr_timestamp0 966 0.21 2.706590e+03 1.017430e+03 343.0 2471.50 2899.00 3.242500e+03 5.967000e+03 ▂▂▇▁▁ metertcr_timestamp1 897 0.26 2.877560e+03 1.103180e+03 361.0 2510.50 3011.50 3.463750e+03 8.160000e+03 ▂▇▃▁▁ metertcr_timestamp3 897 0.26 2.958880e+03 1.131470e+03 386.0 2552.25 3096.50 3.519500e+03 8.850000e+03 ▂▇▂▁▁ metertcr_timestamp4 897 0.26 3.256600e+03 1.157050e+03 784.0 2831.75 3395.00 3.837750e+03 9.295000e+03 ▂▇▁▁▁ metertcr 899 0.26 9.600000e-01 7.300000e-01 0.0 0.38 0.93 1.430000e+00 5.100000e+00 ▇▆▁▁▁ metertcr_timestamp5 898 0.26 3.385280e+03 1.190200e+03 838.0 2891.50 3472.00 4.033000e+03 9.364000e+03 ▃▇▂▁▁ metertcr_timestamp6 897 0.26 3.410120e+03 1.200750e+03 839.0 2898.75 3482.00 4.072250e+03 9.414000e+03 ▃▇▂▁▁ dist_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ wp_id_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ collapse_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ ea_id 682 0.44 2.226227e+10 3.700082e+10 7020106.0 70190745.50 82040010.00 7.523092e+10 8.707081e+10 ▇▁▁▁▃ meterfcr_c 897 0.26 8.600000e-01 6.500000e-01 0.0 0.23 0.83 1.340000e+00 2.400000e+00 ▇▅▆▃▂ metertcr_c 898 0.26 9.500000e-01 6.600000e-01 0.0 0.39 0.93 1.440000e+00 2.400000e+00 ▇▆▆▅▂ discfcr_c 898 0.26 6.300000e-01 5.200000e-01 0.0 0.20 0.60 1.000000e+00 3.200000e+00 ▇▅▁▁▁ disctcr_c 898 0.26 8.200000e-01 6.400000e-01 0.0 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ meterfcr_un_c 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ metertcr_un_c 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ discfcr_un_c 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_un_c 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ district_id 0 1.00 1.642300e+02 4.651000e+01 102.0 115.00 202.00 2.050000e+02 2.100000e+02 ▆▁▁▁▇ ilc_wpt_d 0 1.00 2.200000e-01 4.100000e-01 0.0 0.00 0.00 0.000000e+00 1.000000e+00 ▇▁▁▁▂ ilc_wcp_d 0 1.00 3.200000e-01 4.700000e-01 0.0 0.00 0.00 1.000000e+00 1.000000e+00 ▇▁▁▁▃ ilc_d 0 1.00 3.200000e-01 4.700000e-01 0.0 0.00 0.00 1.000000e+00 1.000000e+00 ▇▁▁▁▃ dsw_d 0 1.00 8.300000e-01 3.800000e-01 0.0 1.00 1.00 1.000000e+00 1.000000e+00 ▂▁▁▁▇ ea_n_dsw_vil 0 1.00 2.890000e+00 3.060000e+00 0.0 1.00 2.00 4.000000e+00 1.200000e+01 ▇▂▁▁▁ ea_n_ilc_wp_vil 0 1.00 3.400000e-01 6.800000e-01 0.0 0.00 0.00 0.000000e+00 3.000000e+00 ▇▁▁▁▁ ea_n_ilc_wcp_vil 0 1.00 2.630000e+00 6.920000e+00 0.0 0.00 0.00 1.000000e+00 3.100000e+01 ▇▁▁▁▁ ilc_cluster_id 949 0.22 2.090911e+04 5.888800e+02 20081.0 20263.00 21266.00 2.150600e+04 2.158300e+04 ▆▁▁▂▇ team 51 0.96 1.235000e+01 7.200000e+00 1.0 5.00 13.50 1.800000e+01 2.500000e+01 ▇▅▆▇▅ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1.00 2025-07-02 18:28:05 2025-08-22 17:46:21 2025-07-30 18:51:48 1210 spotcheck_time 709 0.42 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 20:33:16 506 jc_time 917 0.25 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-28 18:29:16 299 cw_nocl_time 938 0.23 2025-07-21 17:40:30 2025-08-22 17:46:10 2025-08-01 16:54:57 278 meter_nocl_time 1003 0.18 2025-07-21 17:44:39 2025-08-19 15:22:54 2025-07-30 17:54:08 213 cw_time 851 0.30 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-29 13:56:10 366 meter_time 852 0.30 2025-07-02 18:30:48 2025-08-23 06:32:32 2025-07-29 15:28:51 365 Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Spatial&quot;, &quot;wp-gps-constructed&quot; ) wp_gps %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. ## Warning: There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. ## Warning: Couldn&#39;t find skimmers for class: sfc_POINT, sfc; No user-defined ## `sfl` provided. Falling back to `character`. ## Warning: There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. Table 13.2: Data summary Name Piped data Number of rows 1217 Number of columns 279 _______________________ Column type frequency: character 89 Date 5 factor 23 logical 75 numeric 80 POSIXct 7 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id_c 0 1.00 13 13 0 1217 0 geometry 0 1.00 33 38 0 1217 0 key 0 1.00 41 41 0 1217 0 wp_id 0 1.00 9 15 0 1217 0 village_id 0 1.00 10 10 0 165 0 enumerator_id 0 1.00 4 8 0 135 0 wp_name 0 1.00 4 57 0 1192 0 wp_photo 25 0.98 17 17 0 1192 0 wp_use_howmuch 23 0.98 4 15 0 4 0 dsw_use_howmuch 827 0.32 4 15 0 4 0 enum_comment 0 1.00 2 550 0 463 0 sourcetype_o 1212 0.00 3 3 0 1 0 sourcetype_simp 113 0.91 5 22 0 7 0 spotcheck_key 709 0.42 41 41 0 508 0 spotcheck_enum 709 0.42 4 8 0 132 0 ilc_problems_o 1205 0.01 4 168 0 9 0 ilc_devicepic 1102 0.09 17 17 0 115 0 disp_dsw_datephoto 984 0.19 17 46 0 233 0 disp_photo 835 0.31 17 17 0 382 0 disp_barcode_photo 840 0.31 17 46 0 377 0 disp_barcode 840 0.31 5 7 0 374 0 jc_key 917 0.25 41 41 0 300 0 jc_enum 917 0.25 4 8 0 114 0 jc_comments 917 0.25 2 548 0 111 0 cw_nocl_key 938 0.23 41 41 0 279 0 cw_nocl_enum 938 0.23 4 7 0 104 0 discid_nocl 938 0.23 5 5 0 103 0 tubeid_nocl 938 0.23 4 4 0 101 0 tubeid_testtube_nocl 938 0.23 4 4 0 124 0 discfcr_nocl_dpd_photo 938 0.23 17 17 0 279 0 discfcr_nocl_vial_photo 938 0.23 17 46 0 279 0 discfcr_nocl_color_o 1215 0.00 5 5 0 1 0 discfcr_nocl_comments 1028 0.16 1 145 0 38 0 disctcr_nocl_dpd_photo 938 0.23 17 46 0 279 0 disctcr_nocl_vial_photo 938 0.23 17 46 0 279 0 disctcr_nocl_comments 1031 0.15 1 88 0 41 0 meter_nocl_key 1003 0.18 41 41 0 214 0 meter_nocl_enum 1003 0.18 4 7 0 102 0 meterid_un 1003 0.18 5 5 0 32 0 meterfcr_nocl_vialid 1003 0.18 5 5 0 32 0 meterfcr_nocl_dpd_photo 1003 0.18 17 46 0 214 0 meterfcr_nocl_error 1216 0.00 4 4 0 1 0 meterfcr_nocl_vial_photo 1004 0.18 17 46 0 213 0 no_meterfcr_nocl_vial_photo 1216 0.00 16 16 0 1 0 meterfcr_nocl_comments 1080 0.11 4 84 0 25 0 metertcr_nocl_vialid 1003 0.18 5 5 0 31 0 metertcr_nocl_dpd_photo 1004 0.18 17 46 0 213 0 metertcr_nocl_error 1032 0.15 23 125 0 185 0 metertcr_nocl_comments 1075 0.12 4 68 0 36 0 cw_key 851 0.30 41 41 0 366 0 cw_enum 851 0.30 4 8 0 126 0 tubeid 898 0.26 4 4 0 113 0 tubeid_testtube 898 0.26 4 4 0 137 0 discid 898 0.26 3 6 0 121 0 discfcr_dpd_photo 898 0.26 17 17 0 319 0 discfcr_vial_photo 898 0.26 17 17 0 319 0 discfcr_comments 1014 0.17 2 67 0 39 0 disctcr_dpd_photo 898 0.26 17 17 0 319 0 disctcr_vial_photo 898 0.26 17 17 0 319 0 disctcr_comments 1014 0.17 2 121 0 43 0 jc_wait_str 970 0.20 3 4 0 221 0 jc_wait_end 970 0.20 3 4 0 234 0 jc_wait_diff 970 0.20 1 5 0 187 0 meter_key 852 0.30 41 41 0 365 0 meter_enum 852 0.30 4 8 0 127 0 meterfcr_vialid 897 0.26 5 5 0 35 0 metertcr_vialid 897 0.26 5 5 0 36 0 meterid 897 0.26 5 5 0 38 0 meterfcr_dpd_photo 897 0.26 17 17 0 320 0 meterfcr_vial_photo 897 0.26 17 17 0 320 0 meterfcr_comments 1002 0.18 2 55 0 47 0 metertcr_dpd_photo 897 0.26 17 17 0 320 0 metertcr_error 1215 0.00 4 4 0 2 0 metertcr_vial_photo 897 0.26 17 17 0 320 0 metertcr_comments 1009 0.17 2 298 0 51 0 meter_comments 852 0.30 2 548 0 123 0 ea_ilc_wpt 1049 0.14 8 8 0 36 0 ea_program 686 0.44 3 26 0 3 0 match 643 0.47 6 9 0 3 0 match_comments 994 0.18 3 423 0 66 0 ea_sourcetype 826 0.32 8 123 0 14 0 village 0 1.00 4 18 0 162 0 district 0 1.00 4 14 0 28 0 country 0 1.00 6 6 0 2 0 vil_notes 579 0.52 18 639 0 82 0 visited 0 1.00 9 13 0 2 0 visited_footprint 0 1.00 9 13 0 2 0 visited_expansion 0 1.00 9 13 0 2 0 visited_ilc 0 1.00 9 13 0 2 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1.00 2025-07-02 2025-08-22 2025-07-30 43 disp_dsw_date 1023 0.16 1992-06-15 2025-08-01 2023-02-14 104 ipa_visit 643 0.47 2025-07-02 2025-08-22 2025-08-01 41 date_installation 826 0.32 2013-04-18 2024-08-26 2022-11-17 161 vil_completion_date 301 0.75 2025-07-16 2025-08-21 2025-08-04 33 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts sourcetype 113 0.91 FALSE 12 Bor: 527, Mun: 232, Pro: 111, Pro: 61 wp_func_last 1196 0.02 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 730 0.40 FALSE 4 1: 385, 2: 71, 3: 29, 4: 2 wp_cost_period 941 0.23 FALSE 7 Mon: 127, As : 92, Ann: 42, Qua: 9 disp_dsw_gen 835 0.31 FALSE 2 Gen: 369, Gen: 13, Can: 0, Gen: 0 disp_dose 969 0.20 TRUE 3 3 m: 204, Les: 27, Mor: 17 discfcr_nocl_color 938 0.23 FALSE 3 1 -: 268, 2 -: 9, Oth: 2, 3 -: 0 disctcr_nocl_color 938 0.23 FALSE 2 1 -: 248, 2 -: 31, Oth: 0, 3 -: 0 meterfcr_nocl_color 1003 0.18 FALSE 3 1 -: 196, 2 -: 17, 4 -: 1, Oth: 0 metertcr_nocl_color 1003 0.18 FALSE 2 1 -: 184, 2 -: 30, Oth: 0, 3 -: 0 discfcr_color 898 0.26 FALSE 4 3 -: 160, 2 -: 63, 1 -: 58, 4 -: 38 disctcr_color 898 0.26 FALSE 4 3 -: 147, 4 -: 76, 2 -: 51, 1 -: 45 meterfcr_color 897 0.26 FALSE 4 3 -: 128, 4 -: 103, 1 -: 52, 2 -: 37 metertcr_color 897 0.26 FALSE 4 4 -: 142, 3 -: 102, 1 -: 47, 2 -: 29 intervention 0 1.00 FALSE 3 Non: 660, DSW: 389, ILC: 168 intervention_type 0 1.00 FALSE 4 Non: 660, DSW: 389, ILC: 133, ILC: 35 ipa_program 643 0.47 FALSE 4 DSW: 369, ILC: 131, Non: 51, ILC: 23 ipa_sourcetype 659 0.46 FALSE 11 Bor: 290, Mun: 165, Pro: 45, Pro: 21 ea_program_vil 0 1.00 FALSE 3 DSW: 828, ILC: 207, DSW: 182 pre_expansion 0 1.00 FALSE 2 Exp: 791, Foo: 426 sample_group 0 1.00 TRUE 3 Exp: 432, Foo: 416, ILC: 369 sample 41 0.97 FALSE 2 Mai: 1111, Rep: 65 vil_rain 1047 0.14 FALSE 3 Hea: 127, Rai: 40, rai: 3 Variable type: logical skim_variable n_missing complete_rate mean count wp_drink 0 1.00 0.91 TRU: 1109, FAL: 108 wp_multicompound 0 1.00 0.94 TRU: 1146, FAL: 71 wp_func 0 1.00 0.87 TRU: 1053, FAL: 164 wp_func_c 0 1.00 0.87 TRU: 1056, FAL: 161 wp_promoter 679 0.44 0.12 FAL: 476, TRU: 62 wp_dsw 265 0.78 0.41 FAL: 559, TRU: 393 wp_ilc_device 115 0.91 0.13 FAL: 964, TRU: 138 wp_ilc 495 0.59 0.24 FAL: 547, TRU: 175 spotcheck 709 0.42 1.00 TRU: 508 wp_notfunc_dry 1212 0.00 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 1212 0.00 1.00 TRU: 5 wp_notfunc_ilc_dry 1205 0.01 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 1205 0.01 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 1205 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 1205 0.01 0.25 FAL: 9, TRU: 3 wp_pay 731 0.40 0.57 TRU: 277, FAL: 209 wp_pay_c 731 0.40 0.57 TRU: 276, FAL: 210 wp_pay_userfees 941 0.23 0.08 FAL: 253, TRU: 23 wp_pay_maintenance 941 0.23 0.93 TRU: 256, FAL: 20 ilc_climb 1087 0.11 0.64 TRU: 83, FAL: 47 ilc_operator 1087 0.11 0.50 FAL: 65, TRU: 65 ilc_tabletholder 1091 0.10 0.87 TRU: 110, FAL: 16 ilc_covercap 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_deviceclamped 1091 0.10 0.89 TRU: 112, FAL: 14 ilc_devicefunc 1090 0.10 0.69 TRU: 87, FAL: 40 ilc_connections 1092 0.10 0.07 FAL: 116, TRU: 9 ilc_problems 1092 0.10 0.10 FAL: 113, TRU: 12 ilc_stock 1087 0.11 0.41 FAL: 77, TRU: 53 disp_tank_present 835 0.31 0.97 TRU: 370, FAL: 12 disp_casing_present 835 0.31 1.00 TRU: 381, FAL: 1 disp_pvc_pole_present 835 0.31 1.00 TRU: 381, FAL: 1 flag_wpcensus_conflict 1195 0.02 1.00 TRU: 22 disp_func 917 0.25 1.00 TRU: 299, FAL: 1 disp_filled 918 0.25 0.84 TRU: 251, FAL: 48 colorwheel_un 938 0.23 1.00 TRU: 279 colorimeter_un 1003 0.18 1.00 TRU: 214 meterfcr_nocl_zero 1003 0.18 1.00 TRU: 214 metertcr_nocl_zero 1003 0.18 1.00 TRU: 214 colorwheel 851 0.30 1.00 TRU: 366 jc_valve 923 0.24 1.00 TRU: 294 jc_chlorine 923 0.24 0.84 TRU: 247, FAL: 47 jc_mllost 923 0.24 0.27 FAL: 215, TRU: 79 colorimeter 852 0.30 1.00 TRU: 365 meterfcr_zero 897 0.26 1.00 TRU: 320 meterfcr_error04 1207 0.01 1.00 TRU: 10 metertcr_zero 897 0.26 1.00 TRU: 320 metertcr_error04 1204 0.01 1.00 TRU: 13 dsw 136 0.89 0.36 FAL: 692, TRU: 389 ilc 136 0.89 0.16 FAL: 913, TRU: 168 ilc_wp 136 0.89 0.03 FAL: 1046, TRU: 35 ilc_wcp 136 0.89 0.14 FAL: 927, TRU: 154 meterfcr_c_01 897 0.26 0.83 TRU: 265, FAL: 55 metertcr_c_01 898 0.26 0.87 TRU: 276, FAL: 43 discfcr_c_01 898 0.26 0.80 TRU: 256, FAL: 63 disctcr_c_01 898 0.26 0.85 TRU: 270, FAL: 49 meterfcr_un_c_01 1004 0.18 0.14 FAL: 183, TRU: 30 metertcr_un_c_01 1003 0.18 0.21 FAL: 168, TRU: 46 discfcr_un_c_01 938 0.23 0.01 FAL: 276, TRU: 3 disctcr_un_c_01 938 0.23 0.04 FAL: 269, TRU: 10 meterfcr_c_02 897 0.26 0.77 TRU: 247, FAL: 73 metertcr_c_02 898 0.26 0.82 TRU: 261, FAL: 58 discfcr_c_02 898 0.26 0.80 TRU: 256, FAL: 63 disctcr_c_02 898 0.26 0.85 TRU: 270, FAL: 49 meterfcr_un_c_02 1004 0.18 0.06 FAL: 200, TRU: 13 metertcr_un_c_02 1003 0.18 0.09 FAL: 194, TRU: 20 discfcr_un_c_02 938 0.23 0.01 FAL: 276, TRU: 3 disctcr_un_c_02 938 0.23 0.04 FAL: 269, TRU: 10 ea_dsw 0 1.00 0.83 TRU: 1010, FAL: 207 ea_ilc 0 1.00 0.32 FAL: 828, TRU: 389 vil_replaced 41 0.97 0.03 FAL: 1136, TRU: 40 potential_interference 41 0.97 0.05 FAL: 1121, TRU: 55 promoter_surveyed 0 1.00 0.26 FAL: 900, TRU: 317 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist n_obs 0 1.00 5.020000e+00 4.900000e-01 2.0 5.00 5.00 5.000000e+00 1.000000e+01 ▁▇▁▁▁ n_enum 0 1.00 5.000000e+00 4.100000e-01 2.0 5.00 5.00 5.000000e+00 8.000000e+00 ▁▁▇▁▁ n 0 1.00 4.610000e+00 7.300000e-01 1.0 4.00 5.00 5.000000e+00 1.000000e+01 ▁▃▇▁▁ wp_cost 948 0.22 1.452790e+03 1.989650e+03 50.0 500.00 1000.00 1.500000e+03 1.500000e+04 ▇▁▁▁▁ ilc_wcps 1093 0.10 1.756000e+01 8.977000e+01 1.0 1.00 3.00 1.900000e+01 1.000000e+03 ▇▁▁▁▁ ilc_tabletstock 1164 0.04 2.980000e+00 1.720000e+00 0.0 2.00 3.00 3.000000e+00 1.000000e+01 ▆▇▁▁▁ disp_dsw_id 956 0.21 1.381097e+08 7.119017e+08 870.0 70180587.00 80022200.00 8.305046e+07 8.204216e+09 ▇▁▁▁▁ count 709 0.42 1.240000e+00 7.900000e-01 1.0 1.00 1.00 1.000000e+00 5.000000e+00 ▇▁▁▁▁ jc_wait 965 0.21 1.657660e+03 6.159800e+02 0.0 1806.75 1846.00 1.977250e+03 2.597000e+03 ▁▁▁▇▂ discfcr_nocl_timestamp0 939 0.23 7.010300e+02 3.589400e+02 200.0 441.25 621.50 8.572500e+02 2.396000e+03 ▇▆▂▁▁ discfcr_nocl_timestamp1 939 0.23 9.473100e+02 4.330300e+02 240.0 632.25 868.50 1.162500e+03 2.895000e+03 ▇▇▂▁▁ discfcr_nocl_timestamp2 938 0.23 1.060680e+03 4.283900e+02 277.0 748.00 1007.00 1.284500e+03 3.015000e+03 ▆▇▂▁▁ discfcr_un 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ discfcr_nocl_confirm_un 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_timestamp0 939 0.23 1.159600e+03 4.592200e+02 307.0 823.50 1100.00 1.413750e+03 3.179000e+03 ▅▇▂▁▁ disctcr_nocl_timestamp1 938 0.23 1.278780e+03 4.944400e+02 322.0 927.50 1218.00 1.551500e+03 3.364000e+03 ▅▇▃▁▁ disctcr_nocl_timestamp2 938 0.23 1.520940e+03 5.044000e+02 349.0 1164.50 1486.00 1.795500e+03 3.640000e+03 ▂▇▅▁▁ disctcr_un 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_nocl_confirm_un 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp0 1003 0.18 7.223900e+02 3.996200e+02 191.0 455.25 645.00 9.057500e+02 3.718000e+03 ▇▂▁▁▁ meterfcr_nocl_timestamp1 1003 0.18 9.006700e+02 4.262200e+02 240.0 596.00 821.50 1.105500e+03 3.735000e+03 ▇▅▁▁▁ meterfcr_nocl_timestamp3 1003 0.18 1.021500e+03 4.401200e+02 280.0 707.00 949.00 1.257500e+03 3.772000e+03 ▇▆▁▁▁ meterfcr_nocl_timestamp4 1003 0.18 1.132050e+03 4.428200e+02 402.0 805.50 1078.00 1.365750e+03 3.894000e+03 ▇▆▁▁▁ meterfcr_un 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_confirm_un 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ meterfcr_nocl_timestamp5 1003 0.18 1.215730e+03 4.518200e+02 436.0 881.00 1154.50 1.467250e+03 3.935000e+03 ▇▇▁▁▁ meterfcr_nocl_timestamp6 1003 0.18 1.243010e+03 4.598300e+02 447.0 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp0 1003 0.18 1.243010e+03 4.598300e+02 447.0 901.50 1167.50 1.510750e+03 3.937000e+03 ▇▇▁▁▁ metertcr_nocl_timestamp1 1003 0.18 1.347570e+03 4.857000e+02 480.0 976.25 1319.50 1.644750e+03 3.966000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp3 1003 0.18 1.433340e+03 5.088900e+02 503.0 1037.75 1389.50 1.703750e+03 4.249000e+03 ▇▇▂▁▁ metertcr_nocl_timestamp4 1003 0.18 1.738610e+03 5.772100e+02 703.0 1317.75 1697.00 2.036750e+03 4.439000e+03 ▆▇▂▁▁ metertcr_un 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_confirm_un 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ metertcr_nocl_timestamp5 1003 0.18 1.899840e+03 7.241100e+02 818.0 1416.75 1786.50 2.215500e+03 5.882000e+03 ▇▆▁▁▁ metertcr_nocl_timestamp6 1003 0.18 1.912970e+03 7.261500e+02 821.0 1421.50 1793.50 2.219000e+03 5.885000e+03 ▇▆▁▁▁ discfcr_timestamp0 967 0.21 2.229800e+03 9.730800e+02 141.0 2109.00 2533.50 2.780250e+03 5.470000e+03 ▃▂▇▁▁ discfcr_timestamp1 898 0.26 2.498850e+03 1.033170e+03 152.0 2209.50 2700.00 3.073000e+03 5.805000e+03 ▂▂▇▁▁ discfcr_timestamp2 898 0.26 2.622110e+03 1.042430e+03 400.0 2316.00 2818.00 3.239500e+03 5.866000e+03 ▃▂▇▁▁ discfcr 898 0.26 6.300000e-01 5.200000e-01 0.0 0.20 0.60 1.000000e+00 3.200000e+00 ▇▅▁▁▁ disctcr_timestamp0 967 0.21 2.678210e+03 1.063770e+03 477.0 2440.50 2918.00 3.292000e+03 6.145000e+03 ▃▃▇▁▁ disctcr_timestamp1 898 0.26 2.884590e+03 1.103000e+03 519.0 2525.00 3050.00 3.508000e+03 6.515000e+03 ▃▃▇▁▁ disctcr_timestamp2 898 0.26 3.139310e+03 1.101400e+03 606.0 2771.00 3293.00 3.770000e+03 6.722000e+03 ▂▃▇▂▁ disctcr 898 0.26 8.200000e-01 6.400000e-01 0.0 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ jc_mldispensed 970 0.20 2.960000e+00 4.800000e-01 1.2 2.95 3.00 3.000000e+00 7.300000e+00 ▁▇▁▁▁ meterfcr_timestamp0 966 0.21 2.243380e+03 9.335800e+02 206.0 2088.50 2483.00 2.773500e+03 5.353000e+03 ▂▂▇▁▁ meterfcr_timestamp1 897 0.26 2.446100e+03 1.044830e+03 234.0 2187.25 2602.00 2.967750e+03 7.330000e+03 ▃▇▂▁▁ meterfcr_timestamp3 897 0.26 2.550840e+03 1.054850e+03 257.0 2263.25 2689.00 3.071500e+03 7.670000e+03 ▂▇▂▁▁ meterfcr_timestamp4 897 0.26 2.676980e+03 1.058170e+03 291.0 2396.00 2822.50 3.187250e+03 7.747000e+03 ▂▇▂▁▁ meterfcr 897 0.26 8.800000e-01 7.000000e-01 0.0 0.23 0.83 1.340000e+00 4.600000e+00 ▇▆▁▁▁ meterfcr_timestamp5 898 0.26 2.762750e+03 1.073730e+03 342.0 2468.50 2905.00 3.296500e+03 7.913000e+03 ▂▇▃▁▁ meterfcr_timestamp6 897 0.26 2.781980e+03 1.085220e+03 343.0 2467.50 2916.00 3.335500e+03 8.000000e+03 ▂▇▃▁▁ metertcr_timestamp0 966 0.21 2.706590e+03 1.017430e+03 343.0 2471.50 2899.00 3.242500e+03 5.967000e+03 ▂▂▇▁▁ metertcr_timestamp1 897 0.26 2.877560e+03 1.103180e+03 361.0 2510.50 3011.50 3.463750e+03 8.160000e+03 ▂▇▃▁▁ metertcr_timestamp3 897 0.26 2.958880e+03 1.131470e+03 386.0 2552.25 3096.50 3.519500e+03 8.850000e+03 ▂▇▂▁▁ metertcr_timestamp4 897 0.26 3.256600e+03 1.157050e+03 784.0 2831.75 3395.00 3.837750e+03 9.295000e+03 ▂▇▁▁▁ metertcr 899 0.26 9.600000e-01 7.300000e-01 0.0 0.38 0.93 1.430000e+00 5.100000e+00 ▇▆▁▁▁ metertcr_timestamp5 898 0.26 3.385280e+03 1.190200e+03 838.0 2891.50 3472.00 4.033000e+03 9.364000e+03 ▃▇▂▁▁ metertcr_timestamp6 897 0.26 3.410120e+03 1.200750e+03 839.0 2898.75 3482.00 4.072250e+03 9.414000e+03 ▃▇▂▁▁ dist_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ wp_id_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ collapse_flag 0 1.00 0.000000e+00 0.000000e+00 0.0 0.00 0.00 0.000000e+00 0.000000e+00 ▁▁▇▁▁ ea_id 682 0.44 2.226227e+10 3.700082e+10 7020106.0 70190745.50 82040010.00 7.523092e+10 8.707081e+10 ▇▁▁▁▃ meterfcr_c 897 0.26 8.600000e-01 6.500000e-01 0.0 0.23 0.83 1.340000e+00 2.400000e+00 ▇▅▆▃▂ metertcr_c 898 0.26 9.500000e-01 6.600000e-01 0.0 0.39 0.93 1.440000e+00 2.400000e+00 ▇▆▆▅▂ discfcr_c 898 0.26 6.300000e-01 5.200000e-01 0.0 0.20 0.60 1.000000e+00 3.200000e+00 ▇▅▁▁▁ disctcr_c 898 0.26 8.200000e-01 6.400000e-01 0.0 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ meterfcr_un_c 1004 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 6.000000e-02 7.800000e-01 ▇▁▁▁▁ metertcr_un_c 1003 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 9.000000e-02 2.200000e+00 ▇▁▁▁▁ discfcr_un_c 938 0.23 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_un_c 938 0.23 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ district_id 0 1.00 1.642300e+02 4.651000e+01 102.0 115.00 202.00 2.050000e+02 2.100000e+02 ▆▁▁▁▇ ilc_wpt_d 0 1.00 2.200000e-01 4.100000e-01 0.0 0.00 0.00 0.000000e+00 1.000000e+00 ▇▁▁▁▂ ilc_wcp_d 0 1.00 3.200000e-01 4.700000e-01 0.0 0.00 0.00 1.000000e+00 1.000000e+00 ▇▁▁▁▃ ilc_d 0 1.00 3.200000e-01 4.700000e-01 0.0 0.00 0.00 1.000000e+00 1.000000e+00 ▇▁▁▁▃ dsw_d 0 1.00 8.300000e-01 3.800000e-01 0.0 1.00 1.00 1.000000e+00 1.000000e+00 ▂▁▁▁▇ ea_n_dsw_vil 0 1.00 2.890000e+00 3.060000e+00 0.0 1.00 2.00 4.000000e+00 1.200000e+01 ▇▂▁▁▁ ea_n_ilc_wp_vil 0 1.00 3.400000e-01 6.800000e-01 0.0 0.00 0.00 0.000000e+00 3.000000e+00 ▇▁▁▁▁ ea_n_ilc_wcp_vil 0 1.00 2.630000e+00 6.920000e+00 0.0 0.00 0.00 1.000000e+00 3.100000e+01 ▇▁▁▁▁ ilc_cluster_id 949 0.22 2.090911e+04 5.888800e+02 20081.0 20263.00 21266.00 2.150600e+04 2.158300e+04 ▆▁▁▂▇ team 51 0.96 1.235000e+01 7.200000e+00 1.0 5.00 13.50 1.800000e+01 2.500000e+01 ▇▅▆▇▅ Variable type: POSIXct skim_variable n_missing complete_rate min max median n_unique submissiondate 0 1.00 2025-07-02 18:28:05 2025-08-22 17:46:21 2025-07-30 18:51:48 1210 spotcheck_time 709 0.42 2025-07-02 18:28:02 2025-08-23 06:32:45 2025-07-30 20:33:16 506 jc_time 917 0.25 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-28 18:29:16 299 cw_nocl_time 938 0.23 2025-07-21 17:40:30 2025-08-22 17:46:10 2025-08-01 16:54:57 278 meter_nocl_time 1003 0.18 2025-07-21 17:44:39 2025-08-19 15:22:54 2025-07-30 17:54:08 213 cw_time 851 0.30 2025-07-02 18:29:05 2025-08-23 06:32:41 2025-07-29 13:56:10 366 meter_time 852 0.30 2025-07-02 18:30:48 2025-08-23 06:32:32 2025-07-29 15:28:51 365 13.5 Order analysis variables Code wp &lt;- wp %&gt;% mutate( across( c(ilc_wp, ilc_wcp, dsw, ilc), ~ replace_na(., FALSE) ), analysis = wp_drink &amp; wp_multicompound, ) %&gt;% select( -c( wp_pay, wp_id ) ) %&gt;% select( # IDS wp_id_c, country, village_id, ilc_cluster_id, district_id, country, sample_group, sample, pre_expansion, vil_replaced, promoter_surveyed, # Metadata date, team, ends_with(&quot;enum&quot;), # Eligibility wp_multicompound, wp_drink, analysis, wp_promoter, # Evidence Action programs wp_dsw, wp_ilc_device, wp_ilc, dsw, ilc, ilc_wp, ilc_wcp, intervention_type, intervention, ea_id, ea_program, ea_ilc_wpt, ea_program_vil, # Water point characteristics sourcetype, wp_photo, wp_func, # WP spotcheck contains(&quot;wp_notfunc&quot;), wp_func_last, wp_turbidity, # Dispenser spotcheck starts_with(&quot;disp_&quot;), jc_mllost, jc_mldispensed, # Chlorine testing discid, contains(&quot;tubeid&quot;), meterid, contains(&quot;vialid&quot;), ends_with(&quot;cr_c&quot;), ends_with(&quot;un_c&quot;), ends_with(&quot;01&quot;), ends_with(&quot;02&quot;), # Costs wp_pay = wp_pay_c, wp_pay_userfees, wp_pay_maintenance, wp_cost, wp_cost_period, # Data quality flags contains(&quot;flag&quot;), contains(&quot;comments&quot;) ) 13.6 Export final data Code final &lt;- wp %&gt;% dplyr::filter(!vil_replaced) %&gt;% select(-vil_replaced) %&gt;% rename(wp_id = wp_id_c) %&gt;% set_names( names(.) %&gt;% str_replace_all(&quot;cr_c$&quot;, &quot;cr&quot;) %&gt;% str_replace_all(&quot;c_0&quot;, &quot;0&quot;) %&gt;% str_replace_all(&quot;un_c&quot;, &quot;un&quot;), ) %&gt;% remove_empty() %&gt;% remove_constant() ## value for &quot;which&quot; not specified, defaulting to c(&quot;rows&quot;, &quot;cols&quot;) Code path &lt;- file.path( &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Final&quot;, &quot;wp-census&quot; ) final %&gt;% write_meta( path_data = file.path(path_box, path), path_meta = file.path(path_git, path) ) ## Warning: There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. ## There was 1 warning in ## `dplyr::summarize()`. ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## ℹ In group 0: . ## Caused by warning: ## ! There were 4 warnings in ## `dplyr::summarize()`. ## The first warning was: ## ℹ In argument: ## `dplyr::across(tidyselect::any_of(variable_names), ## mangled_skimmers$funs)`. ## Caused by warning in `grepl()`: ## ! unable to translate &#39;These should be matched. They&lt;d5&gt;re both DSW, are nearby, and are both boreholes.&#39; to a wide string ## ℹ Run ## `dplyr::last_dplyr_warnings()` ## to see the 3 remaining ## warnings. Table 13.3: Data summary Name Piped data Number of rows 1136 Number of columns 115 _______________________ Column type frequency: character 37 Date 2 factor 12 logical 48 numeric 16 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace wp_id 0 1.00 13 13 0 1136 0 country 0 1.00 6 6 0 2 0 village_id 0 1.00 10 10 0 156 0 spotcheck_enum 640 0.44 4 8 0 132 0 jc_enum 846 0.26 5 8 0 113 0 cw_nocl_enum 867 0.24 4 7 0 103 0 meter_nocl_enum 932 0.18 4 7 0 102 0 cw_enum 780 0.31 4 8 0 125 0 meter_enum 781 0.31 4 8 0 127 0 ea_program 619 0.46 3 26 0 3 0 ea_ilc_wpt 968 0.15 8 8 0 36 0 wp_photo 25 0.98 17 17 0 1111 0 disp_dsw_datephoto 914 0.20 17 46 0 222 0 disp_photo 766 0.33 17 17 0 370 0 disp_barcode_photo 771 0.32 17 46 0 365 0 disp_barcode 771 0.32 5 7 0 362 0 discid 826 0.27 3 6 0 120 0 tubeid_nocl 867 0.24 4 4 0 100 0 tubeid_testtube_nocl 867 0.24 4 4 0 122 0 tubeid 826 0.27 4 4 0 112 0 tubeid_testtube 826 0.27 4 4 0 135 0 meterid 825 0.27 5 5 0 38 0 meterfcr_nocl_vialid 932 0.18 5 5 0 32 0 metertcr_nocl_vialid 932 0.18 5 5 0 31 0 meterfcr_vialid 825 0.27 5 5 0 35 0 metertcr_vialid 825 0.27 5 5 0 36 0 jc_comments 1019 0.10 2 548 0 105 0 discfcr_nocl_comments 1079 0.05 1 145 0 33 0 disctcr_nocl_comments 1079 0.05 1 88 0 36 0 meterfcr_nocl_comments 1104 0.03 5 84 0 23 0 metertcr_nocl_comments 1095 0.04 4 68 0 33 0 discfcr_comments 1078 0.05 2 67 0 37 0 disctcr_comments 1076 0.05 2 121 0 41 0 meterfcr_comments 1077 0.05 2 55 0 44 0 metertcr_comments 1069 0.06 2 298 0 48 0 meter_comments 1002 0.12 2 548 0 118 0 match_comments 916 0.19 3 423 0 63 0 Variable type: Date skim_variable n_missing complete_rate min max median n_unique date 0 1.00 2025-07-02 2025-08-22 2025-07-29 43 disp_dsw_date 953 0.16 1992-06-15 2025-08-01 2023-02-21 98 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts sample_group 0 1.00 TRUE 3 Exp: 425, Foo: 364, ILC: 347 sample 0 1.00 FALSE 2 Mai: 1071, Rep: 65 pre_expansion 0 1.00 FALSE 2 Exp: 762, Foo: 374 intervention_type 0 1.00 FALSE 4 Non: 602, DSW: 377, ILC: 133, ILC: 24 intervention 0 1.00 FALSE 3 Non: 602, DSW: 377, ILC: 157 ea_program_vil 0 1.00 FALSE 3 DSW: 769, ILC: 185, DSW: 182 sourcetype 89 0.92 FALSE 12 Bor: 503, Mun: 221, Pro: 110, Pro: 53 wp_func_last 1115 0.02 FALSE 4 Bet: 8, Les: 7, Bet: 3, Mor: 3 wp_turbidity 661 0.42 FALSE 4 1: 374, 2: 70, 3: 29, 4: 2 disp_dsw_gen 766 0.33 FALSE 2 Gen: 357, Gen: 13, Can: 0, Gen: 0 disp_dose 897 0.21 TRUE 3 3 m: 202, Les: 21, Mor: 16 wp_cost_period 862 0.24 FALSE 7 Mon: 127, As : 90, Ann: 42, Qua: 9 Variable type: logical skim_variable n_missing complete_rate mean count promoter_surveyed 0 1.00 0.27 FAL: 827, TRU: 309 wp_multicompound 0 1.00 0.95 TRU: 1074, FAL: 62 wp_drink 0 1.00 0.93 TRU: 1052, FAL: 84 analysis 0 1.00 0.90 TRU: 1024, FAL: 112 wp_promoter 622 0.45 0.12 FAL: 453, TRU: 61 wp_dsw 230 0.80 0.42 FAL: 525, TRU: 381 wp_ilc_device 91 0.92 0.12 FAL: 918, TRU: 127 wp_ilc 458 0.60 0.26 FAL: 503, TRU: 175 dsw 0 1.00 0.33 FAL: 759, TRU: 377 ilc 0 1.00 0.14 FAL: 979, TRU: 157 ilc_wp 0 1.00 0.02 FAL: 1112, TRU: 24 ilc_wcp 0 1.00 0.14 FAL: 982, TRU: 154 wp_func 0 1.00 0.87 TRU: 987, FAL: 149 wp_notfunc_dry 1131 0.00 0.20 FAL: 4, TRU: 1 wp_notfunc_pump 1131 0.00 1.00 TRU: 5 wp_notfunc_ilc_dry 1124 0.01 0.75 TRU: 9, FAL: 3 wp_notfunc_ilc_pump 1124 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_pipe 1124 0.01 0.17 FAL: 10, TRU: 2 wp_notfunc_ilc_tank 1124 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_closed 1124 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_power 1124 0.01 0.08 FAL: 11, TRU: 1 wp_notfunc_ilc_panel 1124 0.01 0.25 FAL: 9, TRU: 3 disp_tank_present 766 0.33 0.97 TRU: 358, FAL: 12 disp_casing_present 766 0.33 1.00 TRU: 369, FAL: 1 disp_pvc_pole_present 766 0.33 1.00 TRU: 369, FAL: 1 disp_func 846 0.26 1.00 TRU: 289, FAL: 1 disp_filled 847 0.25 0.84 TRU: 242, FAL: 47 jc_mllost 852 0.25 0.27 FAL: 207, TRU: 77 meterfcr_01 825 0.27 0.82 TRU: 256, FAL: 55 metertcr_01 826 0.27 0.86 TRU: 267, FAL: 43 discfcr_01 826 0.27 0.80 TRU: 247, FAL: 63 disctcr_01 826 0.27 0.84 TRU: 261, FAL: 49 meterfcr_un_01 933 0.18 0.14 FAL: 175, TRU: 28 metertcr_un_01 932 0.18 0.21 FAL: 162, TRU: 42 discfcr_un_01 867 0.24 0.01 FAL: 266, TRU: 3 disctcr_un_01 867 0.24 0.03 FAL: 260, TRU: 9 meterfcr_02 825 0.27 0.77 TRU: 238, FAL: 73 metertcr_02 826 0.27 0.81 TRU: 252, FAL: 58 discfcr_02 826 0.27 0.80 TRU: 247, FAL: 63 disctcr_02 826 0.27 0.84 TRU: 261, FAL: 49 meterfcr_un_02 933 0.18 0.06 FAL: 190, TRU: 13 metertcr_un_02 932 0.18 0.09 FAL: 185, TRU: 19 discfcr_un_02 867 0.24 0.01 FAL: 266, TRU: 3 disctcr_un_02 867 0.24 0.03 FAL: 260, TRU: 9 wp_pay 662 0.42 0.58 TRU: 274, FAL: 200 wp_pay_userfees 862 0.24 0.08 FAL: 251, TRU: 23 wp_pay_maintenance 862 0.24 0.93 TRU: 254, FAL: 20 flag_wpcensus_conflict 1114 0.02 1.00 TRU: 22 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist ilc_cluster_id 887 0.22 2.095727e+04 5.835300e+02 20081.0 20263.00 21266.00 2.154800e+04 2.158300e+04 ▅▁▁▂▇ district_id 0 1.00 1.661600e+02 4.629000e+01 102.0 115.00 202.00 2.050000e+02 2.100000e+02 ▆▁▁▁▇ team 10 0.99 1.237000e+01 7.250000e+00 1.0 5.00 14.00 1.800000e+01 2.500000e+01 ▇▅▆▇▅ n_enum 0 1.00 5.000000e+00 4.300000e-01 2.0 5.00 5.00 5.000000e+00 8.000000e+00 ▁▁▇▁▁ ea_id 615 0.46 2.285933e+10 3.731315e+10 7020106.0 70210253.00 82040169.00 8.106293e+10 8.707081e+10 ▇▁▁▁▃ disp_dsw_id 878 0.23 1.388990e+08 7.160067e+08 870.0 70180541.25 80022201.50 8.305062e+07 8.204216e+09 ▇▁▁▁▁ jc_mldispensed 898 0.21 2.970000e+00 4.800000e-01 1.2 3.00 3.00 3.000000e+00 7.300000e+00 ▁▇▁▁▁ meterfcr 825 0.27 8.500000e-01 6.500000e-01 0.0 0.23 0.83 1.310000e+00 2.400000e+00 ▇▅▅▃▂ metertcr 826 0.27 9.400000e-01 6.700000e-01 0.0 0.37 0.89 1.410000e+00 2.400000e+00 ▇▆▅▃▂ discfcr 826 0.27 6.300000e-01 5.300000e-01 0.0 0.20 0.60 8.000000e-01 3.200000e+00 ▇▅▁▁▁ disctcr 826 0.27 8.100000e-01 6.500000e-01 0.0 0.40 0.80 1.200000e+00 3.400000e+00 ▇▆▂▁▁ meterfcr_un 933 0.18 5.000000e-02 9.000000e-02 0.0 0.01 0.03 5.000000e-02 7.800000e-01 ▇▁▁▁▁ metertcr_un 932 0.18 9.000000e-02 2.200000e-01 0.0 0.02 0.04 8.000000e-02 2.200000e+00 ▇▁▁▁▁ discfcr_un 867 0.24 0.000000e+00 2.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ disctcr_un 867 0.24 1.000000e-02 4.000000e-02 0.0 0.00 0.00 0.000000e+00 2.000000e-01 ▇▁▁▁▁ wp_cost 869 0.24 1.448690e+03 1.996550e+03 50.0 500.00 1000.00 1.500000e+03 1.500000e+04 ▇▁▁▁▁ Code final %&gt;% mutate( across( where(is.logical), ~ as.numeric(.) ) ) %&gt;% write_dta( file.path( path_box, &quot;Data&quot;, &quot;WaterPointCensus&quot;, &quot;DataSets&quot;, &quot;Final&quot;, &quot;wp-census.dta&quot; ) ) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
